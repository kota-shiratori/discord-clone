var zT=Object.defineProperty;var jT=(n,e,t)=>e in n?zT(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var _l=(n,e,t)=>jT(n,typeof e!="symbol"?e+"":e,t);function BT(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in n)){const a=Object.getOwnPropertyDescriptor(i,o);a&&Object.defineProperty(n,o,a.get?a:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function $T(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Uf={exports:{}},wl={},zf={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gv;function WT(){if(gv)return be;gv=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),T=Symbol.iterator;function I(F){return F===null||typeof F!="object"?null:(F=T&&F[T]||F["@@iterator"],typeof F=="function"?F:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,V={};function M(F,Y,ye){this.props=F,this.context=Y,this.refs=V,this.updater=ye||x}M.prototype.isReactComponent={},M.prototype.setState=function(F,Y){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,Y,"setState")},M.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function K(){}K.prototype=M.prototype;function J(F,Y,ye){this.props=F,this.context=Y,this.refs=V,this.updater=ye||x}var W=J.prototype=new K;W.constructor=J,N(W,M.prototype),W.isPureReactComponent=!0;var B=Array.isArray,U=Object.prototype.hasOwnProperty,Q={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function C(F,Y,ye){var Ee,Pe={},Ne=null,ze=null;if(Y!=null)for(Ee in Y.ref!==void 0&&(ze=Y.ref),Y.key!==void 0&&(Ne=""+Y.key),Y)U.call(Y,Ee)&&!A.hasOwnProperty(Ee)&&(Pe[Ee]=Y[Ee]);var je=arguments.length-2;if(je===1)Pe.children=ye;else if(1<je){for(var Xe=Array(je),_t=0;_t<je;_t++)Xe[_t]=arguments[_t+2];Pe.children=Xe}if(F&&F.defaultProps)for(Ee in je=F.defaultProps,je)Pe[Ee]===void 0&&(Pe[Ee]=je[Ee]);return{$$typeof:n,type:F,key:Ne,ref:ze,props:Pe,_owner:Q.current}}function k(F,Y){return{$$typeof:n,type:F.type,key:Y,ref:F.ref,props:F.props,_owner:F._owner}}function _(F){return typeof F=="object"&&F!==null&&F.$$typeof===n}function P(F){var Y={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(ye){return Y[ye]})}var O=/\/+/g;function R(F,Y){return typeof F=="object"&&F!==null&&F.key!=null?P(""+F.key):Y.toString(36)}function Ce(F,Y,ye,Ee,Pe){var Ne=typeof F;(Ne==="undefined"||Ne==="boolean")&&(F=null);var ze=!1;if(F===null)ze=!0;else switch(Ne){case"string":case"number":ze=!0;break;case"object":switch(F.$$typeof){case n:case e:ze=!0}}if(ze)return ze=F,Pe=Pe(ze),F=Ee===""?"."+R(ze,0):Ee,B(Pe)?(ye="",F!=null&&(ye=F.replace(O,"$&/")+"/"),Ce(Pe,Y,ye,"",function(_t){return _t})):Pe!=null&&(_(Pe)&&(Pe=k(Pe,ye+(!Pe.key||ze&&ze.key===Pe.key?"":(""+Pe.key).replace(O,"$&/")+"/")+F)),Y.push(Pe)),1;if(ze=0,Ee=Ee===""?".":Ee+":",B(F))for(var je=0;je<F.length;je++){Ne=F[je];var Xe=Ee+R(Ne,je);ze+=Ce(Ne,Y,ye,Xe,Pe)}else if(Xe=I(F),typeof Xe=="function")for(F=Xe.call(F),je=0;!(Ne=F.next()).done;)Ne=Ne.value,Xe=Ee+R(Ne,je++),ze+=Ce(Ne,Y,ye,Xe,Pe);else if(Ne==="object")throw Y=String(F),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return ze}function Ue(F,Y,ye){if(F==null)return F;var Ee=[],Pe=0;return Ce(F,Ee,"","",function(Ne){return Y.call(ye,Ne,Pe++)}),Ee}function qe(F){if(F._status===-1){var Y=F._result;Y=Y(),Y.then(function(ye){(F._status===0||F._status===-1)&&(F._status=1,F._result=ye)},function(ye){(F._status===0||F._status===-1)&&(F._status=2,F._result=ye)}),F._status===-1&&(F._status=0,F._result=Y)}if(F._status===1)return F._result.default;throw F._result}var xe={current:null},se={transition:null},pe={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:se,ReactCurrentOwner:Q};function le(){throw Error("act(...) is not supported in production builds of React.")}return be.Children={map:Ue,forEach:function(F,Y,ye){Ue(F,function(){Y.apply(this,arguments)},ye)},count:function(F){var Y=0;return Ue(F,function(){Y++}),Y},toArray:function(F){return Ue(F,function(Y){return Y})||[]},only:function(F){if(!_(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},be.Component=M,be.Fragment=t,be.Profiler=o,be.PureComponent=J,be.StrictMode=i,be.Suspense=p,be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,be.act=le,be.cloneElement=function(F,Y,ye){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var Ee=N({},F.props),Pe=F.key,Ne=F.ref,ze=F._owner;if(Y!=null){if(Y.ref!==void 0&&(Ne=Y.ref,ze=Q.current),Y.key!==void 0&&(Pe=""+Y.key),F.type&&F.type.defaultProps)var je=F.type.defaultProps;for(Xe in Y)U.call(Y,Xe)&&!A.hasOwnProperty(Xe)&&(Ee[Xe]=Y[Xe]===void 0&&je!==void 0?je[Xe]:Y[Xe])}var Xe=arguments.length-2;if(Xe===1)Ee.children=ye;else if(1<Xe){je=Array(Xe);for(var _t=0;_t<Xe;_t++)je[_t]=arguments[_t+2];Ee.children=je}return{$$typeof:n,type:F.type,key:Pe,ref:Ne,props:Ee,_owner:ze}},be.createContext=function(F){return F={$$typeof:c,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:a,_context:F},F.Consumer=F},be.createElement=C,be.createFactory=function(F){var Y=C.bind(null,F);return Y.type=F,Y},be.createRef=function(){return{current:null}},be.forwardRef=function(F){return{$$typeof:d,render:F}},be.isValidElement=_,be.lazy=function(F){return{$$typeof:w,_payload:{_status:-1,_result:F},_init:qe}},be.memo=function(F,Y){return{$$typeof:y,type:F,compare:Y===void 0?null:Y}},be.startTransition=function(F){var Y=se.transition;se.transition={};try{F()}finally{se.transition=Y}},be.unstable_act=le,be.useCallback=function(F,Y){return xe.current.useCallback(F,Y)},be.useContext=function(F){return xe.current.useContext(F)},be.useDebugValue=function(){},be.useDeferredValue=function(F){return xe.current.useDeferredValue(F)},be.useEffect=function(F,Y){return xe.current.useEffect(F,Y)},be.useId=function(){return xe.current.useId()},be.useImperativeHandle=function(F,Y,ye){return xe.current.useImperativeHandle(F,Y,ye)},be.useInsertionEffect=function(F,Y){return xe.current.useInsertionEffect(F,Y)},be.useLayoutEffect=function(F,Y){return xe.current.useLayoutEffect(F,Y)},be.useMemo=function(F,Y){return xe.current.useMemo(F,Y)},be.useReducer=function(F,Y,ye){return xe.current.useReducer(F,Y,ye)},be.useRef=function(F){return xe.current.useRef(F)},be.useState=function(F){return xe.current.useState(F)},be.useSyncExternalStore=function(F,Y,ye){return xe.current.useSyncExternalStore(F,Y,ye)},be.useTransition=function(){return xe.current.useTransition()},be.version="18.3.1",be}var yv;function Ph(){return yv||(yv=1,zf.exports=WT()),zf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vv;function HT(){if(vv)return wl;vv=1;var n=Ph(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(d,p,y){var w,T={},I=null,x=null;y!==void 0&&(I=""+y),p.key!==void 0&&(I=""+p.key),p.ref!==void 0&&(x=p.ref);for(w in p)i.call(p,w)&&!a.hasOwnProperty(w)&&(T[w]=p[w]);if(d&&d.defaultProps)for(w in p=d.defaultProps,p)T[w]===void 0&&(T[w]=p[w]);return{$$typeof:e,type:d,key:I,ref:x,props:T,_owner:o.current}}return wl.Fragment=t,wl.jsx=c,wl.jsxs=c,wl}var _v;function qT(){return _v||(_v=1,Uf.exports=HT()),Uf.exports}var X=qT(),ae=Ph();const Us=$T(ae),eh=BT({__proto__:null,default:Us},[ae]);var kc={},jf={exports:{}},mn={},Bf={exports:{}},$f={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wv;function KT(){return wv||(wv=1,function(n){function e(se,pe){var le=se.length;se.push(pe);e:for(;0<le;){var F=le-1>>>1,Y=se[F];if(0<o(Y,pe))se[F]=pe,se[le]=Y,le=F;else break e}}function t(se){return se.length===0?null:se[0]}function i(se){if(se.length===0)return null;var pe=se[0],le=se.pop();if(le!==pe){se[0]=le;e:for(var F=0,Y=se.length,ye=Y>>>1;F<ye;){var Ee=2*(F+1)-1,Pe=se[Ee],Ne=Ee+1,ze=se[Ne];if(0>o(Pe,le))Ne<Y&&0>o(ze,Pe)?(se[F]=ze,se[Ne]=le,F=Ne):(se[F]=Pe,se[Ee]=le,F=Ee);else if(Ne<Y&&0>o(ze,le))se[F]=ze,se[Ne]=le,F=Ne;else break e}}return pe}function o(se,pe){var le=se.sortIndex-pe.sortIndex;return le!==0?le:se.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],y=[],w=1,T=null,I=3,x=!1,N=!1,V=!1,M=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function W(se){for(var pe=t(y);pe!==null;){if(pe.callback===null)i(y);else if(pe.startTime<=se)i(y),pe.sortIndex=pe.expirationTime,e(p,pe);else break;pe=t(y)}}function B(se){if(V=!1,W(se),!N)if(t(p)!==null)N=!0,qe(U);else{var pe=t(y);pe!==null&&xe(B,pe.startTime-se)}}function U(se,pe){N=!1,V&&(V=!1,K(C),C=-1),x=!0;var le=I;try{for(W(pe),T=t(p);T!==null&&(!(T.expirationTime>pe)||se&&!P());){var F=T.callback;if(typeof F=="function"){T.callback=null,I=T.priorityLevel;var Y=F(T.expirationTime<=pe);pe=n.unstable_now(),typeof Y=="function"?T.callback=Y:T===t(p)&&i(p),W(pe)}else i(p);T=t(p)}if(T!==null)var ye=!0;else{var Ee=t(y);Ee!==null&&xe(B,Ee.startTime-pe),ye=!1}return ye}finally{T=null,I=le,x=!1}}var Q=!1,A=null,C=-1,k=5,_=-1;function P(){return!(n.unstable_now()-_<k)}function O(){if(A!==null){var se=n.unstable_now();_=se;var pe=!0;try{pe=A(!0,se)}finally{pe?R():(Q=!1,A=null)}}else Q=!1}var R;if(typeof J=="function")R=function(){J(O)};else if(typeof MessageChannel<"u"){var Ce=new MessageChannel,Ue=Ce.port2;Ce.port1.onmessage=O,R=function(){Ue.postMessage(null)}}else R=function(){M(O,0)};function qe(se){A=se,Q||(Q=!0,R())}function xe(se,pe){C=M(function(){se(n.unstable_now())},pe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(se){se.callback=null},n.unstable_continueExecution=function(){N||x||(N=!0,qe(U))},n.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<se?Math.floor(1e3/se):5},n.unstable_getCurrentPriorityLevel=function(){return I},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(se){switch(I){case 1:case 2:case 3:var pe=3;break;default:pe=I}var le=I;I=pe;try{return se()}finally{I=le}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(se,pe){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var le=I;I=se;try{return pe()}finally{I=le}},n.unstable_scheduleCallback=function(se,pe,le){var F=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?F+le:F):le=F,se){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=le+Y,se={id:w++,callback:pe,priorityLevel:se,startTime:le,expirationTime:Y,sortIndex:-1},le>F?(se.sortIndex=le,e(y,se),t(p)===null&&se===t(y)&&(V?(K(C),C=-1):V=!0,xe(B,le-F))):(se.sortIndex=Y,e(p,se),N||x||(N=!0,qe(U))),se},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(se){var pe=I;return function(){var le=I;I=pe;try{return se.apply(this,arguments)}finally{I=le}}}}($f)),$f}var Ev;function GT(){return Ev||(Ev=1,Bf.exports=KT()),Bf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv;function QT(){if(Tv)return mn;Tv=1;var n=Ph(),e=GT();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},T={};function I(r){return p.call(T,r)?!0:p.call(w,r)?!1:y.test(r)?T[r]=!0:(w[r]=!0,!1)}function x(r,s,l,h){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function N(r,s,l,h){if(s===null||typeof s>"u"||x(r,s,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function V(r,s,l,h,f,g,E){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=f,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=E}var M={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){M[r]=new V(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];M[s]=new V(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){M[r]=new V(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){M[r]=new V(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){M[r]=new V(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){M[r]=new V(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){M[r]=new V(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){M[r]=new V(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){M[r]=new V(r,5,!1,r.toLowerCase(),null,!1,!1)});var K=/[\-:]([a-z])/g;function J(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(K,J);M[s]=new V(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(K,J);M[s]=new V(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(K,J);M[s]=new V(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){M[r]=new V(r,1,!1,r.toLowerCase(),null,!1,!1)}),M.xlinkHref=new V("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){M[r]=new V(r,1,!1,r.toLowerCase(),null,!0,!0)});function W(r,s,l,h){var f=M.hasOwnProperty(s)?M[s]:null;(f!==null?f.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(N(s,l,f,h)&&(l=null),h||f===null?I(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):f.mustUseProperty?r[f.propertyName]=l===null?f.type===3?!1:"":l:(s=f.attributeName,h=f.attributeNamespace,l===null?r.removeAttribute(s):(f=f.type,l=f===3||f===4&&l===!0?"":""+l,h?r.setAttributeNS(h,s,l):r.setAttribute(s,l))))}var B=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,U=Symbol.for("react.element"),Q=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),P=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),Ce=Symbol.for("react.suspense_list"),Ue=Symbol.for("react.memo"),qe=Symbol.for("react.lazy"),xe=Symbol.for("react.offscreen"),se=Symbol.iterator;function pe(r){return r===null||typeof r!="object"?null:(r=se&&r[se]||r["@@iterator"],typeof r=="function"?r:null)}var le=Object.assign,F;function Y(r){if(F===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);F=s&&s[1]||""}return`
`+F+r}var ye=!1;function Ee(r,s){if(!r||ye)return"";ye=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(H){var h=H}Reflect.construct(r,[],s)}else{try{s.call()}catch(H){h=H}r.call(s.prototype)}else{try{throw Error()}catch(H){h=H}r()}}catch(H){if(H&&h&&typeof H.stack=="string"){for(var f=H.stack.split(`
`),g=h.stack.split(`
`),E=f.length-1,b=g.length-1;1<=E&&0<=b&&f[E]!==g[b];)b--;for(;1<=E&&0<=b;E--,b--)if(f[E]!==g[b]){if(E!==1||b!==1)do if(E--,b--,0>b||f[E]!==g[b]){var D=`
`+f[E].replace(" at new "," at ");return r.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",r.displayName)),D}while(1<=E&&0<=b);break}}}finally{ye=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?Y(r):""}function Pe(r){switch(r.tag){case 5:return Y(r.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return r=Ee(r.type,!1),r;case 11:return r=Ee(r.type.render,!1),r;case 1:return r=Ee(r.type,!0),r;default:return""}}function Ne(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case A:return"Fragment";case Q:return"Portal";case k:return"Profiler";case C:return"StrictMode";case R:return"Suspense";case Ce:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case P:return(r.displayName||"Context")+".Consumer";case _:return(r._context.displayName||"Context")+".Provider";case O:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Ue:return s=r.displayName||null,s!==null?s:Ne(r.type)||"Memo";case qe:s=r._payload,r=r._init;try{return Ne(r(s))}catch{}}return null}function ze(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ne(s);case 8:return s===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function je(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Xe(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function _t(r){var s=Xe(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,g=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(E){h=""+E,g.call(this,E)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(E){h=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Qn(r){r._valueTracker||(r._valueTracker=_t(r))}function _i(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return r&&(h=Xe(r)?r.checked?"true":"false":r.value),r=h,r!==l?(s.setValue(r),!0):!1}function gr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Ur(r,s){var l=s.checked;return le({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function yr(r,s){var l=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;l=je(s.value!=null?s.value:l),r._wrapperState={initialChecked:h,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function os(r,s){s=s.checked,s!=null&&W(r,"checked",s,!1)}function as(r,s){os(r,s);var l=je(s.value),h=s.type;if(l!=null)h==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?On(r,s.type,l):s.hasOwnProperty("defaultValue")&&On(r,s.type,je(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function zr(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function On(r,s,l){(s!=="number"||gr(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var Xn=Array.isArray;function Dn(r,s,l,h){if(r=r.options,s){s={};for(var f=0;f<l.length;f++)s["$"+l[f]]=!0;for(l=0;l<r.length;l++)f=s.hasOwnProperty("$"+r[l].value),r[l].selected!==f&&(r[l].selected=f),f&&h&&(r[l].defaultSelected=!0)}else{for(l=""+je(l),s=null,f=0;f<r.length;f++){if(r[f].value===l){r[f].selected=!0,h&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function ls(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return le({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Te(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(Xn(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:je(l)}}function jr(r,s){var l=je(s.value),h=je(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),h!=null&&(r.defaultValue=""+h)}function us(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function ht(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wt(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?ht(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Br,Pa=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,h,f){MSApp.execUnsafeLocalFunction(function(){return r(s,l,h,f)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Br=Br||document.createElement("div"),Br.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Br.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function wi(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var cs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hs=["Webkit","ms","Moz","O"];Object.keys(cs).forEach(function(r){hs.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),cs[s]=cs[r]})});function ba(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||cs.hasOwnProperty(r)&&cs[r]?(""+s).trim():s+"px"}function xa(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var h=l.indexOf("--")===0,f=ba(l,s[l],h);l==="float"&&(l="cssFloat"),h?r.setProperty(l,f):r[l]=f}}var Na=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Oa(r,s){if(s){if(Na[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Da(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ds=null;function ro(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var io=null,Vn=null,vr=null;function so(r){if(r=il(r)){if(typeof io!="function")throw Error(t(280));var s=r.stateNode;s&&(s=$u(s),io(r.stateNode,r.type,s))}}function _r(r){Vn?vr?vr.push(r):vr=[r]:Vn=r}function Va(){if(Vn){var r=Vn,s=vr;if(vr=Vn=null,so(r),s)for(r=0;r<s.length;r++)so(s[r])}}function fs(r,s){return r(s)}function Ma(){}var $r=!1;function La(r,s,l){if($r)return r(s,l);$r=!0;try{return fs(r,s,l)}finally{$r=!1,(Vn!==null||vr!==null)&&(Ma(),Va())}}function mt(r,s){var l=r.stateNode;if(l===null)return null;var h=$u(l);if(h===null)return null;l=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var oo=!1;if(d)try{var Yn={};Object.defineProperty(Yn,"passive",{get:function(){oo=!0}}),window.addEventListener("test",Yn,Yn),window.removeEventListener("test",Yn,Yn)}catch{oo=!1}function ps(r,s,l,h,f,g,E,b,D){var H=Array.prototype.slice.call(arguments,3);try{s.apply(l,H)}catch(ne){this.onError(ne)}}var ms=!1,ao=null,Jn=!1,Fa=null,dd={onError:function(r){ms=!0,ao=r}};function lo(r,s,l,h,f,g,E,b,D){ms=!1,ao=null,ps.apply(dd,arguments)}function pu(r,s,l,h,f,g,E,b,D){if(lo.apply(this,arguments),ms){if(ms){var H=ao;ms=!1,ao=null}else throw Error(t(198));Jn||(Jn=!0,Fa=H)}}function Zn(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function gs(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function er(r){if(Zn(r)!==r)throw Error(t(188))}function mu(r){var s=r.alternate;if(!s){if(s=Zn(r),s===null)throw Error(t(188));return s!==r?null:r}for(var l=r,h=s;;){var f=l.return;if(f===null)break;var g=f.alternate;if(g===null){if(h=f.return,h!==null){l=h;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===l)return er(f),r;if(g===h)return er(f),s;g=g.sibling}throw Error(t(188))}if(l.return!==h.return)l=f,h=g;else{for(var E=!1,b=f.child;b;){if(b===l){E=!0,l=f,h=g;break}if(b===h){E=!0,h=f,l=g;break}b=b.sibling}if(!E){for(b=g.child;b;){if(b===l){E=!0,l=g,h=f;break}if(b===h){E=!0,h=g,l=f;break}b=b.sibling}if(!E)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?r:s}function Ua(r){return r=mu(r),r!==null?uo(r):null}function uo(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=uo(r);if(s!==null)return s;r=r.sibling}return null}var co=e.unstable_scheduleCallback,za=e.unstable_cancelCallback,gu=e.unstable_shouldYield,fd=e.unstable_requestPaint,et=e.unstable_now,yu=e.unstable_getCurrentPriorityLevel,ys=e.unstable_ImmediatePriority,Ei=e.unstable_UserBlockingPriority,Mn=e.unstable_NormalPriority,ja=e.unstable_LowPriority,vu=e.unstable_IdlePriority,vs=null,vn=null;function _u(r){if(vn&&typeof vn.onCommitFiberRoot=="function")try{vn.onCommitFiberRoot(vs,r,void 0,(r.current.flags&128)===128)}catch{}}var rn=Math.clz32?Math.clz32:Eu,Ba=Math.log,wu=Math.LN2;function Eu(r){return r>>>=0,r===0?32:31-(Ba(r)/wu|0)|0}var ho=64,fo=4194304;function Ti(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function _s(r,s){var l=r.pendingLanes;if(l===0)return 0;var h=0,f=r.suspendedLanes,g=r.pingedLanes,E=l&268435455;if(E!==0){var b=E&~f;b!==0?h=Ti(b):(g&=E,g!==0&&(h=Ti(g)))}else E=l&~f,E!==0?h=Ti(E):g!==0&&(h=Ti(g));if(h===0)return 0;if(s!==0&&s!==h&&!(s&f)&&(f=h&-h,g=s&-s,f>=g||f===16&&(g&4194240)!==0))return s;if(h&4&&(h|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)l=31-rn(s),f=1<<l,h|=r[l],s&=~f;return h}function pd(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wr(r,s){for(var l=r.suspendedLanes,h=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes;0<g;){var E=31-rn(g),b=1<<E,D=f[E];D===-1?(!(b&l)||b&h)&&(f[E]=pd(b,s)):D<=s&&(r.expiredLanes|=b),g&=~b}}function _n(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function ws(){var r=ho;return ho<<=1,!(ho&4194240)&&(ho=64),r}function Si(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function Ii(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-rn(s),r[s]=l}function Ye(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<l;){var f=31-rn(l),g=1<<f;s[f]=0,h[f]=-1,r[f]=-1,l&=~g}}function Ci(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var h=31-rn(l),f=1<<h;f&s|r[h]&s&&(r[h]|=s),l&=~f}}var Ve=0;function Ai(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var Tu,po,Su,Iu,Cu,$a=!1,wr=[],Mt=null,tr=null,nr=null,Ri=new Map,Ln=new Map,Er=[],md="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Au(r,s){switch(r){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":tr=null;break;case"mouseover":case"mouseout":nr=null;break;case"pointerover":case"pointerout":Ri.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ln.delete(s.pointerId)}}function ln(r,s,l,h,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:g,targetContainers:[f]},s!==null&&(s=il(s),s!==null&&po(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function gd(r,s,l,h,f){switch(s){case"focusin":return Mt=ln(Mt,r,s,l,h,f),!0;case"dragenter":return tr=ln(tr,r,s,l,h,f),!0;case"mouseover":return nr=ln(nr,r,s,l,h,f),!0;case"pointerover":var g=f.pointerId;return Ri.set(g,ln(Ri.get(g)||null,r,s,l,h,f)),!0;case"gotpointercapture":return g=f.pointerId,Ln.set(g,ln(Ln.get(g)||null,r,s,l,h,f)),!0}return!1}function Ru(r){var s=Cs(r.target);if(s!==null){var l=Zn(s);if(l!==null){if(s=l.tag,s===13){if(s=gs(l),s!==null){r.blockedOn=s,Cu(r.priority,function(){Su(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Hr(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=mo(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var h=new l.constructor(l.type,l);ds=h,l.target.dispatchEvent(h),ds=null}else return s=il(l),s!==null&&po(s),r.blockedOn=l,!1;s.shift()}return!0}function Es(r,s,l){Hr(r)&&l.delete(s)}function ku(){$a=!1,Mt!==null&&Hr(Mt)&&(Mt=null),tr!==null&&Hr(tr)&&(tr=null),nr!==null&&Hr(nr)&&(nr=null),Ri.forEach(Es),Ln.forEach(Es)}function rr(r,s){r.blockedOn===s&&(r.blockedOn=null,$a||($a=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ku)))}function ir(r){function s(f){return rr(f,r)}if(0<wr.length){rr(wr[0],r);for(var l=1;l<wr.length;l++){var h=wr[l];h.blockedOn===r&&(h.blockedOn=null)}}for(Mt!==null&&rr(Mt,r),tr!==null&&rr(tr,r),nr!==null&&rr(nr,r),Ri.forEach(s),Ln.forEach(s),l=0;l<Er.length;l++)h=Er[l],h.blockedOn===r&&(h.blockedOn=null);for(;0<Er.length&&(l=Er[0],l.blockedOn===null);)Ru(l),l.blockedOn===null&&Er.shift()}var qr=B.ReactCurrentBatchConfig,ki=!0;function st(r,s,l,h){var f=Ve,g=qr.transition;qr.transition=null;try{Ve=1,Wa(r,s,l,h)}finally{Ve=f,qr.transition=g}}function yd(r,s,l,h){var f=Ve,g=qr.transition;qr.transition=null;try{Ve=4,Wa(r,s,l,h)}finally{Ve=f,qr.transition=g}}function Wa(r,s,l,h){if(ki){var f=mo(r,s,l,h);if(f===null)kd(r,s,h,Ts,l),Au(r,h);else if(gd(f,r,s,l,h))h.stopPropagation();else if(Au(r,h),s&4&&-1<md.indexOf(r)){for(;f!==null;){var g=il(f);if(g!==null&&Tu(g),g=mo(r,s,l,h),g===null&&kd(r,s,h,Ts,l),g===f)break;f=g}f!==null&&h.stopPropagation()}else kd(r,s,h,null,l)}}var Ts=null;function mo(r,s,l,h){if(Ts=null,r=ro(h),r=Cs(r),r!==null)if(s=Zn(r),s===null)r=null;else if(l=s.tag,l===13){if(r=gs(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Ts=r,null}function Ha(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yu()){case ys:return 1;case Ei:return 4;case Mn:case ja:return 16;case vu:return 536870912;default:return 16}default:return 16}}var wn=null,go=null,un=null;function qa(){if(un)return un;var r,s=go,l=s.length,h,f="value"in wn?wn.value:wn.textContent,g=f.length;for(r=0;r<l&&s[r]===f[r];r++);var E=l-r;for(h=1;h<=E&&s[l-h]===f[g-h];h++);return un=f.slice(r,1<h?1-h:void 0)}function yo(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Tr(){return!0}function Ka(){return!1}function Lt(r){function s(l,h,f,g,E){this._reactName=l,this._targetInst=f,this.type=h,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var b in r)r.hasOwnProperty(b)&&(l=r[b],this[b]=l?l(g):g[b]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Tr:Ka,this.isPropagationStopped=Ka,this}return le(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Tr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Tr)},persist:function(){},isPersistent:Tr}),s}var sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vo=Lt(sr),Sr=le({},sr,{view:0,detail:0}),vd=Lt(Sr),_o,Kr,Pi,Ss=le({},Sr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ir,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Pi&&(Pi&&r.type==="mousemove"?(_o=r.screenX-Pi.screenX,Kr=r.screenY-Pi.screenY):Kr=_o=0,Pi=r),_o)},movementY:function(r){return"movementY"in r?r.movementY:Kr}}),wo=Lt(Ss),Ga=le({},Ss,{dataTransfer:0}),Pu=Lt(Ga),Eo=le({},Sr,{relatedTarget:0}),To=Lt(Eo),bu=le({},sr,{animationName:0,elapsedTime:0,pseudoElement:0}),Gr=Lt(bu),xu=le({},sr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Nu=Lt(xu),Ou=le({},sr,{data:0}),Qa=Lt(Ou),So={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Du[r])?!!s[r]:!1}function Ir(){return Vu}var u=le({},Sr,{key:function(r){if(r.key){var s=So[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=yo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?sn[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ir,charCode:function(r){return r.type==="keypress"?yo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?yo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=Lt(u),v=le({},Ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S=Lt(v),z=le({},Sr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ir}),q=Lt(z),oe=le({},sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qe=Lt(oe),At=le({},Ss,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Le=Lt(At),xt=[9,13,27,32],Et=d&&"CompositionEvent"in window,Fn=null;d&&"documentMode"in document&&(Fn=document.documentMode);var En=d&&"TextEvent"in window&&!Fn,Is=d&&(!Et||Fn&&8<Fn&&11>=Fn),Io=" ",cg=!1;function hg(r,s){switch(r){case"keyup":return xt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dg(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Co=!1;function LE(r,s){switch(r){case"compositionend":return dg(s);case"keypress":return s.which!==32?null:(cg=!0,Io);case"textInput":return r=s.data,r===Io&&cg?null:r;default:return null}}function FE(r,s){if(Co)return r==="compositionend"||!Et&&hg(r,s)?(r=qa(),un=go=wn=null,Co=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Is&&s.locale!=="ko"?null:s.data;default:return null}}var UE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fg(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!UE[r.type]:s==="textarea"}function pg(r,s,l,h){_r(h),s=zu(s,"onChange"),0<s.length&&(l=new vo("onChange","change",null,l,h),r.push({event:l,listeners:s}))}var Xa=null,Ya=null;function zE(r){Ng(r,0)}function Mu(r){var s=bo(r);if(_i(s))return r}function jE(r,s){if(r==="change")return s}var mg=!1;if(d){var _d;if(d){var wd="oninput"in document;if(!wd){var gg=document.createElement("div");gg.setAttribute("oninput","return;"),wd=typeof gg.oninput=="function"}_d=wd}else _d=!1;mg=_d&&(!document.documentMode||9<document.documentMode)}function yg(){Xa&&(Xa.detachEvent("onpropertychange",vg),Ya=Xa=null)}function vg(r){if(r.propertyName==="value"&&Mu(Ya)){var s=[];pg(s,Ya,r,ro(r)),La(zE,s)}}function BE(r,s,l){r==="focusin"?(yg(),Xa=s,Ya=l,Xa.attachEvent("onpropertychange",vg)):r==="focusout"&&yg()}function $E(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Mu(Ya)}function WE(r,s){if(r==="click")return Mu(s)}function HE(r,s){if(r==="input"||r==="change")return Mu(s)}function qE(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var or=typeof Object.is=="function"?Object.is:qE;function Ja(r,s){if(or(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var f=l[h];if(!p.call(s,f)||!or(r[f],s[f]))return!1}return!0}function _g(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function wg(r,s){var l=_g(r);r=0;for(var h;l;){if(l.nodeType===3){if(h=r+l.textContent.length,r<=s&&h>=s)return{node:l,offset:s-r};r=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=_g(l)}}function Eg(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Eg(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Tg(){for(var r=window,s=gr();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=gr(r.document)}return s}function Ed(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function KE(r){var s=Tg(),l=r.focusedElem,h=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&Eg(l.ownerDocument.documentElement,l)){if(h!==null&&Ed(l)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var f=l.textContent.length,g=Math.min(h.start,f);h=h.end===void 0?g:Math.min(h.end,f),!r.extend&&g>h&&(f=h,h=g,g=f),f=wg(l,g);var E=wg(l,h);f&&E&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==E.node||r.focusOffset!==E.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),r.removeAllRanges(),g>h?(r.addRange(s),r.extend(E.node,E.offset)):(s.setEnd(E.node,E.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var GE=d&&"documentMode"in document&&11>=document.documentMode,Ao=null,Td=null,Za=null,Sd=!1;function Sg(r,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Sd||Ao==null||Ao!==gr(h)||(h=Ao,"selectionStart"in h&&Ed(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Za&&Ja(Za,h)||(Za=h,h=zu(Td,"onSelect"),0<h.length&&(s=new vo("onSelect","select",null,s,l),r.push({event:s,listeners:h}),s.target=Ao)))}function Lu(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var Ro={animationend:Lu("Animation","AnimationEnd"),animationiteration:Lu("Animation","AnimationIteration"),animationstart:Lu("Animation","AnimationStart"),transitionend:Lu("Transition","TransitionEnd")},Id={},Ig={};d&&(Ig=document.createElement("div").style,"AnimationEvent"in window||(delete Ro.animationend.animation,delete Ro.animationiteration.animation,delete Ro.animationstart.animation),"TransitionEvent"in window||delete Ro.transitionend.transition);function Fu(r){if(Id[r])return Id[r];if(!Ro[r])return r;var s=Ro[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in Ig)return Id[r]=s[l];return r}var Cg=Fu("animationend"),Ag=Fu("animationiteration"),Rg=Fu("animationstart"),kg=Fu("transitionend"),Pg=new Map,bg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bi(r,s){Pg.set(r,s),a(s,[r])}for(var Cd=0;Cd<bg.length;Cd++){var Ad=bg[Cd],QE=Ad.toLowerCase(),XE=Ad[0].toUpperCase()+Ad.slice(1);bi(QE,"on"+XE)}bi(Cg,"onAnimationEnd"),bi(Ag,"onAnimationIteration"),bi(Rg,"onAnimationStart"),bi("dblclick","onDoubleClick"),bi("focusin","onFocus"),bi("focusout","onBlur"),bi(kg,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var el="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YE=new Set("cancel close invalid load scroll toggle".split(" ").concat(el));function xg(r,s,l){var h=r.type||"unknown-event";r.currentTarget=l,pu(h,s,void 0,r),r.currentTarget=null}function Ng(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var h=r[l],f=h.event;h=h.listeners;e:{var g=void 0;if(s)for(var E=h.length-1;0<=E;E--){var b=h[E],D=b.instance,H=b.currentTarget;if(b=b.listener,D!==g&&f.isPropagationStopped())break e;xg(f,b,H),g=D}else for(E=0;E<h.length;E++){if(b=h[E],D=b.instance,H=b.currentTarget,b=b.listener,D!==g&&f.isPropagationStopped())break e;xg(f,b,H),g=D}}}if(Jn)throw r=Fa,Jn=!1,Fa=null,r}function nt(r,s){var l=s[Dd];l===void 0&&(l=s[Dd]=new Set);var h=r+"__bubble";l.has(h)||(Og(s,r,2,!1),l.add(h))}function Rd(r,s,l){var h=0;s&&(h|=4),Og(l,r,h,s)}var Uu="_reactListening"+Math.random().toString(36).slice(2);function tl(r){if(!r[Uu]){r[Uu]=!0,i.forEach(function(l){l!=="selectionchange"&&(YE.has(l)||Rd(l,!1,r),Rd(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Uu]||(s[Uu]=!0,Rd("selectionchange",!1,s))}}function Og(r,s,l,h){switch(Ha(s)){case 1:var f=st;break;case 4:f=yd;break;default:f=Wa}l=f.bind(null,s,l,r),f=void 0,!oo||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),h?f!==void 0?r.addEventListener(s,l,{capture:!0,passive:f}):r.addEventListener(s,l,!0):f!==void 0?r.addEventListener(s,l,{passive:f}):r.addEventListener(s,l,!1)}function kd(r,s,l,h,f){var g=h;if(!(s&1)&&!(s&2)&&h!==null)e:for(;;){if(h===null)return;var E=h.tag;if(E===3||E===4){var b=h.stateNode.containerInfo;if(b===f||b.nodeType===8&&b.parentNode===f)break;if(E===4)for(E=h.return;E!==null;){var D=E.tag;if((D===3||D===4)&&(D=E.stateNode.containerInfo,D===f||D.nodeType===8&&D.parentNode===f))return;E=E.return}for(;b!==null;){if(E=Cs(b),E===null)return;if(D=E.tag,D===5||D===6){h=g=E;continue e}b=b.parentNode}}h=h.return}La(function(){var H=g,ne=ro(l),re=[];e:{var te=Pg.get(r);if(te!==void 0){var ue=vo,de=r;switch(r){case"keypress":if(yo(l)===0)break e;case"keydown":case"keyup":ue=m;break;case"focusin":de="focus",ue=To;break;case"focusout":de="blur",ue=To;break;case"beforeblur":case"afterblur":ue=To;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=wo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=Pu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=q;break;case Cg:case Ag:case Rg:ue=Gr;break;case kg:ue=Qe;break;case"scroll":ue=vd;break;case"wheel":ue=Le;break;case"copy":case"cut":case"paste":ue=Nu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=S}var me=(s&4)!==0,gt=!me&&r==="scroll",j=me?te!==null?te+"Capture":null:te;me=[];for(var L=H,$;L!==null;){$=L;var ie=$.stateNode;if($.tag===5&&ie!==null&&($=ie,j!==null&&(ie=mt(L,j),ie!=null&&me.push(nl(L,ie,$)))),gt)break;L=L.return}0<me.length&&(te=new ue(te,de,null,l,ne),re.push({event:te,listeners:me}))}}if(!(s&7)){e:{if(te=r==="mouseover"||r==="pointerover",ue=r==="mouseout"||r==="pointerout",te&&l!==ds&&(de=l.relatedTarget||l.fromElement)&&(Cs(de)||de[Qr]))break e;if((ue||te)&&(te=ne.window===ne?ne:(te=ne.ownerDocument)?te.defaultView||te.parentWindow:window,ue?(de=l.relatedTarget||l.toElement,ue=H,de=de?Cs(de):null,de!==null&&(gt=Zn(de),de!==gt||de.tag!==5&&de.tag!==6)&&(de=null)):(ue=null,de=H),ue!==de)){if(me=wo,ie="onMouseLeave",j="onMouseEnter",L="mouse",(r==="pointerout"||r==="pointerover")&&(me=S,ie="onPointerLeave",j="onPointerEnter",L="pointer"),gt=ue==null?te:bo(ue),$=de==null?te:bo(de),te=new me(ie,L+"leave",ue,l,ne),te.target=gt,te.relatedTarget=$,ie=null,Cs(ne)===H&&(me=new me(j,L+"enter",de,l,ne),me.target=$,me.relatedTarget=gt,ie=me),gt=ie,ue&&de)t:{for(me=ue,j=de,L=0,$=me;$;$=ko($))L++;for($=0,ie=j;ie;ie=ko(ie))$++;for(;0<L-$;)me=ko(me),L--;for(;0<$-L;)j=ko(j),$--;for(;L--;){if(me===j||j!==null&&me===j.alternate)break t;me=ko(me),j=ko(j)}me=null}else me=null;ue!==null&&Dg(re,te,ue,me,!1),de!==null&&gt!==null&&Dg(re,gt,de,me,!0)}}e:{if(te=H?bo(H):window,ue=te.nodeName&&te.nodeName.toLowerCase(),ue==="select"||ue==="input"&&te.type==="file")var ge=jE;else if(fg(te))if(mg)ge=HE;else{ge=$E;var _e=BE}else(ue=te.nodeName)&&ue.toLowerCase()==="input"&&(te.type==="checkbox"||te.type==="radio")&&(ge=WE);if(ge&&(ge=ge(r,H))){pg(re,ge,l,ne);break e}_e&&_e(r,te,H),r==="focusout"&&(_e=te._wrapperState)&&_e.controlled&&te.type==="number"&&On(te,"number",te.value)}switch(_e=H?bo(H):window,r){case"focusin":(fg(_e)||_e.contentEditable==="true")&&(Ao=_e,Td=H,Za=null);break;case"focusout":Za=Td=Ao=null;break;case"mousedown":Sd=!0;break;case"contextmenu":case"mouseup":case"dragend":Sd=!1,Sg(re,l,ne);break;case"selectionchange":if(GE)break;case"keydown":case"keyup":Sg(re,l,ne)}var we;if(Et)e:{switch(r){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else Co?hg(r,l)&&(Se="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Se="onCompositionStart");Se&&(Is&&l.locale!=="ko"&&(Co||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&Co&&(we=qa()):(wn=ne,go="value"in wn?wn.value:wn.textContent,Co=!0)),_e=zu(H,Se),0<_e.length&&(Se=new Qa(Se,r,null,l,ne),re.push({event:Se,listeners:_e}),we?Se.data=we:(we=dg(l),we!==null&&(Se.data=we)))),(we=En?LE(r,l):FE(r,l))&&(H=zu(H,"onBeforeInput"),0<H.length&&(ne=new Qa("onBeforeInput","beforeinput",null,l,ne),re.push({event:ne,listeners:H}),ne.data=we))}Ng(re,s)})}function nl(r,s,l){return{instance:r,listener:s,currentTarget:l}}function zu(r,s){for(var l=s+"Capture",h=[];r!==null;){var f=r,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=mt(r,l),g!=null&&h.unshift(nl(r,g,f)),g=mt(r,s),g!=null&&h.push(nl(r,g,f))),r=r.return}return h}function ko(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Dg(r,s,l,h,f){for(var g=s._reactName,E=[];l!==null&&l!==h;){var b=l,D=b.alternate,H=b.stateNode;if(D!==null&&D===h)break;b.tag===5&&H!==null&&(b=H,f?(D=mt(l,g),D!=null&&E.unshift(nl(l,D,b))):f||(D=mt(l,g),D!=null&&E.push(nl(l,D,b)))),l=l.return}E.length!==0&&r.push({event:s,listeners:E})}var JE=/\r\n?/g,ZE=/\u0000|\uFFFD/g;function Vg(r){return(typeof r=="string"?r:""+r).replace(JE,`
`).replace(ZE,"")}function ju(r,s,l){if(s=Vg(s),Vg(r)!==s&&l)throw Error(t(425))}function Bu(){}var Pd=null,bd=null;function xd(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Nd=typeof setTimeout=="function"?setTimeout:void 0,eT=typeof clearTimeout=="function"?clearTimeout:void 0,Mg=typeof Promise=="function"?Promise:void 0,tT=typeof queueMicrotask=="function"?queueMicrotask:typeof Mg<"u"?function(r){return Mg.resolve(null).then(r).catch(nT)}:Nd;function nT(r){setTimeout(function(){throw r})}function Od(r,s){var l=s,h=0;do{var f=l.nextSibling;if(r.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"){if(h===0){r.removeChild(f),ir(s);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=f}while(l);ir(s)}function xi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Lg(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var Po=Math.random().toString(36).slice(2),Cr="__reactFiber$"+Po,rl="__reactProps$"+Po,Qr="__reactContainer$"+Po,Dd="__reactEvents$"+Po,rT="__reactListeners$"+Po,iT="__reactHandles$"+Po;function Cs(r){var s=r[Cr];if(s)return s;for(var l=r.parentNode;l;){if(s=l[Qr]||l[Cr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=Lg(r);r!==null;){if(l=r[Cr])return l;r=Lg(r)}return s}r=l,l=r.parentNode}return null}function il(r){return r=r[Cr]||r[Qr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function bo(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function $u(r){return r[rl]||null}var Vd=[],xo=-1;function Ni(r){return{current:r}}function rt(r){0>xo||(r.current=Vd[xo],Vd[xo]=null,xo--)}function tt(r,s){xo++,Vd[xo]=r.current,r.current=s}var Oi={},qt=Ni(Oi),cn=Ni(!1),As=Oi;function No(r,s){var l=r.type.contextTypes;if(!l)return Oi;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in l)f[g]=s[g];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=f),f}function hn(r){return r=r.childContextTypes,r!=null}function Wu(){rt(cn),rt(qt)}function Fg(r,s,l){if(qt.current!==Oi)throw Error(t(168));tt(qt,s),tt(cn,l)}function Ug(r,s,l){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var f in h)if(!(f in s))throw Error(t(108,ze(r)||"Unknown",f));return le({},l,h)}function Hu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Oi,As=qt.current,tt(qt,r),tt(cn,cn.current),!0}function zg(r,s,l){var h=r.stateNode;if(!h)throw Error(t(169));l?(r=Ug(r,s,As),h.__reactInternalMemoizedMergedChildContext=r,rt(cn),rt(qt),tt(qt,r)):rt(cn),tt(cn,l)}var Xr=null,qu=!1,Md=!1;function jg(r){Xr===null?Xr=[r]:Xr.push(r)}function sT(r){qu=!0,jg(r)}function Di(){if(!Md&&Xr!==null){Md=!0;var r=0,s=Ve;try{var l=Xr;for(Ve=1;r<l.length;r++){var h=l[r];do h=h(!0);while(h!==null)}Xr=null,qu=!1}catch(f){throw Xr!==null&&(Xr=Xr.slice(r+1)),co(ys,Di),f}finally{Ve=s,Md=!1}}return null}var Oo=[],Do=0,Ku=null,Gu=0,Un=[],zn=0,Rs=null,Yr=1,Jr="";function ks(r,s){Oo[Do++]=Gu,Oo[Do++]=Ku,Ku=r,Gu=s}function Bg(r,s,l){Un[zn++]=Yr,Un[zn++]=Jr,Un[zn++]=Rs,Rs=r;var h=Yr;r=Jr;var f=32-rn(h)-1;h&=~(1<<f),l+=1;var g=32-rn(s)+f;if(30<g){var E=f-f%5;g=(h&(1<<E)-1).toString(32),h>>=E,f-=E,Yr=1<<32-rn(s)+f|l<<f|h,Jr=g+r}else Yr=1<<g|l<<f|h,Jr=r}function Ld(r){r.return!==null&&(ks(r,1),Bg(r,1,0))}function Fd(r){for(;r===Ku;)Ku=Oo[--Do],Oo[Do]=null,Gu=Oo[--Do],Oo[Do]=null;for(;r===Rs;)Rs=Un[--zn],Un[zn]=null,Jr=Un[--zn],Un[zn]=null,Yr=Un[--zn],Un[zn]=null}var Tn=null,Sn=null,ot=!1,ar=null;function $g(r,s){var l=Wn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function Wg(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,Tn=r,Sn=xi(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,Tn=r,Sn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=Rs!==null?{id:Yr,overflow:Jr}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=Wn(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,Tn=r,Sn=null,!0):!1;default:return!1}}function Ud(r){return(r.mode&1)!==0&&(r.flags&128)===0}function zd(r){if(ot){var s=Sn;if(s){var l=s;if(!Wg(r,s)){if(Ud(r))throw Error(t(418));s=xi(l.nextSibling);var h=Tn;s&&Wg(r,s)?$g(h,l):(r.flags=r.flags&-4097|2,ot=!1,Tn=r)}}else{if(Ud(r))throw Error(t(418));r.flags=r.flags&-4097|2,ot=!1,Tn=r}}}function Hg(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Tn=r}function Qu(r){if(r!==Tn)return!1;if(!ot)return Hg(r),ot=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!xd(r.type,r.memoizedProps)),s&&(s=Sn)){if(Ud(r))throw qg(),Error(t(418));for(;s;)$g(r,s),s=xi(s.nextSibling)}if(Hg(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){Sn=xi(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}Sn=null}}else Sn=Tn?xi(r.stateNode.nextSibling):null;return!0}function qg(){for(var r=Sn;r;)r=xi(r.nextSibling)}function Vo(){Sn=Tn=null,ot=!1}function jd(r){ar===null?ar=[r]:ar.push(r)}var oT=B.ReactCurrentBatchConfig;function sl(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,r));var f=h,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(E){var b=f.refs;E===null?delete b[g]:b[g]=E},s._stringRef=g,s)}if(typeof r!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,r))}return r}function Xu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Kg(r){var s=r._init;return s(r._payload)}function Gg(r){function s(j,L){if(r){var $=j.deletions;$===null?(j.deletions=[L],j.flags|=16):$.push(L)}}function l(j,L){if(!r)return null;for(;L!==null;)s(j,L),L=L.sibling;return null}function h(j,L){for(j=new Map;L!==null;)L.key!==null?j.set(L.key,L):j.set(L.index,L),L=L.sibling;return j}function f(j,L){return j=Bi(j,L),j.index=0,j.sibling=null,j}function g(j,L,$){return j.index=$,r?($=j.alternate,$!==null?($=$.index,$<L?(j.flags|=2,L):$):(j.flags|=2,L)):(j.flags|=1048576,L)}function E(j){return r&&j.alternate===null&&(j.flags|=2),j}function b(j,L,$,ie){return L===null||L.tag!==6?(L=Of($,j.mode,ie),L.return=j,L):(L=f(L,$),L.return=j,L)}function D(j,L,$,ie){var ge=$.type;return ge===A?ne(j,L,$.props.children,ie,$.key):L!==null&&(L.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===qe&&Kg(ge)===L.type)?(ie=f(L,$.props),ie.ref=sl(j,L,$),ie.return=j,ie):(ie=wc($.type,$.key,$.props,null,j.mode,ie),ie.ref=sl(j,L,$),ie.return=j,ie)}function H(j,L,$,ie){return L===null||L.tag!==4||L.stateNode.containerInfo!==$.containerInfo||L.stateNode.implementation!==$.implementation?(L=Df($,j.mode,ie),L.return=j,L):(L=f(L,$.children||[]),L.return=j,L)}function ne(j,L,$,ie,ge){return L===null||L.tag!==7?(L=Ms($,j.mode,ie,ge),L.return=j,L):(L=f(L,$),L.return=j,L)}function re(j,L,$){if(typeof L=="string"&&L!==""||typeof L=="number")return L=Of(""+L,j.mode,$),L.return=j,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case U:return $=wc(L.type,L.key,L.props,null,j.mode,$),$.ref=sl(j,null,L),$.return=j,$;case Q:return L=Df(L,j.mode,$),L.return=j,L;case qe:var ie=L._init;return re(j,ie(L._payload),$)}if(Xn(L)||pe(L))return L=Ms(L,j.mode,$,null),L.return=j,L;Xu(j,L)}return null}function te(j,L,$,ie){var ge=L!==null?L.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return ge!==null?null:b(j,L,""+$,ie);if(typeof $=="object"&&$!==null){switch($.$$typeof){case U:return $.key===ge?D(j,L,$,ie):null;case Q:return $.key===ge?H(j,L,$,ie):null;case qe:return ge=$._init,te(j,L,ge($._payload),ie)}if(Xn($)||pe($))return ge!==null?null:ne(j,L,$,ie,null);Xu(j,$)}return null}function ue(j,L,$,ie,ge){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return j=j.get($)||null,b(L,j,""+ie,ge);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case U:return j=j.get(ie.key===null?$:ie.key)||null,D(L,j,ie,ge);case Q:return j=j.get(ie.key===null?$:ie.key)||null,H(L,j,ie,ge);case qe:var _e=ie._init;return ue(j,L,$,_e(ie._payload),ge)}if(Xn(ie)||pe(ie))return j=j.get($)||null,ne(L,j,ie,ge,null);Xu(L,ie)}return null}function de(j,L,$,ie){for(var ge=null,_e=null,we=L,Se=L=0,Dt=null;we!==null&&Se<$.length;Se++){we.index>Se?(Dt=we,we=null):Dt=we.sibling;var $e=te(j,we,$[Se],ie);if($e===null){we===null&&(we=Dt);break}r&&we&&$e.alternate===null&&s(j,we),L=g($e,L,Se),_e===null?ge=$e:_e.sibling=$e,_e=$e,we=Dt}if(Se===$.length)return l(j,we),ot&&ks(j,Se),ge;if(we===null){for(;Se<$.length;Se++)we=re(j,$[Se],ie),we!==null&&(L=g(we,L,Se),_e===null?ge=we:_e.sibling=we,_e=we);return ot&&ks(j,Se),ge}for(we=h(j,we);Se<$.length;Se++)Dt=ue(we,j,Se,$[Se],ie),Dt!==null&&(r&&Dt.alternate!==null&&we.delete(Dt.key===null?Se:Dt.key),L=g(Dt,L,Se),_e===null?ge=Dt:_e.sibling=Dt,_e=Dt);return r&&we.forEach(function($i){return s(j,$i)}),ot&&ks(j,Se),ge}function me(j,L,$,ie){var ge=pe($);if(typeof ge!="function")throw Error(t(150));if($=ge.call($),$==null)throw Error(t(151));for(var _e=ge=null,we=L,Se=L=0,Dt=null,$e=$.next();we!==null&&!$e.done;Se++,$e=$.next()){we.index>Se?(Dt=we,we=null):Dt=we.sibling;var $i=te(j,we,$e.value,ie);if($i===null){we===null&&(we=Dt);break}r&&we&&$i.alternate===null&&s(j,we),L=g($i,L,Se),_e===null?ge=$i:_e.sibling=$i,_e=$i,we=Dt}if($e.done)return l(j,we),ot&&ks(j,Se),ge;if(we===null){for(;!$e.done;Se++,$e=$.next())$e=re(j,$e.value,ie),$e!==null&&(L=g($e,L,Se),_e===null?ge=$e:_e.sibling=$e,_e=$e);return ot&&ks(j,Se),ge}for(we=h(j,we);!$e.done;Se++,$e=$.next())$e=ue(we,j,Se,$e.value,ie),$e!==null&&(r&&$e.alternate!==null&&we.delete($e.key===null?Se:$e.key),L=g($e,L,Se),_e===null?ge=$e:_e.sibling=$e,_e=$e);return r&&we.forEach(function(UT){return s(j,UT)}),ot&&ks(j,Se),ge}function gt(j,L,$,ie){if(typeof $=="object"&&$!==null&&$.type===A&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case U:e:{for(var ge=$.key,_e=L;_e!==null;){if(_e.key===ge){if(ge=$.type,ge===A){if(_e.tag===7){l(j,_e.sibling),L=f(_e,$.props.children),L.return=j,j=L;break e}}else if(_e.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===qe&&Kg(ge)===_e.type){l(j,_e.sibling),L=f(_e,$.props),L.ref=sl(j,_e,$),L.return=j,j=L;break e}l(j,_e);break}else s(j,_e);_e=_e.sibling}$.type===A?(L=Ms($.props.children,j.mode,ie,$.key),L.return=j,j=L):(ie=wc($.type,$.key,$.props,null,j.mode,ie),ie.ref=sl(j,L,$),ie.return=j,j=ie)}return E(j);case Q:e:{for(_e=$.key;L!==null;){if(L.key===_e)if(L.tag===4&&L.stateNode.containerInfo===$.containerInfo&&L.stateNode.implementation===$.implementation){l(j,L.sibling),L=f(L,$.children||[]),L.return=j,j=L;break e}else{l(j,L);break}else s(j,L);L=L.sibling}L=Df($,j.mode,ie),L.return=j,j=L}return E(j);case qe:return _e=$._init,gt(j,L,_e($._payload),ie)}if(Xn($))return de(j,L,$,ie);if(pe($))return me(j,L,$,ie);Xu(j,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,L!==null&&L.tag===6?(l(j,L.sibling),L=f(L,$),L.return=j,j=L):(l(j,L),L=Of($,j.mode,ie),L.return=j,j=L),E(j)):l(j,L)}return gt}var Mo=Gg(!0),Qg=Gg(!1),Yu=Ni(null),Ju=null,Lo=null,Bd=null;function $d(){Bd=Lo=Ju=null}function Wd(r){var s=Yu.current;rt(Yu),r._currentValue=s}function Hd(r,s,l){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===l)break;r=r.return}}function Fo(r,s){Ju=r,Bd=Lo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(dn=!0),r.firstContext=null)}function jn(r){var s=r._currentValue;if(Bd!==r)if(r={context:r,memoizedValue:s,next:null},Lo===null){if(Ju===null)throw Error(t(308));Lo=r,Ju.dependencies={lanes:0,firstContext:r}}else Lo=Lo.next=r;return s}var Ps=null;function qd(r){Ps===null?Ps=[r]:Ps.push(r)}function Xg(r,s,l,h){var f=s.interleaved;return f===null?(l.next=l,qd(s)):(l.next=f.next,f.next=l),s.interleaved=l,Zr(r,h)}function Zr(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var Vi=!1;function Kd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yg(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function ei(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function Mi(r,s,l){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,Be&2){var f=h.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),h.pending=s,Zr(r,l)}return f=h.interleaved,f===null?(s.next=s,qd(h)):(s.next=f.next,f.next=s),h.interleaved=s,Zr(r,l)}function Zu(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,l|=h,s.lanes=l,Ci(r,l)}}function Jg(r,s){var l=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var f=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var E={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};g===null?f=g=E:g=g.next=E,l=l.next}while(l!==null);g===null?f=g=s:g=g.next=s}else f=g=s;l={baseState:h.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:h.shared,effects:h.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function ec(r,s,l,h){var f=r.updateQueue;Vi=!1;var g=f.firstBaseUpdate,E=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var D=b,H=D.next;D.next=null,E===null?g=H:E.next=H,E=D;var ne=r.alternate;ne!==null&&(ne=ne.updateQueue,b=ne.lastBaseUpdate,b!==E&&(b===null?ne.firstBaseUpdate=H:b.next=H,ne.lastBaseUpdate=D))}if(g!==null){var re=f.baseState;E=0,ne=H=D=null,b=g;do{var te=b.lane,ue=b.eventTime;if((h&te)===te){ne!==null&&(ne=ne.next={eventTime:ue,lane:0,tag:b.tag,payload:b.payload,callback:b.callback,next:null});e:{var de=r,me=b;switch(te=s,ue=l,me.tag){case 1:if(de=me.payload,typeof de=="function"){re=de.call(ue,re,te);break e}re=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=me.payload,te=typeof de=="function"?de.call(ue,re,te):de,te==null)break e;re=le({},re,te);break e;case 2:Vi=!0}}b.callback!==null&&b.lane!==0&&(r.flags|=64,te=f.effects,te===null?f.effects=[b]:te.push(b))}else ue={eventTime:ue,lane:te,tag:b.tag,payload:b.payload,callback:b.callback,next:null},ne===null?(H=ne=ue,D=re):ne=ne.next=ue,E|=te;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;te=b,b=te.next,te.next=null,f.lastBaseUpdate=te,f.shared.pending=null}}while(!0);if(ne===null&&(D=re),f.baseState=D,f.firstBaseUpdate=H,f.lastBaseUpdate=ne,s=f.shared.interleaved,s!==null){f=s;do E|=f.lane,f=f.next;while(f!==s)}else g===null&&(f.shared.lanes=0);Ns|=E,r.lanes=E,r.memoizedState=re}}function Zg(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],f=h.callback;if(f!==null){if(h.callback=null,h=l,typeof f!="function")throw Error(t(191,f));f.call(h)}}}var ol={},Ar=Ni(ol),al=Ni(ol),ll=Ni(ol);function bs(r){if(r===ol)throw Error(t(174));return r}function Gd(r,s){switch(tt(ll,s),tt(al,r),tt(Ar,ol),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:wt(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=wt(s,r)}rt(Ar),tt(Ar,s)}function Uo(){rt(Ar),rt(al),rt(ll)}function ey(r){bs(ll.current);var s=bs(Ar.current),l=wt(s,r.type);s!==l&&(tt(al,r),tt(Ar,l))}function Qd(r){al.current===r&&(rt(Ar),rt(al))}var lt=Ni(0);function tc(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Xd=[];function Yd(){for(var r=0;r<Xd.length;r++)Xd[r]._workInProgressVersionPrimary=null;Xd.length=0}var nc=B.ReactCurrentDispatcher,Jd=B.ReactCurrentBatchConfig,xs=0,ut=null,Rt=null,Nt=null,rc=!1,ul=!1,cl=0,aT=0;function Kt(){throw Error(t(321))}function Zd(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!or(r[l],s[l]))return!1;return!0}function ef(r,s,l,h,f,g){if(xs=g,ut=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,nc.current=r===null||r.memoizedState===null?hT:dT,r=l(h,f),ul){g=0;do{if(ul=!1,cl=0,25<=g)throw Error(t(301));g+=1,Nt=Rt=null,s.updateQueue=null,nc.current=fT,r=l(h,f)}while(ul)}if(nc.current=oc,s=Rt!==null&&Rt.next!==null,xs=0,Nt=Rt=ut=null,rc=!1,s)throw Error(t(300));return r}function tf(){var r=cl!==0;return cl=0,r}function Rr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?ut.memoizedState=Nt=r:Nt=Nt.next=r,Nt}function Bn(){if(Rt===null){var r=ut.alternate;r=r!==null?r.memoizedState:null}else r=Rt.next;var s=Nt===null?ut.memoizedState:Nt.next;if(s!==null)Nt=s,Rt=r;else{if(r===null)throw Error(t(310));Rt=r,r={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},Nt===null?ut.memoizedState=Nt=r:Nt=Nt.next=r}return Nt}function hl(r,s){return typeof s=="function"?s(r):s}function nf(r){var s=Bn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var h=Rt,f=h.baseQueue,g=l.pending;if(g!==null){if(f!==null){var E=f.next;f.next=g.next,g.next=E}h.baseQueue=f=g,l.pending=null}if(f!==null){g=f.next,h=h.baseState;var b=E=null,D=null,H=g;do{var ne=H.lane;if((xs&ne)===ne)D!==null&&(D=D.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),h=H.hasEagerState?H.eagerState:r(h,H.action);else{var re={lane:ne,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};D===null?(b=D=re,E=h):D=D.next=re,ut.lanes|=ne,Ns|=ne}H=H.next}while(H!==null&&H!==g);D===null?E=h:D.next=b,or(h,s.memoizedState)||(dn=!0),s.memoizedState=h,s.baseState=E,s.baseQueue=D,l.lastRenderedState=h}if(r=l.interleaved,r!==null){f=r;do g=f.lane,ut.lanes|=g,Ns|=g,f=f.next;while(f!==r)}else f===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function rf(r){var s=Bn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var h=l.dispatch,f=l.pending,g=s.memoizedState;if(f!==null){l.pending=null;var E=f=f.next;do g=r(g,E.action),E=E.next;while(E!==f);or(g,s.memoizedState)||(dn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),l.lastRenderedState=g}return[g,h]}function ty(){}function ny(r,s){var l=ut,h=Bn(),f=s(),g=!or(h.memoizedState,f);if(g&&(h.memoizedState=f,dn=!0),h=h.queue,sf(sy.bind(null,l,h,r),[r]),h.getSnapshot!==s||g||Nt!==null&&Nt.memoizedState.tag&1){if(l.flags|=2048,dl(9,iy.bind(null,l,h,f,s),void 0,null),Ot===null)throw Error(t(349));xs&30||ry(l,s,f)}return f}function ry(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=ut.updateQueue,s===null?(s={lastEffect:null,stores:null},ut.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function iy(r,s,l,h){s.value=l,s.getSnapshot=h,oy(s)&&ay(r)}function sy(r,s,l){return l(function(){oy(s)&&ay(r)})}function oy(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!or(r,l)}catch{return!0}}function ay(r){var s=Zr(r,1);s!==null&&hr(s,r,1,-1)}function ly(r){var s=Rr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hl,lastRenderedState:r},s.queue=r,r=r.dispatch=cT.bind(null,ut,r),[s.memoizedState,r]}function dl(r,s,l,h){return r={tag:r,create:s,destroy:l,deps:h,next:null},s=ut.updateQueue,s===null?(s={lastEffect:null,stores:null},ut.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(h=l.next,l.next=r,r.next=h,s.lastEffect=r)),r}function uy(){return Bn().memoizedState}function ic(r,s,l,h){var f=Rr();ut.flags|=r,f.memoizedState=dl(1|s,l,void 0,h===void 0?null:h)}function sc(r,s,l,h){var f=Bn();h=h===void 0?null:h;var g=void 0;if(Rt!==null){var E=Rt.memoizedState;if(g=E.destroy,h!==null&&Zd(h,E.deps)){f.memoizedState=dl(s,l,g,h);return}}ut.flags|=r,f.memoizedState=dl(1|s,l,g,h)}function cy(r,s){return ic(8390656,8,r,s)}function sf(r,s){return sc(2048,8,r,s)}function hy(r,s){return sc(4,2,r,s)}function dy(r,s){return sc(4,4,r,s)}function fy(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function py(r,s,l){return l=l!=null?l.concat([r]):null,sc(4,4,fy.bind(null,s,r),l)}function of(){}function my(r,s){var l=Bn();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&Zd(s,h[1])?h[0]:(l.memoizedState=[r,s],r)}function gy(r,s){var l=Bn();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&Zd(s,h[1])?h[0]:(r=r(),l.memoizedState=[r,s],r)}function yy(r,s,l){return xs&21?(or(l,s)||(l=ws(),ut.lanes|=l,Ns|=l,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,dn=!0),r.memoizedState=l)}function lT(r,s){var l=Ve;Ve=l!==0&&4>l?l:4,r(!0);var h=Jd.transition;Jd.transition={};try{r(!1),s()}finally{Ve=l,Jd.transition=h}}function vy(){return Bn().memoizedState}function uT(r,s,l){var h=zi(r);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},_y(r))wy(s,l);else if(l=Xg(r,s,l,h),l!==null){var f=an();hr(l,r,h,f),Ey(l,s,h)}}function cT(r,s,l){var h=zi(r),f={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(_y(r))wy(s,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var E=s.lastRenderedState,b=g(E,l);if(f.hasEagerState=!0,f.eagerState=b,or(b,E)){var D=s.interleaved;D===null?(f.next=f,qd(s)):(f.next=D.next,D.next=f),s.interleaved=f;return}}catch{}finally{}l=Xg(r,s,f,h),l!==null&&(f=an(),hr(l,r,h,f),Ey(l,s,h))}}function _y(r){var s=r.alternate;return r===ut||s!==null&&s===ut}function wy(r,s){ul=rc=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function Ey(r,s,l){if(l&4194240){var h=s.lanes;h&=r.pendingLanes,l|=h,s.lanes=l,Ci(r,l)}}var oc={readContext:jn,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useInsertionEffect:Kt,useLayoutEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useMutableSource:Kt,useSyncExternalStore:Kt,useId:Kt,unstable_isNewReconciler:!1},hT={readContext:jn,useCallback:function(r,s){return Rr().memoizedState=[r,s===void 0?null:s],r},useContext:jn,useEffect:cy,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,ic(4194308,4,fy.bind(null,s,r),l)},useLayoutEffect:function(r,s){return ic(4194308,4,r,s)},useInsertionEffect:function(r,s){return ic(4,2,r,s)},useMemo:function(r,s){var l=Rr();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var h=Rr();return s=l!==void 0?l(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=uT.bind(null,ut,r),[h.memoizedState,r]},useRef:function(r){var s=Rr();return r={current:r},s.memoizedState=r},useState:ly,useDebugValue:of,useDeferredValue:function(r){return Rr().memoizedState=r},useTransition:function(){var r=ly(!1),s=r[0];return r=lT.bind(null,r[1]),Rr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var h=ut,f=Rr();if(ot){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),Ot===null)throw Error(t(349));xs&30||ry(h,s,l)}f.memoizedState=l;var g={value:l,getSnapshot:s};return f.queue=g,cy(sy.bind(null,h,g,r),[r]),h.flags|=2048,dl(9,iy.bind(null,h,g,l,s),void 0,null),l},useId:function(){var r=Rr(),s=Ot.identifierPrefix;if(ot){var l=Jr,h=Yr;l=(h&~(1<<32-rn(h)-1)).toString(32)+l,s=":"+s+"R"+l,l=cl++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=aT++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},dT={readContext:jn,useCallback:my,useContext:jn,useEffect:sf,useImperativeHandle:py,useInsertionEffect:hy,useLayoutEffect:dy,useMemo:gy,useReducer:nf,useRef:uy,useState:function(){return nf(hl)},useDebugValue:of,useDeferredValue:function(r){var s=Bn();return yy(s,Rt.memoizedState,r)},useTransition:function(){var r=nf(hl)[0],s=Bn().memoizedState;return[r,s]},useMutableSource:ty,useSyncExternalStore:ny,useId:vy,unstable_isNewReconciler:!1},fT={readContext:jn,useCallback:my,useContext:jn,useEffect:sf,useImperativeHandle:py,useInsertionEffect:hy,useLayoutEffect:dy,useMemo:gy,useReducer:rf,useRef:uy,useState:function(){return rf(hl)},useDebugValue:of,useDeferredValue:function(r){var s=Bn();return Rt===null?s.memoizedState=r:yy(s,Rt.memoizedState,r)},useTransition:function(){var r=rf(hl)[0],s=Bn().memoizedState;return[r,s]},useMutableSource:ty,useSyncExternalStore:ny,useId:vy,unstable_isNewReconciler:!1};function lr(r,s){if(r&&r.defaultProps){s=le({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function af(r,s,l,h){s=r.memoizedState,l=l(h,s),l=l==null?s:le({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var ac={isMounted:function(r){return(r=r._reactInternals)?Zn(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var h=an(),f=zi(r),g=ei(h,f);g.payload=s,l!=null&&(g.callback=l),s=Mi(r,g,f),s!==null&&(hr(s,r,f,h),Zu(s,r,f))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var h=an(),f=zi(r),g=ei(h,f);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=Mi(r,g,f),s!==null&&(hr(s,r,f,h),Zu(s,r,f))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=an(),h=zi(r),f=ei(l,h);f.tag=2,s!=null&&(f.callback=s),s=Mi(r,f,h),s!==null&&(hr(s,r,h,l),Zu(s,r,h))}};function Ty(r,s,l,h,f,g,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,g,E):s.prototype&&s.prototype.isPureReactComponent?!Ja(l,h)||!Ja(f,g):!0}function Sy(r,s,l){var h=!1,f=Oi,g=s.contextType;return typeof g=="object"&&g!==null?g=jn(g):(f=hn(s)?As:qt.current,h=s.contextTypes,g=(h=h!=null)?No(r,f):Oi),s=new s(l,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=ac,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=g),s}function Iy(r,s,l,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==r&&ac.enqueueReplaceState(s,s.state,null)}function lf(r,s,l,h){var f=r.stateNode;f.props=l,f.state=r.memoizedState,f.refs={},Kd(r);var g=s.contextType;typeof g=="object"&&g!==null?f.context=jn(g):(g=hn(s)?As:qt.current,f.context=No(r,g)),f.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(af(r,s,g,l),f.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&ac.enqueueReplaceState(f,f.state,null),ec(r,l,f,h),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function zo(r,s){try{var l="",h=s;do l+=Pe(h),h=h.return;while(h);var f=l}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:f,digest:null}}function uf(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function cf(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var pT=typeof WeakMap=="function"?WeakMap:Map;function Cy(r,s,l){l=ei(-1,l),l.tag=3,l.payload={element:null};var h=s.value;return l.callback=function(){pc||(pc=!0,Cf=h),cf(r,s)},l}function Ay(r,s,l){l=ei(-1,l),l.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=s.value;l.payload=function(){return h(f)},l.callback=function(){cf(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(l.callback=function(){cf(r,s),typeof h!="function"&&(Fi===null?Fi=new Set([this]):Fi.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})}),l}function Ry(r,s,l){var h=r.pingCache;if(h===null){h=r.pingCache=new pT;var f=new Set;h.set(s,f)}else f=h.get(s),f===void 0&&(f=new Set,h.set(s,f));f.has(l)||(f.add(l),r=kT.bind(null,r,s,l),s.then(r,r))}function ky(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Py(r,s,l,h,f){return r.mode&1?(r.flags|=65536,r.lanes=f,r):(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=ei(-1,1),s.tag=2,Mi(l,s,1))),l.lanes|=1),r)}var mT=B.ReactCurrentOwner,dn=!1;function on(r,s,l,h){s.child=r===null?Qg(s,null,l,h):Mo(s,r.child,l,h)}function by(r,s,l,h,f){l=l.render;var g=s.ref;return Fo(s,f),h=ef(r,s,l,h,g,f),l=tf(),r!==null&&!dn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,ti(r,s,f)):(ot&&l&&Ld(s),s.flags|=1,on(r,s,h,f),s.child)}function xy(r,s,l,h,f){if(r===null){var g=l.type;return typeof g=="function"&&!Nf(g)&&g.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=g,Ny(r,s,g,h,f)):(r=wc(l.type,null,h,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!(r.lanes&f)){var E=g.memoizedProps;if(l=l.compare,l=l!==null?l:Ja,l(E,h)&&r.ref===s.ref)return ti(r,s,f)}return s.flags|=1,r=Bi(g,h),r.ref=s.ref,r.return=s,s.child=r}function Ny(r,s,l,h,f){if(r!==null){var g=r.memoizedProps;if(Ja(g,h)&&r.ref===s.ref)if(dn=!1,s.pendingProps=h=g,(r.lanes&f)!==0)r.flags&131072&&(dn=!0);else return s.lanes=r.lanes,ti(r,s,f)}return hf(r,s,l,h,f)}function Oy(r,s,l){var h=s.pendingProps,f=h.children,g=r!==null?r.memoizedState:null;if(h.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(Bo,In),In|=l;else{if(!(l&1073741824))return r=g!==null?g.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,tt(Bo,In),In|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=g!==null?g.baseLanes:l,tt(Bo,In),In|=h}else g!==null?(h=g.baseLanes|l,s.memoizedState=null):h=l,tt(Bo,In),In|=h;return on(r,s,f,l),s.child}function Dy(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function hf(r,s,l,h,f){var g=hn(l)?As:qt.current;return g=No(s,g),Fo(s,f),l=ef(r,s,l,h,g,f),h=tf(),r!==null&&!dn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,ti(r,s,f)):(ot&&h&&Ld(s),s.flags|=1,on(r,s,l,f),s.child)}function Vy(r,s,l,h,f){if(hn(l)){var g=!0;Hu(s)}else g=!1;if(Fo(s,f),s.stateNode===null)uc(r,s),Sy(s,l,h),lf(s,l,h,f),h=!0;else if(r===null){var E=s.stateNode,b=s.memoizedProps;E.props=b;var D=E.context,H=l.contextType;typeof H=="object"&&H!==null?H=jn(H):(H=hn(l)?As:qt.current,H=No(s,H));var ne=l.getDerivedStateFromProps,re=typeof ne=="function"||typeof E.getSnapshotBeforeUpdate=="function";re||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(b!==h||D!==H)&&Iy(s,E,h,H),Vi=!1;var te=s.memoizedState;E.state=te,ec(s,h,E,f),D=s.memoizedState,b!==h||te!==D||cn.current||Vi?(typeof ne=="function"&&(af(s,l,ne,h),D=s.memoizedState),(b=Vi||Ty(s,l,b,h,te,D,H))?(re||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(s.flags|=4194308)):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=D),E.props=h,E.state=D,E.context=H,h=b):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{E=s.stateNode,Yg(r,s),b=s.memoizedProps,H=s.type===s.elementType?b:lr(s.type,b),E.props=H,re=s.pendingProps,te=E.context,D=l.contextType,typeof D=="object"&&D!==null?D=jn(D):(D=hn(l)?As:qt.current,D=No(s,D));var ue=l.getDerivedStateFromProps;(ne=typeof ue=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(b!==re||te!==D)&&Iy(s,E,h,D),Vi=!1,te=s.memoizedState,E.state=te,ec(s,h,E,f);var de=s.memoizedState;b!==re||te!==de||cn.current||Vi?(typeof ue=="function"&&(af(s,l,ue,h),de=s.memoizedState),(H=Vi||Ty(s,l,H,h,te,de,D)||!1)?(ne||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(h,de,D),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(h,de,D)),typeof E.componentDidUpdate=="function"&&(s.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof E.componentDidUpdate!="function"||b===r.memoizedProps&&te===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&te===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=de),E.props=h,E.state=de,E.context=D,h=H):(typeof E.componentDidUpdate!="function"||b===r.memoizedProps&&te===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&te===r.memoizedState||(s.flags|=1024),h=!1)}return df(r,s,l,h,g,f)}function df(r,s,l,h,f,g){Dy(r,s);var E=(s.flags&128)!==0;if(!h&&!E)return f&&zg(s,l,!1),ti(r,s,g);h=s.stateNode,mT.current=s;var b=E&&typeof l.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&E?(s.child=Mo(s,r.child,null,g),s.child=Mo(s,null,b,g)):on(r,s,b,g),s.memoizedState=h.state,f&&zg(s,l,!0),s.child}function My(r){var s=r.stateNode;s.pendingContext?Fg(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Fg(r,s.context,!1),Gd(r,s.containerInfo)}function Ly(r,s,l,h,f){return Vo(),jd(f),s.flags|=256,on(r,s,l,h),s.child}var ff={dehydrated:null,treeContext:null,retryLane:0};function pf(r){return{baseLanes:r,cachePool:null,transitions:null}}function Fy(r,s,l){var h=s.pendingProps,f=lt.current,g=!1,E=(s.flags&128)!==0,b;if((b=E)||(b=r!==null&&r.memoizedState===null?!1:(f&2)!==0),b?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),tt(lt,f&1),r===null)return zd(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(E=h.children,r=h.fallback,g?(h=s.mode,g=s.child,E={mode:"hidden",children:E},!(h&1)&&g!==null?(g.childLanes=0,g.pendingProps=E):g=Ec(E,h,0,null),r=Ms(r,h,l,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=pf(l),s.memoizedState=ff,r):mf(s,E));if(f=r.memoizedState,f!==null&&(b=f.dehydrated,b!==null))return gT(r,s,E,h,b,f,l);if(g){g=h.fallback,E=s.mode,f=r.child,b=f.sibling;var D={mode:"hidden",children:h.children};return!(E&1)&&s.child!==f?(h=s.child,h.childLanes=0,h.pendingProps=D,s.deletions=null):(h=Bi(f,D),h.subtreeFlags=f.subtreeFlags&14680064),b!==null?g=Bi(b,g):(g=Ms(g,E,l,null),g.flags|=2),g.return=s,h.return=s,h.sibling=g,s.child=h,h=g,g=s.child,E=r.child.memoizedState,E=E===null?pf(l):{baseLanes:E.baseLanes|l,cachePool:null,transitions:E.transitions},g.memoizedState=E,g.childLanes=r.childLanes&~l,s.memoizedState=ff,h}return g=r.child,r=g.sibling,h=Bi(g,{mode:"visible",children:h.children}),!(s.mode&1)&&(h.lanes=l),h.return=s,h.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=h,s.memoizedState=null,h}function mf(r,s){return s=Ec({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function lc(r,s,l,h){return h!==null&&jd(h),Mo(s,r.child,null,l),r=mf(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function gT(r,s,l,h,f,g,E){if(l)return s.flags&256?(s.flags&=-257,h=uf(Error(t(422))),lc(r,s,E,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=h.fallback,f=s.mode,h=Ec({mode:"visible",children:h.children},f,0,null),g=Ms(g,f,E,null),g.flags|=2,h.return=s,g.return=s,h.sibling=g,s.child=h,s.mode&1&&Mo(s,r.child,null,E),s.child.memoizedState=pf(E),s.memoizedState=ff,g);if(!(s.mode&1))return lc(r,s,E,null);if(f.data==="$!"){if(h=f.nextSibling&&f.nextSibling.dataset,h)var b=h.dgst;return h=b,g=Error(t(419)),h=uf(g,h,void 0),lc(r,s,E,h)}if(b=(E&r.childLanes)!==0,dn||b){if(h=Ot,h!==null){switch(E&-E){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(h.suspendedLanes|E)?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,Zr(r,f),hr(h,r,f,-1))}return xf(),h=uf(Error(t(421))),lc(r,s,E,h)}return f.data==="$?"?(s.flags|=128,s.child=r.child,s=PT.bind(null,r),f._reactRetry=s,null):(r=g.treeContext,Sn=xi(f.nextSibling),Tn=s,ot=!0,ar=null,r!==null&&(Un[zn++]=Yr,Un[zn++]=Jr,Un[zn++]=Rs,Yr=r.id,Jr=r.overflow,Rs=s),s=mf(s,h.children),s.flags|=4096,s)}function Uy(r,s,l){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),Hd(r.return,s,l)}function gf(r,s,l,h,f){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=h,g.tail=l,g.tailMode=f)}function zy(r,s,l){var h=s.pendingProps,f=h.revealOrder,g=h.tail;if(on(r,s,h.children,l),h=lt.current,h&2)h=h&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Uy(r,l,s);else if(r.tag===19)Uy(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(tt(lt,h),!(s.mode&1))s.memoizedState=null;else switch(f){case"forwards":for(l=s.child,f=null;l!==null;)r=l.alternate,r!==null&&tc(r)===null&&(f=l),l=l.sibling;l=f,l===null?(f=s.child,s.child=null):(f=l.sibling,l.sibling=null),gf(s,!1,f,l,g);break;case"backwards":for(l=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&tc(r)===null){s.child=f;break}r=f.sibling,f.sibling=l,l=f,f=r}gf(s,!0,l,null,g);break;case"together":gf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function uc(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function ti(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),Ns|=s.lanes,!(l&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,l=Bi(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=Bi(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function yT(r,s,l){switch(s.tag){case 3:My(s),Vo();break;case 5:ey(s);break;case 1:hn(s.type)&&Hu(s);break;case 4:Gd(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,f=s.memoizedProps.value;tt(Yu,h._currentValue),h._currentValue=f;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(tt(lt,lt.current&1),s.flags|=128,null):l&s.child.childLanes?Fy(r,s,l):(tt(lt,lt.current&1),r=ti(r,s,l),r!==null?r.sibling:null);tt(lt,lt.current&1);break;case 19:if(h=(l&s.childLanes)!==0,r.flags&128){if(h)return zy(r,s,l);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),tt(lt,lt.current),h)break;return null;case 22:case 23:return s.lanes=0,Oy(r,s,l)}return ti(r,s,l)}var jy,yf,By,$y;jy=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},yf=function(){},By=function(r,s,l,h){var f=r.memoizedProps;if(f!==h){r=s.stateNode,bs(Ar.current);var g=null;switch(l){case"input":f=Ur(r,f),h=Ur(r,h),g=[];break;case"select":f=le({},f,{value:void 0}),h=le({},h,{value:void 0}),g=[];break;case"textarea":f=ls(r,f),h=ls(r,h),g=[];break;default:typeof f.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=Bu)}Oa(l,h);var E;l=null;for(H in f)if(!h.hasOwnProperty(H)&&f.hasOwnProperty(H)&&f[H]!=null)if(H==="style"){var b=f[H];for(E in b)b.hasOwnProperty(E)&&(l||(l={}),l[E]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(o.hasOwnProperty(H)?g||(g=[]):(g=g||[]).push(H,null));for(H in h){var D=h[H];if(b=f!=null?f[H]:void 0,h.hasOwnProperty(H)&&D!==b&&(D!=null||b!=null))if(H==="style")if(b){for(E in b)!b.hasOwnProperty(E)||D&&D.hasOwnProperty(E)||(l||(l={}),l[E]="");for(E in D)D.hasOwnProperty(E)&&b[E]!==D[E]&&(l||(l={}),l[E]=D[E])}else l||(g||(g=[]),g.push(H,l)),l=D;else H==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,b=b?b.__html:void 0,D!=null&&b!==D&&(g=g||[]).push(H,D)):H==="children"?typeof D!="string"&&typeof D!="number"||(g=g||[]).push(H,""+D):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(o.hasOwnProperty(H)?(D!=null&&H==="onScroll"&&nt("scroll",r),g||b===D||(g=[])):(g=g||[]).push(H,D))}l&&(g=g||[]).push("style",l);var H=g;(s.updateQueue=H)&&(s.flags|=4)}},$y=function(r,s,l,h){l!==h&&(s.flags|=4)};function fl(r,s){if(!ot)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Gt(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,h=0;if(s)for(var f=r.child;f!==null;)l|=f.lanes|f.childLanes,h|=f.subtreeFlags&14680064,h|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)l|=f.lanes|f.childLanes,h|=f.subtreeFlags,h|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=h,r.childLanes=l,s}function vT(r,s,l){var h=s.pendingProps;switch(Fd(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(s),null;case 1:return hn(s.type)&&Wu(),Gt(s),null;case 3:return h=s.stateNode,Uo(),rt(cn),rt(qt),Yd(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(Qu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,ar!==null&&(kf(ar),ar=null))),yf(r,s),Gt(s),null;case 5:Qd(s);var f=bs(ll.current);if(l=s.type,r!==null&&s.stateNode!=null)By(r,s,l,h,f),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return Gt(s),null}if(r=bs(Ar.current),Qu(s)){h=s.stateNode,l=s.type;var g=s.memoizedProps;switch(h[Cr]=s,h[rl]=g,r=(s.mode&1)!==0,l){case"dialog":nt("cancel",h),nt("close",h);break;case"iframe":case"object":case"embed":nt("load",h);break;case"video":case"audio":for(f=0;f<el.length;f++)nt(el[f],h);break;case"source":nt("error",h);break;case"img":case"image":case"link":nt("error",h),nt("load",h);break;case"details":nt("toggle",h);break;case"input":yr(h,g),nt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!g.multiple},nt("invalid",h);break;case"textarea":Te(h,g),nt("invalid",h)}Oa(l,g),f=null;for(var E in g)if(g.hasOwnProperty(E)){var b=g[E];E==="children"?typeof b=="string"?h.textContent!==b&&(g.suppressHydrationWarning!==!0&&ju(h.textContent,b,r),f=["children",b]):typeof b=="number"&&h.textContent!==""+b&&(g.suppressHydrationWarning!==!0&&ju(h.textContent,b,r),f=["children",""+b]):o.hasOwnProperty(E)&&b!=null&&E==="onScroll"&&nt("scroll",h)}switch(l){case"input":Qn(h),zr(h,g,!0);break;case"textarea":Qn(h),us(h);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(h.onclick=Bu)}h=f,s.updateQueue=h,h!==null&&(s.flags|=4)}else{E=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=ht(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=E.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=E.createElement(l,{is:h.is}):(r=E.createElement(l),l==="select"&&(E=r,h.multiple?E.multiple=!0:h.size&&(E.size=h.size))):r=E.createElementNS(r,l),r[Cr]=s,r[rl]=h,jy(r,s,!1,!1),s.stateNode=r;e:{switch(E=Da(l,h),l){case"dialog":nt("cancel",r),nt("close",r),f=h;break;case"iframe":case"object":case"embed":nt("load",r),f=h;break;case"video":case"audio":for(f=0;f<el.length;f++)nt(el[f],r);f=h;break;case"source":nt("error",r),f=h;break;case"img":case"image":case"link":nt("error",r),nt("load",r),f=h;break;case"details":nt("toggle",r),f=h;break;case"input":yr(r,h),f=Ur(r,h),nt("invalid",r);break;case"option":f=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},f=le({},h,{value:void 0}),nt("invalid",r);break;case"textarea":Te(r,h),f=ls(r,h),nt("invalid",r);break;default:f=h}Oa(l,f),b=f;for(g in b)if(b.hasOwnProperty(g)){var D=b[g];g==="style"?xa(r,D):g==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&Pa(r,D)):g==="children"?typeof D=="string"?(l!=="textarea"||D!=="")&&wi(r,D):typeof D=="number"&&wi(r,""+D):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?D!=null&&g==="onScroll"&&nt("scroll",r):D!=null&&W(r,g,D,E))}switch(l){case"input":Qn(r),zr(r,h,!1);break;case"textarea":Qn(r),us(r);break;case"option":h.value!=null&&r.setAttribute("value",""+je(h.value));break;case"select":r.multiple=!!h.multiple,g=h.value,g!=null?Dn(r,!!h.multiple,g,!1):h.defaultValue!=null&&Dn(r,!!h.multiple,h.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=Bu)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Gt(s),null;case 6:if(r&&s.stateNode!=null)$y(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(l=bs(ll.current),bs(Ar.current),Qu(s)){if(h=s.stateNode,l=s.memoizedProps,h[Cr]=s,(g=h.nodeValue!==l)&&(r=Tn,r!==null))switch(r.tag){case 3:ju(h.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&ju(h.nodeValue,l,(r.mode&1)!==0)}g&&(s.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[Cr]=s,s.stateNode=h}return Gt(s),null;case 13:if(rt(lt),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(ot&&Sn!==null&&s.mode&1&&!(s.flags&128))qg(),Vo(),s.flags|=98560,g=!1;else if(g=Qu(s),h!==null&&h.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[Cr]=s}else Vo(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Gt(s),g=!1}else ar!==null&&(kf(ar),ar=null),g=!0;if(!g)return s.flags&65536?s:null}return s.flags&128?(s.lanes=l,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,s.mode&1&&(r===null||lt.current&1?kt===0&&(kt=3):xf())),s.updateQueue!==null&&(s.flags|=4),Gt(s),null);case 4:return Uo(),yf(r,s),r===null&&tl(s.stateNode.containerInfo),Gt(s),null;case 10:return Wd(s.type._context),Gt(s),null;case 17:return hn(s.type)&&Wu(),Gt(s),null;case 19:if(rt(lt),g=s.memoizedState,g===null)return Gt(s),null;if(h=(s.flags&128)!==0,E=g.rendering,E===null)if(h)fl(g,!1);else{if(kt!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(E=tc(r),E!==null){for(s.flags|=128,fl(g,!1),h=E.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=l,l=s.child;l!==null;)g=l,r=h,g.flags&=14680066,E=g.alternate,E===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=E.childLanes,g.lanes=E.lanes,g.child=E.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=E.memoizedProps,g.memoizedState=E.memoizedState,g.updateQueue=E.updateQueue,g.type=E.type,r=E.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return tt(lt,lt.current&1|2),s.child}r=r.sibling}g.tail!==null&&et()>$o&&(s.flags|=128,h=!0,fl(g,!1),s.lanes=4194304)}else{if(!h)if(r=tc(E),r!==null){if(s.flags|=128,h=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),fl(g,!0),g.tail===null&&g.tailMode==="hidden"&&!E.alternate&&!ot)return Gt(s),null}else 2*et()-g.renderingStartTime>$o&&l!==1073741824&&(s.flags|=128,h=!0,fl(g,!1),s.lanes=4194304);g.isBackwards?(E.sibling=s.child,s.child=E):(l=g.last,l!==null?l.sibling=E:s.child=E,g.last=E)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=et(),s.sibling=null,l=lt.current,tt(lt,h?l&1|2:l&1),s):(Gt(s),null);case 22:case 23:return bf(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&s.mode&1?In&1073741824&&(Gt(s),s.subtreeFlags&6&&(s.flags|=8192)):Gt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function _T(r,s){switch(Fd(s),s.tag){case 1:return hn(s.type)&&Wu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Uo(),rt(cn),rt(qt),Yd(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return Qd(s),null;case 13:if(rt(lt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Vo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return rt(lt),null;case 4:return Uo(),null;case 10:return Wd(s.type._context),null;case 22:case 23:return bf(),null;case 24:return null;default:return null}}var cc=!1,Qt=!1,wT=typeof WeakSet=="function"?WeakSet:Set,he=null;function jo(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){dt(r,s,h)}else l.current=null}function vf(r,s,l){try{l()}catch(h){dt(r,s,h)}}var Wy=!1;function ET(r,s){if(Pd=ki,r=Tg(),Ed(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var f=h.anchorOffset,g=h.focusNode;h=h.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var E=0,b=-1,D=-1,H=0,ne=0,re=r,te=null;t:for(;;){for(var ue;re!==l||f!==0&&re.nodeType!==3||(b=E+f),re!==g||h!==0&&re.nodeType!==3||(D=E+h),re.nodeType===3&&(E+=re.nodeValue.length),(ue=re.firstChild)!==null;)te=re,re=ue;for(;;){if(re===r)break t;if(te===l&&++H===f&&(b=E),te===g&&++ne===h&&(D=E),(ue=re.nextSibling)!==null)break;re=te,te=re.parentNode}re=ue}l=b===-1||D===-1?null:{start:b,end:D}}else l=null}l=l||{start:0,end:0}}else l=null;for(bd={focusedElem:r,selectionRange:l},ki=!1,he=s;he!==null;)if(s=he,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,he=r;else for(;he!==null;){s=he;try{var de=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(de!==null){var me=de.memoizedProps,gt=de.memoizedState,j=s.stateNode,L=j.getSnapshotBeforeUpdate(s.elementType===s.type?me:lr(s.type,me),gt);j.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var $=s.stateNode.containerInfo;$.nodeType===1?$.textContent="":$.nodeType===9&&$.documentElement&&$.removeChild($.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ie){dt(s,s.return,ie)}if(r=s.sibling,r!==null){r.return=s.return,he=r;break}he=s.return}return de=Wy,Wy=!1,de}function pl(r,s,l){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var f=h=h.next;do{if((f.tag&r)===r){var g=f.destroy;f.destroy=void 0,g!==void 0&&vf(s,l,g)}f=f.next}while(f!==h)}}function hc(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var h=l.create;l.destroy=h()}l=l.next}while(l!==s)}}function _f(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function Hy(r){var s=r.alternate;s!==null&&(r.alternate=null,Hy(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[Cr],delete s[rl],delete s[Dd],delete s[rT],delete s[iT])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function qy(r){return r.tag===5||r.tag===3||r.tag===4}function Ky(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||qy(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function wf(r,s,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Bu));else if(h!==4&&(r=r.child,r!==null))for(wf(r,s,l),r=r.sibling;r!==null;)wf(r,s,l),r=r.sibling}function Ef(r,s,l){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(Ef(r,s,l),r=r.sibling;r!==null;)Ef(r,s,l),r=r.sibling}var Ft=null,ur=!1;function Li(r,s,l){for(l=l.child;l!==null;)Gy(r,s,l),l=l.sibling}function Gy(r,s,l){if(vn&&typeof vn.onCommitFiberUnmount=="function")try{vn.onCommitFiberUnmount(vs,l)}catch{}switch(l.tag){case 5:Qt||jo(l,s);case 6:var h=Ft,f=ur;Ft=null,Li(r,s,l),Ft=h,ur=f,Ft!==null&&(ur?(r=Ft,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):Ft.removeChild(l.stateNode));break;case 18:Ft!==null&&(ur?(r=Ft,l=l.stateNode,r.nodeType===8?Od(r.parentNode,l):r.nodeType===1&&Od(r,l),ir(r)):Od(Ft,l.stateNode));break;case 4:h=Ft,f=ur,Ft=l.stateNode.containerInfo,ur=!0,Li(r,s,l),Ft=h,ur=f;break;case 0:case 11:case 14:case 15:if(!Qt&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){f=h=h.next;do{var g=f,E=g.destroy;g=g.tag,E!==void 0&&(g&2||g&4)&&vf(l,s,E),f=f.next}while(f!==h)}Li(r,s,l);break;case 1:if(!Qt&&(jo(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(b){dt(l,s,b)}Li(r,s,l);break;case 21:Li(r,s,l);break;case 22:l.mode&1?(Qt=(h=Qt)||l.memoizedState!==null,Li(r,s,l),Qt=h):Li(r,s,l);break;default:Li(r,s,l)}}function Qy(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new wT),s.forEach(function(h){var f=bT.bind(null,r,h);l.has(h)||(l.add(h),h.then(f,f))})}}function cr(r,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var f=l[h];try{var g=r,E=s,b=E;e:for(;b!==null;){switch(b.tag){case 5:Ft=b.stateNode,ur=!1;break e;case 3:Ft=b.stateNode.containerInfo,ur=!0;break e;case 4:Ft=b.stateNode.containerInfo,ur=!0;break e}b=b.return}if(Ft===null)throw Error(t(160));Gy(g,E,f),Ft=null,ur=!1;var D=f.alternate;D!==null&&(D.return=null),f.return=null}catch(H){dt(f,s,H)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Xy(s,r),s=s.sibling}function Xy(r,s){var l=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(cr(s,r),kr(r),h&4){try{pl(3,r,r.return),hc(3,r)}catch(me){dt(r,r.return,me)}try{pl(5,r,r.return)}catch(me){dt(r,r.return,me)}}break;case 1:cr(s,r),kr(r),h&512&&l!==null&&jo(l,l.return);break;case 5:if(cr(s,r),kr(r),h&512&&l!==null&&jo(l,l.return),r.flags&32){var f=r.stateNode;try{wi(f,"")}catch(me){dt(r,r.return,me)}}if(h&4&&(f=r.stateNode,f!=null)){var g=r.memoizedProps,E=l!==null?l.memoizedProps:g,b=r.type,D=r.updateQueue;if(r.updateQueue=null,D!==null)try{b==="input"&&g.type==="radio"&&g.name!=null&&os(f,g),Da(b,E);var H=Da(b,g);for(E=0;E<D.length;E+=2){var ne=D[E],re=D[E+1];ne==="style"?xa(f,re):ne==="dangerouslySetInnerHTML"?Pa(f,re):ne==="children"?wi(f,re):W(f,ne,re,H)}switch(b){case"input":as(f,g);break;case"textarea":jr(f,g);break;case"select":var te=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var ue=g.value;ue!=null?Dn(f,!!g.multiple,ue,!1):te!==!!g.multiple&&(g.defaultValue!=null?Dn(f,!!g.multiple,g.defaultValue,!0):Dn(f,!!g.multiple,g.multiple?[]:"",!1))}f[rl]=g}catch(me){dt(r,r.return,me)}}break;case 6:if(cr(s,r),kr(r),h&4){if(r.stateNode===null)throw Error(t(162));f=r.stateNode,g=r.memoizedProps;try{f.nodeValue=g}catch(me){dt(r,r.return,me)}}break;case 3:if(cr(s,r),kr(r),h&4&&l!==null&&l.memoizedState.isDehydrated)try{ir(s.containerInfo)}catch(me){dt(r,r.return,me)}break;case 4:cr(s,r),kr(r);break;case 13:cr(s,r),kr(r),f=r.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(If=et())),h&4&&Qy(r);break;case 22:if(ne=l!==null&&l.memoizedState!==null,r.mode&1?(Qt=(H=Qt)||ne,cr(s,r),Qt=H):cr(s,r),kr(r),h&8192){if(H=r.memoizedState!==null,(r.stateNode.isHidden=H)&&!ne&&r.mode&1)for(he=r,ne=r.child;ne!==null;){for(re=he=ne;he!==null;){switch(te=he,ue=te.child,te.tag){case 0:case 11:case 14:case 15:pl(4,te,te.return);break;case 1:jo(te,te.return);var de=te.stateNode;if(typeof de.componentWillUnmount=="function"){h=te,l=te.return;try{s=h,de.props=s.memoizedProps,de.state=s.memoizedState,de.componentWillUnmount()}catch(me){dt(h,l,me)}}break;case 5:jo(te,te.return);break;case 22:if(te.memoizedState!==null){Zy(re);continue}}ue!==null?(ue.return=te,he=ue):Zy(re)}ne=ne.sibling}e:for(ne=null,re=r;;){if(re.tag===5){if(ne===null){ne=re;try{f=re.stateNode,H?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(b=re.stateNode,D=re.memoizedProps.style,E=D!=null&&D.hasOwnProperty("display")?D.display:null,b.style.display=ba("display",E))}catch(me){dt(r,r.return,me)}}}else if(re.tag===6){if(ne===null)try{re.stateNode.nodeValue=H?"":re.memoizedProps}catch(me){dt(r,r.return,me)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===r)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===r)break e;for(;re.sibling===null;){if(re.return===null||re.return===r)break e;ne===re&&(ne=null),re=re.return}ne===re&&(ne=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:cr(s,r),kr(r),h&4&&Qy(r);break;case 21:break;default:cr(s,r),kr(r)}}function kr(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(qy(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var f=h.stateNode;h.flags&32&&(wi(f,""),h.flags&=-33);var g=Ky(r);Ef(r,g,f);break;case 3:case 4:var E=h.stateNode.containerInfo,b=Ky(r);wf(r,b,E);break;default:throw Error(t(161))}}catch(D){dt(r,r.return,D)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function TT(r,s,l){he=r,Yy(r)}function Yy(r,s,l){for(var h=(r.mode&1)!==0;he!==null;){var f=he,g=f.child;if(f.tag===22&&h){var E=f.memoizedState!==null||cc;if(!E){var b=f.alternate,D=b!==null&&b.memoizedState!==null||Qt;b=cc;var H=Qt;if(cc=E,(Qt=D)&&!H)for(he=f;he!==null;)E=he,D=E.child,E.tag===22&&E.memoizedState!==null?ev(f):D!==null?(D.return=E,he=D):ev(f);for(;g!==null;)he=g,Yy(g),g=g.sibling;he=f,cc=b,Qt=H}Jy(r)}else f.subtreeFlags&8772&&g!==null?(g.return=f,he=g):Jy(r)}}function Jy(r){for(;he!==null;){var s=he;if(s.flags&8772){var l=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Qt||hc(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!Qt)if(l===null)h.componentDidMount();else{var f=s.elementType===s.type?l.memoizedProps:lr(s.type,l.memoizedProps);h.componentDidUpdate(f,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&Zg(s,g,h);break;case 3:var E=s.updateQueue;if(E!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}Zg(s,E,l)}break;case 5:var b=s.stateNode;if(l===null&&s.flags&4){l=b;var D=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&l.focus();break;case"img":D.src&&(l.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var H=s.alternate;if(H!==null){var ne=H.memoizedState;if(ne!==null){var re=ne.dehydrated;re!==null&&ir(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Qt||s.flags&512&&_f(s)}catch(te){dt(s,s.return,te)}}if(s===r){he=null;break}if(l=s.sibling,l!==null){l.return=s.return,he=l;break}he=s.return}}function Zy(r){for(;he!==null;){var s=he;if(s===r){he=null;break}var l=s.sibling;if(l!==null){l.return=s.return,he=l;break}he=s.return}}function ev(r){for(;he!==null;){var s=he;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{hc(4,s)}catch(D){dt(s,l,D)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var f=s.return;try{h.componentDidMount()}catch(D){dt(s,f,D)}}var g=s.return;try{_f(s)}catch(D){dt(s,g,D)}break;case 5:var E=s.return;try{_f(s)}catch(D){dt(s,E,D)}}}catch(D){dt(s,s.return,D)}if(s===r){he=null;break}var b=s.sibling;if(b!==null){b.return=s.return,he=b;break}he=s.return}}var ST=Math.ceil,dc=B.ReactCurrentDispatcher,Tf=B.ReactCurrentOwner,$n=B.ReactCurrentBatchConfig,Be=0,Ot=null,Tt=null,Ut=0,In=0,Bo=Ni(0),kt=0,ml=null,Ns=0,fc=0,Sf=0,gl=null,fn=null,If=0,$o=1/0,ni=null,pc=!1,Cf=null,Fi=null,mc=!1,Ui=null,gc=0,yl=0,Af=null,yc=-1,vc=0;function an(){return Be&6?et():yc!==-1?yc:yc=et()}function zi(r){return r.mode&1?Be&2&&Ut!==0?Ut&-Ut:oT.transition!==null?(vc===0&&(vc=ws()),vc):(r=Ve,r!==0||(r=window.event,r=r===void 0?16:Ha(r.type)),r):1}function hr(r,s,l,h){if(50<yl)throw yl=0,Af=null,Error(t(185));Ii(r,l,h),(!(Be&2)||r!==Ot)&&(r===Ot&&(!(Be&2)&&(fc|=l),kt===4&&ji(r,Ut)),pn(r,h),l===1&&Be===0&&!(s.mode&1)&&($o=et()+500,qu&&Di()))}function pn(r,s){var l=r.callbackNode;Wr(r,s);var h=_s(r,r===Ot?Ut:0);if(h===0)l!==null&&za(l),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(l!=null&&za(l),s===1)r.tag===0?sT(nv.bind(null,r)):jg(nv.bind(null,r)),tT(function(){!(Be&6)&&Di()}),l=null;else{switch(Ai(h)){case 1:l=ys;break;case 4:l=Ei;break;case 16:l=Mn;break;case 536870912:l=vu;break;default:l=Mn}l=cv(l,tv.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function tv(r,s){if(yc=-1,vc=0,Be&6)throw Error(t(327));var l=r.callbackNode;if(Wo()&&r.callbackNode!==l)return null;var h=_s(r,r===Ot?Ut:0);if(h===0)return null;if(h&30||h&r.expiredLanes||s)s=_c(r,h);else{s=h;var f=Be;Be|=2;var g=iv();(Ot!==r||Ut!==s)&&(ni=null,$o=et()+500,Ds(r,s));do try{AT();break}catch(b){rv(r,b)}while(!0);$d(),dc.current=g,Be=f,Tt!==null?s=0:(Ot=null,Ut=0,s=kt)}if(s!==0){if(s===2&&(f=_n(r),f!==0&&(h=f,s=Rf(r,f))),s===1)throw l=ml,Ds(r,0),ji(r,h),pn(r,et()),l;if(s===6)ji(r,h);else{if(f=r.current.alternate,!(h&30)&&!IT(f)&&(s=_c(r,h),s===2&&(g=_n(r),g!==0&&(h=g,s=Rf(r,g))),s===1))throw l=ml,Ds(r,0),ji(r,h),pn(r,et()),l;switch(r.finishedWork=f,r.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:Vs(r,fn,ni);break;case 3:if(ji(r,h),(h&130023424)===h&&(s=If+500-et(),10<s)){if(_s(r,0)!==0)break;if(f=r.suspendedLanes,(f&h)!==h){an(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=Nd(Vs.bind(null,r,fn,ni),s);break}Vs(r,fn,ni);break;case 4:if(ji(r,h),(h&4194240)===h)break;for(s=r.eventTimes,f=-1;0<h;){var E=31-rn(h);g=1<<E,E=s[E],E>f&&(f=E),h&=~g}if(h=f,h=et()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*ST(h/1960))-h,10<h){r.timeoutHandle=Nd(Vs.bind(null,r,fn,ni),h);break}Vs(r,fn,ni);break;case 5:Vs(r,fn,ni);break;default:throw Error(t(329))}}}return pn(r,et()),r.callbackNode===l?tv.bind(null,r):null}function Rf(r,s){var l=gl;return r.current.memoizedState.isDehydrated&&(Ds(r,s).flags|=256),r=_c(r,s),r!==2&&(s=fn,fn=l,s!==null&&kf(s)),r}function kf(r){fn===null?fn=r:fn.push.apply(fn,r)}function IT(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var f=l[h],g=f.getSnapshot;f=f.value;try{if(!or(g(),f))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ji(r,s){for(s&=~Sf,s&=~fc,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-rn(s),h=1<<l;r[l]=-1,s&=~h}}function nv(r){if(Be&6)throw Error(t(327));Wo();var s=_s(r,0);if(!(s&1))return pn(r,et()),null;var l=_c(r,s);if(r.tag!==0&&l===2){var h=_n(r);h!==0&&(s=h,l=Rf(r,h))}if(l===1)throw l=ml,Ds(r,0),ji(r,s),pn(r,et()),l;if(l===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Vs(r,fn,ni),pn(r,et()),null}function Pf(r,s){var l=Be;Be|=1;try{return r(s)}finally{Be=l,Be===0&&($o=et()+500,qu&&Di())}}function Os(r){Ui!==null&&Ui.tag===0&&!(Be&6)&&Wo();var s=Be;Be|=1;var l=$n.transition,h=Ve;try{if($n.transition=null,Ve=1,r)return r()}finally{Ve=h,$n.transition=l,Be=s,!(Be&6)&&Di()}}function bf(){In=Bo.current,rt(Bo)}function Ds(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,eT(l)),Tt!==null)for(l=Tt.return;l!==null;){var h=l;switch(Fd(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Wu();break;case 3:Uo(),rt(cn),rt(qt),Yd();break;case 5:Qd(h);break;case 4:Uo();break;case 13:rt(lt);break;case 19:rt(lt);break;case 10:Wd(h.type._context);break;case 22:case 23:bf()}l=l.return}if(Ot=r,Tt=r=Bi(r.current,null),Ut=In=s,kt=0,ml=null,Sf=fc=Ns=0,fn=gl=null,Ps!==null){for(s=0;s<Ps.length;s++)if(l=Ps[s],h=l.interleaved,h!==null){l.interleaved=null;var f=h.next,g=l.pending;if(g!==null){var E=g.next;g.next=f,h.next=E}l.pending=h}Ps=null}return r}function rv(r,s){do{var l=Tt;try{if($d(),nc.current=oc,rc){for(var h=ut.memoizedState;h!==null;){var f=h.queue;f!==null&&(f.pending=null),h=h.next}rc=!1}if(xs=0,Nt=Rt=ut=null,ul=!1,cl=0,Tf.current=null,l===null||l.return===null){kt=1,ml=s,Tt=null;break}e:{var g=r,E=l.return,b=l,D=s;if(s=Ut,b.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var H=D,ne=b,re=ne.tag;if(!(ne.mode&1)&&(re===0||re===11||re===15)){var te=ne.alternate;te?(ne.updateQueue=te.updateQueue,ne.memoizedState=te.memoizedState,ne.lanes=te.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var ue=ky(E);if(ue!==null){ue.flags&=-257,Py(ue,E,b,g,s),ue.mode&1&&Ry(g,H,s),s=ue,D=H;var de=s.updateQueue;if(de===null){var me=new Set;me.add(D),s.updateQueue=me}else de.add(D);break e}else{if(!(s&1)){Ry(g,H,s),xf();break e}D=Error(t(426))}}else if(ot&&b.mode&1){var gt=ky(E);if(gt!==null){!(gt.flags&65536)&&(gt.flags|=256),Py(gt,E,b,g,s),jd(zo(D,b));break e}}g=D=zo(D,b),kt!==4&&(kt=2),gl===null?gl=[g]:gl.push(g),g=E;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var j=Cy(g,D,s);Jg(g,j);break e;case 1:b=D;var L=g.type,$=g.stateNode;if(!(g.flags&128)&&(typeof L.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(Fi===null||!Fi.has($)))){g.flags|=65536,s&=-s,g.lanes|=s;var ie=Ay(g,b,s);Jg(g,ie);break e}}g=g.return}while(g!==null)}ov(l)}catch(ge){s=ge,Tt===l&&l!==null&&(Tt=l=l.return);continue}break}while(!0)}function iv(){var r=dc.current;return dc.current=oc,r===null?oc:r}function xf(){(kt===0||kt===3||kt===2)&&(kt=4),Ot===null||!(Ns&268435455)&&!(fc&268435455)||ji(Ot,Ut)}function _c(r,s){var l=Be;Be|=2;var h=iv();(Ot!==r||Ut!==s)&&(ni=null,Ds(r,s));do try{CT();break}catch(f){rv(r,f)}while(!0);if($d(),Be=l,dc.current=h,Tt!==null)throw Error(t(261));return Ot=null,Ut=0,kt}function CT(){for(;Tt!==null;)sv(Tt)}function AT(){for(;Tt!==null&&!gu();)sv(Tt)}function sv(r){var s=uv(r.alternate,r,In);r.memoizedProps=r.pendingProps,s===null?ov(r):Tt=s,Tf.current=null}function ov(r){var s=r;do{var l=s.alternate;if(r=s.return,s.flags&32768){if(l=_T(l,s),l!==null){l.flags&=32767,Tt=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{kt=6,Tt=null;return}}else if(l=vT(l,s,In),l!==null){Tt=l;return}if(s=s.sibling,s!==null){Tt=s;return}Tt=s=r}while(s!==null);kt===0&&(kt=5)}function Vs(r,s,l){var h=Ve,f=$n.transition;try{$n.transition=null,Ve=1,RT(r,s,l,h)}finally{$n.transition=f,Ve=h}return null}function RT(r,s,l,h){do Wo();while(Ui!==null);if(Be&6)throw Error(t(327));l=r.finishedWork;var f=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=l.lanes|l.childLanes;if(Ye(r,g),r===Ot&&(Tt=Ot=null,Ut=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||mc||(mc=!0,cv(Mn,function(){return Wo(),null})),g=(l.flags&15990)!==0,l.subtreeFlags&15990||g){g=$n.transition,$n.transition=null;var E=Ve;Ve=1;var b=Be;Be|=4,Tf.current=null,ET(r,l),Xy(l,r),KE(bd),ki=!!Pd,bd=Pd=null,r.current=l,TT(l),fd(),Be=b,Ve=E,$n.transition=g}else r.current=l;if(mc&&(mc=!1,Ui=r,gc=f),g=r.pendingLanes,g===0&&(Fi=null),_u(l.stateNode),pn(r,et()),s!==null)for(h=r.onRecoverableError,l=0;l<s.length;l++)f=s[l],h(f.value,{componentStack:f.stack,digest:f.digest});if(pc)throw pc=!1,r=Cf,Cf=null,r;return gc&1&&r.tag!==0&&Wo(),g=r.pendingLanes,g&1?r===Af?yl++:(yl=0,Af=r):yl=0,Di(),null}function Wo(){if(Ui!==null){var r=Ai(gc),s=$n.transition,l=Ve;try{if($n.transition=null,Ve=16>r?16:r,Ui===null)var h=!1;else{if(r=Ui,Ui=null,gc=0,Be&6)throw Error(t(331));var f=Be;for(Be|=4,he=r.current;he!==null;){var g=he,E=g.child;if(he.flags&16){var b=g.deletions;if(b!==null){for(var D=0;D<b.length;D++){var H=b[D];for(he=H;he!==null;){var ne=he;switch(ne.tag){case 0:case 11:case 15:pl(8,ne,g)}var re=ne.child;if(re!==null)re.return=ne,he=re;else for(;he!==null;){ne=he;var te=ne.sibling,ue=ne.return;if(Hy(ne),ne===H){he=null;break}if(te!==null){te.return=ue,he=te;break}he=ue}}}var de=g.alternate;if(de!==null){var me=de.child;if(me!==null){de.child=null;do{var gt=me.sibling;me.sibling=null,me=gt}while(me!==null)}}he=g}}if(g.subtreeFlags&2064&&E!==null)E.return=g,he=E;else e:for(;he!==null;){if(g=he,g.flags&2048)switch(g.tag){case 0:case 11:case 15:pl(9,g,g.return)}var j=g.sibling;if(j!==null){j.return=g.return,he=j;break e}he=g.return}}var L=r.current;for(he=L;he!==null;){E=he;var $=E.child;if(E.subtreeFlags&2064&&$!==null)$.return=E,he=$;else e:for(E=L;he!==null;){if(b=he,b.flags&2048)try{switch(b.tag){case 0:case 11:case 15:hc(9,b)}}catch(ge){dt(b,b.return,ge)}if(b===E){he=null;break e}var ie=b.sibling;if(ie!==null){ie.return=b.return,he=ie;break e}he=b.return}}if(Be=f,Di(),vn&&typeof vn.onPostCommitFiberRoot=="function")try{vn.onPostCommitFiberRoot(vs,r)}catch{}h=!0}return h}finally{Ve=l,$n.transition=s}}return!1}function av(r,s,l){s=zo(l,s),s=Cy(r,s,1),r=Mi(r,s,1),s=an(),r!==null&&(Ii(r,1,s),pn(r,s))}function dt(r,s,l){if(r.tag===3)av(r,r,l);else for(;s!==null;){if(s.tag===3){av(s,r,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Fi===null||!Fi.has(h))){r=zo(l,r),r=Ay(s,r,1),s=Mi(s,r,1),r=an(),s!==null&&(Ii(s,1,r),pn(s,r));break}}s=s.return}}function kT(r,s,l){var h=r.pingCache;h!==null&&h.delete(s),s=an(),r.pingedLanes|=r.suspendedLanes&l,Ot===r&&(Ut&l)===l&&(kt===4||kt===3&&(Ut&130023424)===Ut&&500>et()-If?Ds(r,0):Sf|=l),pn(r,s)}function lv(r,s){s===0&&(r.mode&1?(s=fo,fo<<=1,!(fo&130023424)&&(fo=4194304)):s=1);var l=an();r=Zr(r,s),r!==null&&(Ii(r,s,l),pn(r,l))}function PT(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),lv(r,l)}function bT(r,s){var l=0;switch(r.tag){case 13:var h=r.stateNode,f=r.memoizedState;f!==null&&(l=f.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),lv(r,l)}var uv;uv=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||cn.current)dn=!0;else{if(!(r.lanes&l)&&!(s.flags&128))return dn=!1,yT(r,s,l);dn=!!(r.flags&131072)}else dn=!1,ot&&s.flags&1048576&&Bg(s,Gu,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;uc(r,s),r=s.pendingProps;var f=No(s,qt.current);Fo(s,l),f=ef(null,s,h,r,f,l);var g=tf();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,hn(h)?(g=!0,Hu(s)):g=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Kd(s),f.updater=ac,s.stateNode=f,f._reactInternals=s,lf(s,h,r,l),s=df(null,s,h,!0,g,l)):(s.tag=0,ot&&g&&Ld(s),on(null,s,f,l),s=s.child),s;case 16:h=s.elementType;e:{switch(uc(r,s),r=s.pendingProps,f=h._init,h=f(h._payload),s.type=h,f=s.tag=NT(h),r=lr(h,r),f){case 0:s=hf(null,s,h,r,l);break e;case 1:s=Vy(null,s,h,r,l);break e;case 11:s=by(null,s,h,r,l);break e;case 14:s=xy(null,s,h,lr(h.type,r),l);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:lr(h,f),hf(r,s,h,f,l);case 1:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:lr(h,f),Vy(r,s,h,f,l);case 3:e:{if(My(s),r===null)throw Error(t(387));h=s.pendingProps,g=s.memoizedState,f=g.element,Yg(r,s),ec(s,h,null,l);var E=s.memoizedState;if(h=E.element,g.isDehydrated)if(g={element:h,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){f=zo(Error(t(423)),s),s=Ly(r,s,h,l,f);break e}else if(h!==f){f=zo(Error(t(424)),s),s=Ly(r,s,h,l,f);break e}else for(Sn=xi(s.stateNode.containerInfo.firstChild),Tn=s,ot=!0,ar=null,l=Qg(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Vo(),h===f){s=ti(r,s,l);break e}on(r,s,h,l)}s=s.child}return s;case 5:return ey(s),r===null&&zd(s),h=s.type,f=s.pendingProps,g=r!==null?r.memoizedProps:null,E=f.children,xd(h,f)?E=null:g!==null&&xd(h,g)&&(s.flags|=32),Dy(r,s),on(r,s,E,l),s.child;case 6:return r===null&&zd(s),null;case 13:return Fy(r,s,l);case 4:return Gd(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=Mo(s,null,h,l):on(r,s,h,l),s.child;case 11:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:lr(h,f),by(r,s,h,f,l);case 7:return on(r,s,s.pendingProps,l),s.child;case 8:return on(r,s,s.pendingProps.children,l),s.child;case 12:return on(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(h=s.type._context,f=s.pendingProps,g=s.memoizedProps,E=f.value,tt(Yu,h._currentValue),h._currentValue=E,g!==null)if(or(g.value,E)){if(g.children===f.children&&!cn.current){s=ti(r,s,l);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var b=g.dependencies;if(b!==null){E=g.child;for(var D=b.firstContext;D!==null;){if(D.context===h){if(g.tag===1){D=ei(-1,l&-l),D.tag=2;var H=g.updateQueue;if(H!==null){H=H.shared;var ne=H.pending;ne===null?D.next=D:(D.next=ne.next,ne.next=D),H.pending=D}}g.lanes|=l,D=g.alternate,D!==null&&(D.lanes|=l),Hd(g.return,l,s),b.lanes|=l;break}D=D.next}}else if(g.tag===10)E=g.type===s.type?null:g.child;else if(g.tag===18){if(E=g.return,E===null)throw Error(t(341));E.lanes|=l,b=E.alternate,b!==null&&(b.lanes|=l),Hd(E,l,s),E=g.sibling}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===s){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}on(r,s,f.children,l),s=s.child}return s;case 9:return f=s.type,h=s.pendingProps.children,Fo(s,l),f=jn(f),h=h(f),s.flags|=1,on(r,s,h,l),s.child;case 14:return h=s.type,f=lr(h,s.pendingProps),f=lr(h.type,f),xy(r,s,h,f,l);case 15:return Ny(r,s,s.type,s.pendingProps,l);case 17:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:lr(h,f),uc(r,s),s.tag=1,hn(h)?(r=!0,Hu(s)):r=!1,Fo(s,l),Sy(s,h,f),lf(s,h,f,l),df(null,s,h,!0,r,l);case 19:return zy(r,s,l);case 22:return Oy(r,s,l)}throw Error(t(156,s.tag))};function cv(r,s){return co(r,s)}function xT(r,s,l,h){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(r,s,l,h){return new xT(r,s,l,h)}function Nf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function NT(r){if(typeof r=="function")return Nf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===O)return 11;if(r===Ue)return 14}return 2}function Bi(r,s){var l=r.alternate;return l===null?(l=Wn(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function wc(r,s,l,h,f,g){var E=2;if(h=r,typeof r=="function")Nf(r)&&(E=1);else if(typeof r=="string")E=5;else e:switch(r){case A:return Ms(l.children,f,g,s);case C:E=8,f|=8;break;case k:return r=Wn(12,l,s,f|2),r.elementType=k,r.lanes=g,r;case R:return r=Wn(13,l,s,f),r.elementType=R,r.lanes=g,r;case Ce:return r=Wn(19,l,s,f),r.elementType=Ce,r.lanes=g,r;case xe:return Ec(l,f,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case _:E=10;break e;case P:E=9;break e;case O:E=11;break e;case Ue:E=14;break e;case qe:E=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=Wn(E,l,s,f),s.elementType=r,s.type=h,s.lanes=g,s}function Ms(r,s,l,h){return r=Wn(7,r,h,s),r.lanes=l,r}function Ec(r,s,l,h){return r=Wn(22,r,h,s),r.elementType=xe,r.lanes=l,r.stateNode={isHidden:!1},r}function Of(r,s,l){return r=Wn(6,r,null,s),r.lanes=l,r}function Df(r,s,l){return s=Wn(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function OT(r,s,l,h,f){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Si(0),this.expirationTimes=Si(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Si(0),this.identifierPrefix=h,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Vf(r,s,l,h,f,g,E,b,D){return r=new OT(r,s,l,b,D),s===1?(s=1,g===!0&&(s|=8)):s=0,g=Wn(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kd(g),r}function DT(r,s,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Q,key:h==null?null:""+h,children:r,containerInfo:s,implementation:l}}function hv(r){if(!r)return Oi;r=r._reactInternals;e:{if(Zn(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(hn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var l=r.type;if(hn(l))return Ug(r,l,s)}return s}function dv(r,s,l,h,f,g,E,b,D){return r=Vf(l,h,!0,r,f,g,E,b,D),r.context=hv(null),l=r.current,h=an(),f=zi(l),g=ei(h,f),g.callback=s??null,Mi(l,g,f),r.current.lanes=f,Ii(r,f,h),pn(r,h),r}function Tc(r,s,l,h){var f=s.current,g=an(),E=zi(f);return l=hv(l),s.context===null?s.context=l:s.pendingContext=l,s=ei(g,E),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=Mi(f,s,E),r!==null&&(hr(r,f,E,g),Zu(r,f,E)),E}function Sc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function fv(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function Mf(r,s){fv(r,s),(r=r.alternate)&&fv(r,s)}function VT(){return null}var pv=typeof reportError=="function"?reportError:function(r){console.error(r)};function Lf(r){this._internalRoot=r}Ic.prototype.render=Lf.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));Tc(r,s,null,null)},Ic.prototype.unmount=Lf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Os(function(){Tc(null,r,null,null)}),s[Qr]=null}};function Ic(r){this._internalRoot=r}Ic.prototype.unstable_scheduleHydration=function(r){if(r){var s=Iu();r={blockedOn:null,target:r,priority:s};for(var l=0;l<Er.length&&s!==0&&s<Er[l].priority;l++);Er.splice(l,0,r),l===0&&Ru(r)}};function Ff(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Cc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function mv(){}function MT(r,s,l,h,f){if(f){if(typeof h=="function"){var g=h;h=function(){var H=Sc(E);g.call(H)}}var E=dv(s,h,r,0,null,!1,!1,"",mv);return r._reactRootContainer=E,r[Qr]=E.current,tl(r.nodeType===8?r.parentNode:r),Os(),E}for(;f=r.lastChild;)r.removeChild(f);if(typeof h=="function"){var b=h;h=function(){var H=Sc(D);b.call(H)}}var D=Vf(r,0,!1,null,null,!1,!1,"",mv);return r._reactRootContainer=D,r[Qr]=D.current,tl(r.nodeType===8?r.parentNode:r),Os(function(){Tc(s,D,l,h)}),D}function Ac(r,s,l,h,f){var g=l._reactRootContainer;if(g){var E=g;if(typeof f=="function"){var b=f;f=function(){var D=Sc(E);b.call(D)}}Tc(s,E,r,f)}else E=MT(l,s,r,f,h);return Sc(E)}Tu=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=Ti(s.pendingLanes);l!==0&&(Ci(s,l|1),pn(s,et()),!(Be&6)&&($o=et()+500,Di()))}break;case 13:Os(function(){var h=Zr(r,1);if(h!==null){var f=an();hr(h,r,1,f)}}),Mf(r,1)}},po=function(r){if(r.tag===13){var s=Zr(r,134217728);if(s!==null){var l=an();hr(s,r,134217728,l)}Mf(r,134217728)}},Su=function(r){if(r.tag===13){var s=zi(r),l=Zr(r,s);if(l!==null){var h=an();hr(l,r,s,h)}Mf(r,s)}},Iu=function(){return Ve},Cu=function(r,s){var l=Ve;try{return Ve=r,s()}finally{Ve=l}},io=function(r,s,l){switch(s){case"input":if(as(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==r&&h.form===r.form){var f=$u(h);if(!f)throw Error(t(90));_i(h),as(h,f)}}}break;case"textarea":jr(r,l);break;case"select":s=l.value,s!=null&&Dn(r,!!l.multiple,s,!1)}},fs=Pf,Ma=Os;var LT={usingClientEntryPoint:!1,Events:[il,bo,$u,_r,Va,Pf]},vl={findFiberByHostInstance:Cs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},FT={bundleType:vl.bundleType,version:vl.version,rendererPackageName:vl.rendererPackageName,rendererConfig:vl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:B.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Ua(r),r===null?null:r.stateNode},findFiberByHostInstance:vl.findFiberByHostInstance||VT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rc.isDisabled&&Rc.supportsFiber)try{vs=Rc.inject(FT),vn=Rc}catch{}}return mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LT,mn.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ff(s))throw Error(t(200));return DT(r,s,null,l)},mn.createRoot=function(r,s){if(!Ff(r))throw Error(t(299));var l=!1,h="",f=pv;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=Vf(r,1,!1,null,null,l,!1,h,f),r[Qr]=s.current,tl(r.nodeType===8?r.parentNode:r),new Lf(s)},mn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=Ua(s),r=r===null?null:r.stateNode,r},mn.flushSync=function(r){return Os(r)},mn.hydrate=function(r,s,l){if(!Cc(s))throw Error(t(200));return Ac(null,r,s,!0,l)},mn.hydrateRoot=function(r,s,l){if(!Ff(r))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,f=!1,g="",E=pv;if(l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(E=l.onRecoverableError)),s=dv(s,null,r,1,l??null,f,!1,g,E),r[Qr]=s.current,tl(r),h)for(r=0;r<h.length;r++)l=h[r],f=l._getVersion,f=f(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,f]:s.mutableSourceEagerHydrationData.push(l,f);return new Ic(s)},mn.render=function(r,s,l){if(!Cc(s))throw Error(t(200));return Ac(null,r,s,!1,l)},mn.unmountComponentAtNode=function(r){if(!Cc(r))throw Error(t(40));return r._reactRootContainer?(Os(function(){Ac(null,null,r,!1,function(){r._reactRootContainer=null,r[Qr]=null})}),!0):!1},mn.unstable_batchedUpdates=Pf,mn.unstable_renderSubtreeIntoContainer=function(r,s,l,h){if(!Cc(l))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Ac(r,s,l,!1,h)},mn.version="18.3.1-next-f1338f8080-20240426",mn}var Sv;function XT(){if(Sv)return jf.exports;Sv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),jf.exports=QT(),jf.exports}var Iv;function YT(){if(Iv)return kc;Iv=1;var n=XT();return kc.createRoot=n.createRoot,kc.hydrateRoot=n.hydrateRoot,kc}var JT=YT(),Wf={exports:{}},Hf={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cv;function ZT(){if(Cv)return Hf;Cv=1;var n=Ph();function e(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var t=typeof Object.is=="function"?Object.is:e,i=n.useSyncExternalStore,o=n.useRef,a=n.useEffect,c=n.useMemo,d=n.useDebugValue;return Hf.useSyncExternalStoreWithSelector=function(p,y,w,T,I){var x=o(null);if(x.current===null){var N={hasValue:!1,value:null};x.current=N}else N=x.current;x=c(function(){function M(U){if(!K){if(K=!0,J=U,U=T(U),I!==void 0&&N.hasValue){var Q=N.value;if(I(Q,U))return W=Q}return W=U}if(Q=W,t(J,U))return Q;var A=T(U);return I!==void 0&&I(Q,A)?Q:(J=U,W=A)}var K=!1,J,W,B=w===void 0?null:w;return[function(){return M(y())},B===null?void 0:function(){return M(B())}]},[y,w,T,I]);var V=i(p,x[0],x[1]);return a(function(){N.hasValue=!0,N.value=V},[V]),d(V),V},Hf}var Av;function eS(){return Av||(Av=1,Wf.exports=ZT()),Wf.exports}var tS=eS(),An="default"in eh?Us:eh,Rv=Symbol.for("react-redux-context"),kv=typeof globalThis<"u"?globalThis:{};function nS(){if(!An.createContext)return{};const n=kv[Rv]??(kv[Rv]=new Map);let e=n.get(An.createContext);return e||(e=An.createContext(null),n.set(An.createContext,e)),e}var Zi=nS(),rS=()=>{throw new Error("uSES not initialized!")};function Qp(n=Zi){return function(){return An.useContext(n)}}var N_=Qp(),O_=rS,iS=n=>{O_=n},sS=(n,e)=>n===e;function oS(n=Zi){const e=n===Zi?N_:Qp(n),t=(i,o={})=>{const{equalityFn:a=sS,devModeChecks:c={}}=typeof o=="function"?{equalityFn:o}:o,{store:d,subscription:p,getServerState:y,stabilityCheck:w,identityFunctionCheck:T}=e();An.useRef(!0);const I=An.useCallback({[i.name](N){return i(N)}}[i.name],[i,w,c.stabilityCheck]),x=O_(p.addNestedSub,d.getState,y||d.getState,I,a);return An.useDebugValue(x),x};return Object.assign(t,{withTypes:()=>t}),t}var aS=oS();function lS(n){n()}function uS(){let n=null,e=null;return{clear(){n=null,e=null},notify(){lS(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let i=n;for(;i;)t.push(i),i=i.next;return t},subscribe(t){let i=!0;const o=e={callback:t,next:null,prev:e};return o.prev?o.prev.next=o:n=o,function(){!i||n===null||(i=!1,o.next?o.next.prev=o.prev:e=o.prev,o.prev?o.prev.next=o.next:n=o.next)}}}}var Pv={notify(){},get:()=>[]};function cS(n,e){let t,i=Pv,o=0,a=!1;function c(V){w();const M=i.subscribe(V);let K=!1;return()=>{K||(K=!0,M(),T())}}function d(){i.notify()}function p(){N.onStateChange&&N.onStateChange()}function y(){return a}function w(){o++,t||(t=n.subscribe(p),i=uS())}function T(){o--,t&&o===0&&(t(),t=void 0,i.clear(),i=Pv)}function I(){a||(a=!0,w())}function x(){a&&(a=!1,T())}const N={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:p,isSubscribed:y,trySubscribe:I,tryUnsubscribe:x,getListeners:()=>i};return N}var hS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dS=typeof navigator<"u"&&navigator.product==="ReactNative",fS=hS||dS?An.useLayoutEffect:An.useEffect;function pS({store:n,context:e,children:t,serverState:i,stabilityCheck:o="once",identityFunctionCheck:a="once"}){const c=An.useMemo(()=>{const y=cS(n);return{store:n,subscription:y,getServerState:i?()=>i:void 0,stabilityCheck:o,identityFunctionCheck:a}},[n,i,o,a]),d=An.useMemo(()=>n.getState(),[n]);fS(()=>{const{subscription:y}=c;return y.onStateChange=y.notifyNestedSubs,y.trySubscribe(),d!==n.getState()&&y.notifyNestedSubs(),()=>{y.tryUnsubscribe(),y.onStateChange=void 0}},[c,d]);const p=e||Zi;return An.createElement(p.Provider,{value:c},t)}var mS=pS;function D_(n=Zi){const e=n===Zi?N_:Qp(n),t=()=>{const{store:i}=e();return i};return Object.assign(t,{withTypes:()=>t}),t}var gS=D_();function yS(n=Zi){const e=n===Zi?gS:D_(n),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var vS=yS();iS(tS.useSyncExternalStoreWithSelector);const V_=vS,na=aS;function ii(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function M_(n){if(ae.isValidElement(n)||!ii(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=M_(n[t])}),e}function Rn(n,e,t={clone:!0}){const i=t.clone?{...n}:n;return ii(n)&&ii(e)&&Object.keys(e).forEach(o=>{ae.isValidElement(e[o])?i[o]=e[o]:ii(e[o])&&Object.prototype.hasOwnProperty.call(n,o)&&ii(n[o])?i[o]=Rn(n[o],e[o],t):t.clone?i[o]=ii(e[o])?M_(e[o]):e[o]:i[o]=e[o]}),i}function qs(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(i=>t.searchParams.append("args[]",i)),`Minified MUI error #${n}; visit ${t} for the full message.`}function $t(n){if(typeof n!="string")throw new Error(qs(7));return n.charAt(0).toUpperCase()+n.slice(1)}function _S(n,e){typeof n=="function"?n(e):n&&(n.current=e)}const wS=typeof window<"u"?ae.useLayoutEffect:ae.useEffect;function Pc(n){const e=ae.useRef(n);return wS(()=>{e.current=n}),ae.useRef((...t)=>(0,e.current)(...t)).current}function dp(...n){return ae.useMemo(()=>n.every(e=>e==null)?null:e=>{n.forEach(t=>{_S(t,e)})},n)}const bv={};function L_(n,e){const t=ae.useRef(bv);return t.current===bv&&(t.current=n(e)),t}const ES=[];function TS(n){ae.useEffect(n,ES)}class Xp{constructor(){_l(this,"currentId",null);_l(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});_l(this,"disposeEffect",()=>this.clear)}static create(){return new Xp}start(e,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},e)}}function SS(){const n=L_(Xp.create).current;return TS(n.disposeEffect),n}function xv(n){try{return n.matches(":focus-visible")}catch{}return!1}function th(n,e){const t={...e};for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)){const o=i;if(o==="components"||o==="slots")t[o]={...n[o],...t[o]};else if(o==="componentsProps"||o==="slotProps"){const a=n[o],c=e[o];if(!c)t[o]=a||{};else if(!a)t[o]=c;else{t[o]={...c};for(const d in a)if(Object.prototype.hasOwnProperty.call(a,d)){const p=d;t[o][p]=th(a[p],c[p])}}}else t[o]===void 0&&(t[o]=n[o])}return t}function bh(n,e,t=void 0){const i={};for(const o in n){const a=n[o];let c="",d=!0;for(let p=0;p<a.length;p+=1){const y=a[p];y&&(c+=(d===!0?"":" ")+e(y),d=!1,t&&t[y]&&(c+=" "+t[y]))}i[o]=c}return i}const Nv=n=>n,IS=()=>{let n=Nv;return{configure(e){n=e},generate(e){return n(e)},reset(){n=Nv}}},CS=IS(),AS={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Zl(n,e,t="Mui"){const i=AS[e];return i?`${t}-${i}`:`${CS.generate(n)}-${e}`}function eu(n,e,t="Mui"){const i={};return e.forEach(o=>{i[o]=Zl(n,o,t)}),i}function RS(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}function kS(n){return typeof n=="string"}function PS(n,e,t){return n===void 0||kS(n)?e:{...e,ownerState:{...e.ownerState,...t}}}function F_(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=F_(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function Zt(){for(var n,e,t=0,i="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=F_(n))&&(i&&(i+=" "),i+=e);return i}function bS(n,e=[]){if(n===void 0)return{};const t={};return Object.keys(n).filter(i=>i.match(/^on[A-Z]/)&&typeof n[i]=="function"&&!e.includes(i)).forEach(i=>{t[i]=n[i]}),t}function Ov(n){if(n===void 0)return{};const e={};return Object.keys(n).filter(t=>!(t.match(/^on[A-Z]/)&&typeof n[t]=="function")).forEach(t=>{e[t]=n[t]}),e}function xS(n){const{getSlotProps:e,additionalProps:t,externalSlotProps:i,externalForwardedProps:o,className:a}=n;if(!e){const x=Zt(t==null?void 0:t.className,a,o==null?void 0:o.className,i==null?void 0:i.className),N={...t==null?void 0:t.style,...o==null?void 0:o.style,...i==null?void 0:i.style},V={...t,...o,...i};return x.length>0&&(V.className=x),Object.keys(N).length>0&&(V.style=N),{props:V,internalRef:void 0}}const c=bS({...o,...i}),d=Ov(i),p=Ov(o),y=e(c),w=Zt(y==null?void 0:y.className,t==null?void 0:t.className,a,o==null?void 0:o.className,i==null?void 0:i.className),T={...y==null?void 0:y.style,...t==null?void 0:t.style,...o==null?void 0:o.style,...i==null?void 0:i.style},I={...y,...t,...p,...d};return w.length>0&&(I.className=w),Object.keys(T).length>0&&(I.style=T),{props:I,internalRef:y.ref}}function NS(n,e,t){return typeof n=="function"?n(e,t):n}function bl(n,e){return e?Rn(n,e,{clone:!1}):n}function OS(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(i=>i.startsWith("@container")).sort((i,o)=>{var c,d;const a=/min-width:\s*([0-9.]+)/;return+(((c=i.match(a))==null?void 0:c[1])||0)-+(((d=o.match(a))==null?void 0:d[1])||0)});return t.length?t.reduce((i,o)=>{const a=e[o];return delete i[o],i[o]=a,i},{...e}):e}function DS(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function VS(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,i,o]=t,a=Number.isNaN(+i)?i||0:+i;return n.containerQueries(o).up(a)}function MS(n){const e=(a,c)=>a.replace("@media",c?`@container ${c}`:"@container");function t(a,c){a.up=(...d)=>e(n.breakpoints.up(...d),c),a.down=(...d)=>e(n.breakpoints.down(...d),c),a.between=(...d)=>e(n.breakpoints.between(...d),c),a.only=(...d)=>e(n.breakpoints.only(...d),c),a.not=(...d)=>{const p=e(n.breakpoints.not(...d),c);return p.includes("not all and")?p.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):p}}const i={},o=a=>(t(i,a),i);return t(o),{...n,containerQueries:o}}const xh={xs:0,sm:600,md:900,lg:1200,xl:1536},Dv={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${xh[n]}px)`},LS={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:xh[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function di(n,e,t){const i=n.theme||{};if(Array.isArray(e)){const a=i.breakpoints||Dv;return e.reduce((c,d,p)=>(c[a.up(a.keys[p])]=t(e[p]),c),{})}if(typeof e=="object"){const a=i.breakpoints||Dv;return Object.keys(e).reduce((c,d)=>{if(DS(a.keys,d)){const p=VS(i.containerQueries?i:LS,d);p&&(c[p]=t(e[d],d))}else if(Object.keys(a.values||xh).includes(d)){const p=a.up(d);c[p]=t(e[d],d)}else{const p=d;c[p]=e[p]}return c},{})}return t(e)}function FS(n={}){var t;return((t=n.keys)==null?void 0:t.reduce((i,o)=>{const a=n.up(o);return i[a]={},i},{}))||{}}function US(n,e){return n.reduce((t,i)=>{const o=t[i];return(!o||Object.keys(o).length===0)&&delete t[i],t},e)}function Nh(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const i=`vars.${e}`.split(".").reduce((o,a)=>o&&o[a]?o[a]:null,n);if(i!=null)return i}return e.split(".").reduce((i,o)=>i&&i[o]!=null?i[o]:null,n)}function nh(n,e,t,i=t){let o;return typeof n=="function"?o=n(t):Array.isArray(n)?o=n[t]||i:o=Nh(n,t)||i,e&&(o=e(o,i,n)),o}function vt(n){const{prop:e,cssProperty:t=n.prop,themeKey:i,transform:o}=n,a=c=>{if(c[e]==null)return null;const d=c[e],p=c.theme,y=Nh(p,i)||{};return di(c,d,T=>{let I=nh(y,o,T);return T===I&&typeof T=="string"&&(I=nh(y,o,`${e}${T==="default"?"":$t(T)}`,T)),t===!1?I:{[t]:I}})};return a.propTypes={},a.filterProps=[e],a}function zS(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const jS={m:"margin",p:"padding"},BS={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Vv={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},$S=zS(n=>{if(n.length>2)if(Vv[n])n=Vv[n];else return[n];const[e,t]=n.split(""),i=jS[e],o=BS[t]||"";return Array.isArray(o)?o.map(a=>i+a):[i+o]}),Yp=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Jp=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Yp,...Jp];function tu(n,e,t,i){const o=Nh(n,e,!0)??t;return typeof o=="number"||typeof o=="string"?a=>typeof a=="string"?a:typeof o=="string"?`calc(${a} * ${o})`:o*a:Array.isArray(o)?a=>{if(typeof a=="string")return a;const c=Math.abs(a),d=o[c];return a>=0?d:typeof d=="number"?-d:`-${d}`}:typeof o=="function"?o:()=>{}}function Zp(n){return tu(n,"spacing",8)}function nu(n,e){return typeof e=="string"||e==null?e:n(e)}function WS(n,e){return t=>n.reduce((i,o)=>(i[o]=nu(e,t),i),{})}function HS(n,e,t,i){if(!e.includes(t))return null;const o=$S(t),a=WS(o,i),c=n[t];return di(n,c,a)}function U_(n,e){const t=Zp(n.theme);return Object.keys(n).map(i=>HS(n,e,i,t)).reduce(bl,{})}function ft(n){return U_(n,Yp)}ft.propTypes={};ft.filterProps=Yp;function pt(n){return U_(n,Jp)}pt.propTypes={};pt.filterProps=Jp;function Oh(...n){const e=n.reduce((i,o)=>(o.filterProps.forEach(a=>{i[a]=o}),i),{}),t=i=>Object.keys(i).reduce((o,a)=>e[a]?bl(o,e[a](i)):o,{});return t.propTypes={},t.filterProps=n.reduce((i,o)=>i.concat(o.filterProps),[]),t}function qn(n){return typeof n!="number"?n:`${n}px solid`}function Gn(n,e){return vt({prop:n,themeKey:"borders",transform:e})}const qS=Gn("border",qn),KS=Gn("borderTop",qn),GS=Gn("borderRight",qn),QS=Gn("borderBottom",qn),XS=Gn("borderLeft",qn),YS=Gn("borderColor"),JS=Gn("borderTopColor"),ZS=Gn("borderRightColor"),eI=Gn("borderBottomColor"),tI=Gn("borderLeftColor"),nI=Gn("outline",qn),rI=Gn("outlineColor"),Dh=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=tu(n.theme,"shape.borderRadius",4),t=i=>({borderRadius:nu(e,i)});return di(n,n.borderRadius,t)}return null};Dh.propTypes={};Dh.filterProps=["borderRadius"];Oh(qS,KS,GS,QS,XS,YS,JS,ZS,eI,tI,Dh,nI,rI);const Vh=n=>{if(n.gap!==void 0&&n.gap!==null){const e=tu(n.theme,"spacing",8),t=i=>({gap:nu(e,i)});return di(n,n.gap,t)}return null};Vh.propTypes={};Vh.filterProps=["gap"];const Mh=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=tu(n.theme,"spacing",8),t=i=>({columnGap:nu(e,i)});return di(n,n.columnGap,t)}return null};Mh.propTypes={};Mh.filterProps=["columnGap"];const Lh=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=tu(n.theme,"spacing",8),t=i=>({rowGap:nu(e,i)});return di(n,n.rowGap,t)}return null};Lh.propTypes={};Lh.filterProps=["rowGap"];const iI=vt({prop:"gridColumn"}),sI=vt({prop:"gridRow"}),oI=vt({prop:"gridAutoFlow"}),aI=vt({prop:"gridAutoColumns"}),lI=vt({prop:"gridAutoRows"}),uI=vt({prop:"gridTemplateColumns"}),cI=vt({prop:"gridTemplateRows"}),hI=vt({prop:"gridTemplateAreas"}),dI=vt({prop:"gridArea"});Oh(Vh,Mh,Lh,iI,sI,oI,aI,lI,uI,cI,hI,dI);function ra(n,e){return e==="grey"?e:n}const fI=vt({prop:"color",themeKey:"palette",transform:ra}),pI=vt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:ra}),mI=vt({prop:"backgroundColor",themeKey:"palette",transform:ra});Oh(fI,pI,mI);function Cn(n){return n<=1&&n!==0?`${n*100}%`:n}const gI=vt({prop:"width",transform:Cn}),em=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var o,a,c,d,p;const i=((c=(a=(o=n.theme)==null?void 0:o.breakpoints)==null?void 0:a.values)==null?void 0:c[t])||xh[t];return i?((p=(d=n.theme)==null?void 0:d.breakpoints)==null?void 0:p.unit)!=="px"?{maxWidth:`${i}${n.theme.breakpoints.unit}`}:{maxWidth:i}:{maxWidth:Cn(t)}};return di(n,n.maxWidth,e)}return null};em.filterProps=["maxWidth"];const yI=vt({prop:"minWidth",transform:Cn}),vI=vt({prop:"height",transform:Cn}),_I=vt({prop:"maxHeight",transform:Cn}),wI=vt({prop:"minHeight",transform:Cn});vt({prop:"size",cssProperty:"width",transform:Cn});vt({prop:"size",cssProperty:"height",transform:Cn});const EI=vt({prop:"boxSizing"});Oh(gI,em,yI,vI,_I,wI,EI);const Fh={border:{themeKey:"borders",transform:qn},borderTop:{themeKey:"borders",transform:qn},borderRight:{themeKey:"borders",transform:qn},borderBottom:{themeKey:"borders",transform:qn},borderLeft:{themeKey:"borders",transform:qn},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:qn},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Dh},color:{themeKey:"palette",transform:ra},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:ra},backgroundColor:{themeKey:"palette",transform:ra},p:{style:pt},pt:{style:pt},pr:{style:pt},pb:{style:pt},pl:{style:pt},px:{style:pt},py:{style:pt},padding:{style:pt},paddingTop:{style:pt},paddingRight:{style:pt},paddingBottom:{style:pt},paddingLeft:{style:pt},paddingX:{style:pt},paddingY:{style:pt},paddingInline:{style:pt},paddingInlineStart:{style:pt},paddingInlineEnd:{style:pt},paddingBlock:{style:pt},paddingBlockStart:{style:pt},paddingBlockEnd:{style:pt},m:{style:ft},mt:{style:ft},mr:{style:ft},mb:{style:ft},ml:{style:ft},mx:{style:ft},my:{style:ft},margin:{style:ft},marginTop:{style:ft},marginRight:{style:ft},marginBottom:{style:ft},marginLeft:{style:ft},marginX:{style:ft},marginY:{style:ft},marginInline:{style:ft},marginInlineStart:{style:ft},marginInlineEnd:{style:ft},marginBlock:{style:ft},marginBlockStart:{style:ft},marginBlockEnd:{style:ft},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Vh},rowGap:{style:Lh},columnGap:{style:Mh},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Cn},maxWidth:{style:em},minWidth:{transform:Cn},height:{transform:Cn},maxHeight:{transform:Cn},minHeight:{transform:Cn},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function TI(...n){const e=n.reduce((i,o)=>i.concat(Object.keys(o)),[]),t=new Set(e);return n.every(i=>t.size===Object.keys(i).length)}function SI(n,e){return typeof n=="function"?n(e):n}function II(){function n(t,i,o,a){const c={[t]:i,theme:o},d=a[t];if(!d)return{[t]:i};const{cssProperty:p=t,themeKey:y,transform:w,style:T}=d;if(i==null)return null;if(y==="typography"&&i==="inherit")return{[t]:i};const I=Nh(o,y)||{};return T?T(c):di(c,i,N=>{let V=nh(I,w,N);return N===V&&typeof N=="string"&&(V=nh(I,w,`${t}${N==="default"?"":$t(N)}`,N)),p===!1?V:{[p]:V}})}function e(t){const{sx:i,theme:o={}}=t||{};if(!i)return null;const a=o.unstable_sxConfig??Fh;function c(d){let p=d;if(typeof d=="function")p=d(o);else if(typeof d!="object")return d;if(!p)return null;const y=FS(o.breakpoints),w=Object.keys(y);let T=y;return Object.keys(p).forEach(I=>{const x=SI(p[I],o);if(x!=null)if(typeof x=="object")if(a[I])T=bl(T,n(I,x,o,a));else{const N=di({theme:o},x,V=>({[I]:V}));TI(N,x)?T[I]=e({sx:x,theme:o}):T=bl(T,N)}else T=bl(T,n(I,x,o,a))}),OS(o,US(w,T))}return Array.isArray(i)?i.map(c):c(i)}return e}const ua=II();ua.filterProps=["sx"];function rh(){return rh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},rh.apply(null,arguments)}function z_(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var CI=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,AI=z_(function(n){return CI.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),RI=!1;function kI(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function PI(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var bI=function(){function n(t){var i=this;this._insertTag=function(o){var a;i.tags.length===0?i.insertionPoint?a=i.insertionPoint.nextSibling:i.prepend?a=i.container.firstChild:a=i.before:a=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(o,a),i.tags.push(o)},this.isSpeedy=t.speedy===void 0?!RI:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(i){i.forEach(this._insertTag)},e.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(PI(this));var o=this.tags[this.tags.length-1];if(this.isSpeedy){var a=kI(o);try{a.insertRule(i,a.cssRules.length)}catch{}}else o.appendChild(document.createTextNode(i));this.ctr++},e.flush=function(){this.tags.forEach(function(i){var o;return(o=i.parentNode)==null?void 0:o.removeChild(i)}),this.tags=[],this.ctr=0},n}(),Yt="-ms-",ih="-moz-",We="-webkit-",j_="comm",tm="rule",nm="decl",xI="@import",B_="@keyframes",NI="@layer",OI=Math.abs,Uh=String.fromCharCode,DI=Object.assign;function VI(n,e){return Bt(n,0)^45?(((e<<2^Bt(n,0))<<2^Bt(n,1))<<2^Bt(n,2))<<2^Bt(n,3):0}function $_(n){return n.trim()}function MI(n,e){return(n=e.exec(n))?n[0]:n}function He(n,e,t){return n.replace(e,t)}function fp(n,e){return n.indexOf(e)}function Bt(n,e){return n.charCodeAt(e)|0}function Ll(n,e,t){return n.slice(e,t)}function br(n){return n.length}function rm(n){return n.length}function bc(n,e){return e.push(n),n}function LI(n,e){return n.map(e).join("")}var zh=1,ca=1,W_=0,yn=0,It=0,Ea="";function jh(n,e,t,i,o,a,c){return{value:n,root:e,parent:t,type:i,props:o,children:a,line:zh,column:ca,length:c,return:""}}function El(n,e){return DI(jh("",null,null,"",null,null,0),n,{length:-n.length},e)}function FI(){return It}function UI(){return It=yn>0?Bt(Ea,--yn):0,ca--,It===10&&(ca=1,zh--),It}function kn(){return It=yn<W_?Bt(Ea,yn++):0,ca++,It===10&&(ca=1,zh++),It}function Nr(){return Bt(Ea,yn)}function zc(){return yn}function ru(n,e){return Ll(Ea,n,e)}function Fl(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function H_(n){return zh=ca=1,W_=br(Ea=n),yn=0,[]}function q_(n){return Ea="",n}function jc(n){return $_(ru(yn-1,pp(n===91?n+2:n===40?n+1:n)))}function zI(n){for(;(It=Nr())&&It<33;)kn();return Fl(n)>2||Fl(It)>3?"":" "}function jI(n,e){for(;--e&&kn()&&!(It<48||It>102||It>57&&It<65||It>70&&It<97););return ru(n,zc()+(e<6&&Nr()==32&&kn()==32))}function pp(n){for(;kn();)switch(It){case n:return yn;case 34:case 39:n!==34&&n!==39&&pp(It);break;case 40:n===41&&pp(n);break;case 92:kn();break}return yn}function BI(n,e){for(;kn()&&n+It!==57;)if(n+It===84&&Nr()===47)break;return"/*"+ru(e,yn-1)+"*"+Uh(n===47?n:kn())}function $I(n){for(;!Fl(Nr());)kn();return ru(n,yn)}function WI(n){return q_(Bc("",null,null,null,[""],n=H_(n),0,[0],n))}function Bc(n,e,t,i,o,a,c,d,p){for(var y=0,w=0,T=c,I=0,x=0,N=0,V=1,M=1,K=1,J=0,W="",B=o,U=a,Q=i,A=W;M;)switch(N=J,J=kn()){case 40:if(N!=108&&Bt(A,T-1)==58){fp(A+=He(jc(J),"&","&\f"),"&\f")!=-1&&(K=-1);break}case 34:case 39:case 91:A+=jc(J);break;case 9:case 10:case 13:case 32:A+=zI(N);break;case 92:A+=jI(zc()-1,7);continue;case 47:switch(Nr()){case 42:case 47:bc(HI(BI(kn(),zc()),e,t),p);break;default:A+="/"}break;case 123*V:d[y++]=br(A)*K;case 125*V:case 59:case 0:switch(J){case 0:case 125:M=0;case 59+w:K==-1&&(A=He(A,/\f/g,"")),x>0&&br(A)-T&&bc(x>32?Lv(A+";",i,t,T-1):Lv(He(A," ","")+";",i,t,T-2),p);break;case 59:A+=";";default:if(bc(Q=Mv(A,e,t,y,w,o,d,W,B=[],U=[],T),a),J===123)if(w===0)Bc(A,e,Q,Q,B,a,T,d,U);else switch(I===99&&Bt(A,3)===110?100:I){case 100:case 108:case 109:case 115:Bc(n,Q,Q,i&&bc(Mv(n,Q,Q,0,0,o,d,W,o,B=[],T),U),o,U,T,d,i?B:U);break;default:Bc(A,Q,Q,Q,[""],U,0,d,U)}}y=w=x=0,V=K=1,W=A="",T=c;break;case 58:T=1+br(A),x=N;default:if(V<1){if(J==123)--V;else if(J==125&&V++==0&&UI()==125)continue}switch(A+=Uh(J),J*V){case 38:K=w>0?1:(A+="\f",-1);break;case 44:d[y++]=(br(A)-1)*K,K=1;break;case 64:Nr()===45&&(A+=jc(kn())),I=Nr(),w=T=br(W=A+=$I(zc())),J++;break;case 45:N===45&&br(A)==2&&(V=0)}}return a}function Mv(n,e,t,i,o,a,c,d,p,y,w){for(var T=o-1,I=o===0?a:[""],x=rm(I),N=0,V=0,M=0;N<i;++N)for(var K=0,J=Ll(n,T+1,T=OI(V=c[N])),W=n;K<x;++K)(W=$_(V>0?I[K]+" "+J:He(J,/&\f/g,I[K])))&&(p[M++]=W);return jh(n,e,t,o===0?tm:d,p,y,w)}function HI(n,e,t){return jh(n,e,t,j_,Uh(FI()),Ll(n,2,-2),0)}function Lv(n,e,t,i){return jh(n,e,t,nm,Ll(n,0,i),Ll(n,i+1,-1),i)}function ia(n,e){for(var t="",i=rm(n),o=0;o<i;o++)t+=e(n[o],o,n,e)||"";return t}function qI(n,e,t,i){switch(n.type){case NI:if(n.children.length)break;case xI:case nm:return n.return=n.return||n.value;case j_:return"";case B_:return n.return=n.value+"{"+ia(n.children,i)+"}";case tm:n.value=n.props.join(",")}return br(t=ia(n.children,i))?n.return=n.value+"{"+t+"}":""}function KI(n){var e=rm(n);return function(t,i,o,a){for(var c="",d=0;d<e;d++)c+=n[d](t,i,o,a)||"";return c}}function GI(n){return function(e){e.root||(e=e.return)&&n(e)}}var QI=function(e,t,i){for(var o=0,a=0;o=a,a=Nr(),o===38&&a===12&&(t[i]=1),!Fl(a);)kn();return ru(e,yn)},XI=function(e,t){var i=-1,o=44;do switch(Fl(o)){case 0:o===38&&Nr()===12&&(t[i]=1),e[i]+=QI(yn-1,t,i);break;case 2:e[i]+=jc(o);break;case 4:if(o===44){e[++i]=Nr()===58?"&\f":"",t[i]=e[i].length;break}default:e[i]+=Uh(o)}while(o=kn());return e},YI=function(e,t){return q_(XI(H_(e),t))},Fv=new WeakMap,JI=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,i=e.parent,o=e.column===i.column&&e.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!Fv.get(i))&&!o){Fv.set(e,!0);for(var a=[],c=YI(t,a),d=i.props,p=0,y=0;p<c.length;p++)for(var w=0;w<d.length;w++,y++)e.props[y]=a[p]?c[p].replace(/&\f/g,d[w]):d[w]+" "+c[p]}}},ZI=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function K_(n,e){switch(VI(n,e)){case 5103:return We+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return We+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return We+n+ih+n+Yt+n+n;case 6828:case 4268:return We+n+Yt+n+n;case 6165:return We+n+Yt+"flex-"+n+n;case 5187:return We+n+He(n,/(\w+).+(:[^]+)/,We+"box-$1$2"+Yt+"flex-$1$2")+n;case 5443:return We+n+Yt+"flex-item-"+He(n,/flex-|-self/,"")+n;case 4675:return We+n+Yt+"flex-line-pack"+He(n,/align-content|flex-|-self/,"")+n;case 5548:return We+n+Yt+He(n,"shrink","negative")+n;case 5292:return We+n+Yt+He(n,"basis","preferred-size")+n;case 6060:return We+"box-"+He(n,"-grow","")+We+n+Yt+He(n,"grow","positive")+n;case 4554:return We+He(n,/([^-])(transform)/g,"$1"+We+"$2")+n;case 6187:return He(He(He(n,/(zoom-|grab)/,We+"$1"),/(image-set)/,We+"$1"),n,"")+n;case 5495:case 3959:return He(n,/(image-set\([^]*)/,We+"$1$`$1");case 4968:return He(He(n,/(.+:)(flex-)?(.*)/,We+"box-pack:$3"+Yt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+We+n+n;case 4095:case 3583:case 4068:case 2532:return He(n,/(.+)-inline(.+)/,We+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(br(n)-1-e>6)switch(Bt(n,e+1)){case 109:if(Bt(n,e+4)!==45)break;case 102:return He(n,/(.+:)(.+)-([^]+)/,"$1"+We+"$2-$3$1"+ih+(Bt(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~fp(n,"stretch")?K_(He(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(Bt(n,e+1)!==115)break;case 6444:switch(Bt(n,br(n)-3-(~fp(n,"!important")&&10))){case 107:return He(n,":",":"+We)+n;case 101:return He(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+We+(Bt(n,14)===45?"inline-":"")+"box$3$1"+We+"$2$3$1"+Yt+"$2box$3")+n}break;case 5936:switch(Bt(n,e+11)){case 114:return We+n+Yt+He(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return We+n+Yt+He(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return We+n+Yt+He(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return We+n+Yt+n+n}return n}var eC=function(e,t,i,o){if(e.length>-1&&!e.return)switch(e.type){case nm:e.return=K_(e.value,e.length);break;case B_:return ia([El(e,{value:He(e.value,"@","@"+We)})],o);case tm:if(e.length)return LI(e.props,function(a){switch(MI(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ia([El(e,{props:[He(a,/:(read-\w+)/,":"+ih+"$1")]})],o);case"::placeholder":return ia([El(e,{props:[He(a,/:(plac\w+)/,":"+We+"input-$1")]}),El(e,{props:[He(a,/:(plac\w+)/,":"+ih+"$1")]}),El(e,{props:[He(a,/:(plac\w+)/,Yt+"input-$1")]})],o)}return""})}},tC=[eC],nC=function(e){var t=e.key;if(t==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(V){var M=V.getAttribute("data-emotion");M.indexOf(" ")!==-1&&(document.head.appendChild(V),V.setAttribute("data-s",""))})}var o=e.stylisPlugins||tC,a={},c,d=[];c=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(V){for(var M=V.getAttribute("data-emotion").split(" "),K=1;K<M.length;K++)a[M[K]]=!0;d.push(V)});var p,y=[JI,ZI];{var w,T=[qI,GI(function(V){w.insert(V)})],I=KI(y.concat(o,T)),x=function(M){return ia(WI(M),I)};p=function(M,K,J,W){w=J,x(M?M+"{"+K.styles+"}":K.styles),W&&(N.inserted[K.name]=!0)}}var N={key:t,sheet:new bI({key:t,container:c,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:p};return N.sheet.hydrate(d),N},qf={exports:{}},Ke={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv;function rC(){if(Uv)return Ke;Uv=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,d=n?Symbol.for("react.context"):60110,p=n?Symbol.for("react.async_mode"):60111,y=n?Symbol.for("react.concurrent_mode"):60111,w=n?Symbol.for("react.forward_ref"):60112,T=n?Symbol.for("react.suspense"):60113,I=n?Symbol.for("react.suspense_list"):60120,x=n?Symbol.for("react.memo"):60115,N=n?Symbol.for("react.lazy"):60116,V=n?Symbol.for("react.block"):60121,M=n?Symbol.for("react.fundamental"):60117,K=n?Symbol.for("react.responder"):60118,J=n?Symbol.for("react.scope"):60119;function W(U){if(typeof U=="object"&&U!==null){var Q=U.$$typeof;switch(Q){case e:switch(U=U.type,U){case p:case y:case i:case a:case o:case T:return U;default:switch(U=U&&U.$$typeof,U){case d:case w:case N:case x:case c:return U;default:return Q}}case t:return Q}}}function B(U){return W(U)===y}return Ke.AsyncMode=p,Ke.ConcurrentMode=y,Ke.ContextConsumer=d,Ke.ContextProvider=c,Ke.Element=e,Ke.ForwardRef=w,Ke.Fragment=i,Ke.Lazy=N,Ke.Memo=x,Ke.Portal=t,Ke.Profiler=a,Ke.StrictMode=o,Ke.Suspense=T,Ke.isAsyncMode=function(U){return B(U)||W(U)===p},Ke.isConcurrentMode=B,Ke.isContextConsumer=function(U){return W(U)===d},Ke.isContextProvider=function(U){return W(U)===c},Ke.isElement=function(U){return typeof U=="object"&&U!==null&&U.$$typeof===e},Ke.isForwardRef=function(U){return W(U)===w},Ke.isFragment=function(U){return W(U)===i},Ke.isLazy=function(U){return W(U)===N},Ke.isMemo=function(U){return W(U)===x},Ke.isPortal=function(U){return W(U)===t},Ke.isProfiler=function(U){return W(U)===a},Ke.isStrictMode=function(U){return W(U)===o},Ke.isSuspense=function(U){return W(U)===T},Ke.isValidElementType=function(U){return typeof U=="string"||typeof U=="function"||U===i||U===y||U===a||U===o||U===T||U===I||typeof U=="object"&&U!==null&&(U.$$typeof===N||U.$$typeof===x||U.$$typeof===c||U.$$typeof===d||U.$$typeof===w||U.$$typeof===M||U.$$typeof===K||U.$$typeof===J||U.$$typeof===V)},Ke.typeOf=W,Ke}var zv;function iC(){return zv||(zv=1,qf.exports=rC()),qf.exports}var Kf,jv;function sC(){if(jv)return Kf;jv=1;var n=iC(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};a[n.ForwardRef]=i,a[n.Memo]=o;function c(N){return n.isMemo(N)?o:a[N.$$typeof]||e}var d=Object.defineProperty,p=Object.getOwnPropertyNames,y=Object.getOwnPropertySymbols,w=Object.getOwnPropertyDescriptor,T=Object.getPrototypeOf,I=Object.prototype;function x(N,V,M){if(typeof V!="string"){if(I){var K=T(V);K&&K!==I&&x(N,K,M)}var J=p(V);y&&(J=J.concat(y(V)));for(var W=c(N),B=c(V),U=0;U<J.length;++U){var Q=J[U];if(!t[Q]&&!(M&&M[Q])&&!(B&&B[Q])&&!(W&&W[Q])){var A=w(V,Q);try{d(N,Q,A)}catch{}}}}return N}return Kf=x,Kf}sC();var oC=!0;function aC(n,e,t){var i="";return t.split(" ").forEach(function(o){n[o]!==void 0?e.push(n[o]+";"):o&&(i+=o+" ")}),i}var G_=function(e,t,i){var o=e.key+"-"+t.name;(i===!1||oC===!1)&&e.registered[o]===void 0&&(e.registered[o]=t.styles)},lC=function(e,t,i){G_(e,t,i);var o=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var a=t;do e.insert(t===a?"."+o:"",a,e.sheet,!0),a=a.next;while(a!==void 0)}};function uC(n){for(var e=0,t,i=0,o=n.length;o>=4;++i,o-=4)t=n.charCodeAt(i)&255|(n.charCodeAt(++i)&255)<<8|(n.charCodeAt(++i)&255)<<16|(n.charCodeAt(++i)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(o){case 3:e^=(n.charCodeAt(i+2)&255)<<16;case 2:e^=(n.charCodeAt(i+1)&255)<<8;case 1:e^=n.charCodeAt(i)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var cC={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hC=!1,dC=/[A-Z]|^ms/g,fC=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Q_=function(e){return e.charCodeAt(1)===45},Bv=function(e){return e!=null&&typeof e!="boolean"},Gf=z_(function(n){return Q_(n)?n:n.replace(dC,"-$&").toLowerCase()}),$v=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(fC,function(i,o,a){return xr={name:o,styles:a,next:xr},o})}return cC[e]!==1&&!Q_(e)&&typeof t=="number"&&t!==0?t+"px":t},pC="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function Ul(n,e,t){if(t==null)return"";var i=t;if(i.__emotion_styles!==void 0)return i;switch(typeof t){case"boolean":return"";case"object":{var o=t;if(o.anim===1)return xr={name:o.name,styles:o.styles,next:xr},o.name;var a=t;if(a.styles!==void 0){var c=a.next;if(c!==void 0)for(;c!==void 0;)xr={name:c.name,styles:c.styles,next:xr},c=c.next;var d=a.styles+";";return d}return mC(n,e,t)}case"function":{if(n!==void 0){var p=xr,y=t(n);return xr=p,Ul(n,e,y)}break}}var w=t;if(e==null)return w;var T=e[w];return T!==void 0?T:w}function mC(n,e,t){var i="";if(Array.isArray(t))for(var o=0;o<t.length;o++)i+=Ul(n,e,t[o])+";";else for(var a in t){var c=t[a];if(typeof c!="object"){var d=c;e!=null&&e[d]!==void 0?i+=a+"{"+e[d]+"}":Bv(d)&&(i+=Gf(a)+":"+$v(a,d)+";")}else{if(a==="NO_COMPONENT_SELECTOR"&&hC)throw new Error(pC);if(Array.isArray(c)&&typeof c[0]=="string"&&(e==null||e[c[0]]===void 0))for(var p=0;p<c.length;p++)Bv(c[p])&&(i+=Gf(a)+":"+$v(a,c[p])+";");else{var y=Ul(n,e,c);switch(a){case"animation":case"animationName":{i+=Gf(a)+":"+y+";";break}default:i+=a+"{"+y+"}"}}}}return i}var Wv=/label:\s*([^\s;{]+)\s*(;|$)/g,xr;function im(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var i=!0,o="";xr=void 0;var a=n[0];if(a==null||a.raw===void 0)i=!1,o+=Ul(t,e,a);else{var c=a;o+=c[0]}for(var d=1;d<n.length;d++)if(o+=Ul(t,e,n[d]),i){var p=a;o+=p[d]}Wv.lastIndex=0;for(var y="",w;(w=Wv.exec(o))!==null;)y+="-"+w[1];var T=uC(o)+y;return{name:T,styles:o,next:xr}}var gC=function(e){return e()},yC=eh.useInsertionEffect?eh.useInsertionEffect:!1,vC=yC||gC,X_=ae.createContext(typeof HTMLElement<"u"?nC({key:"css"}):null);X_.Provider;var _C=function(e){return ae.forwardRef(function(t,i){var o=ae.useContext(X_);return e(t,o,i)})},wC=ae.createContext({});function EC(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return im(e)}var sm=function(){var e=EC.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},TC=AI,SC=function(e){return e!=="theme"},Hv=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?TC:SC},qv=function(e,t,i){var o;if(t){var a=t.shouldForwardProp;o=e.__emotion_forwardProp&&a?function(c){return e.__emotion_forwardProp(c)&&a(c)}:a}return typeof o!="function"&&i&&(o=e.__emotion_forwardProp),o},IC=!1,CC=function(e){var t=e.cache,i=e.serialized,o=e.isStringTag;return G_(t,i,o),vC(function(){return lC(t,i,o)}),null},AC=function n(e,t){var i=e.__emotion_real===e,o=i&&e.__emotion_base||e,a,c;t!==void 0&&(a=t.label,c=t.target);var d=qv(e,t,i),p=d||Hv(o),y=!p("as");return function(){var w=arguments,T=i&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(a!==void 0&&T.push("label:"+a+";"),w[0]==null||w[0].raw===void 0)T.push.apply(T,w);else{T.push(w[0][0]);for(var I=w.length,x=1;x<I;x++)T.push(w[x],w[0][x])}var N=_C(function(V,M,K){var J=y&&V.as||o,W="",B=[],U=V;if(V.theme==null){U={};for(var Q in V)U[Q]=V[Q];U.theme=ae.useContext(wC)}typeof V.className=="string"?W=aC(M.registered,B,V.className):V.className!=null&&(W=V.className+" ");var A=im(T.concat(B),M.registered,U);W+=M.key+"-"+A.name,c!==void 0&&(W+=" "+c);var C=y&&d===void 0?Hv(J):p,k={};for(var _ in V)y&&_==="as"||C(_)&&(k[_]=V[_]);return k.className=W,K&&(k.ref=K),ae.createElement(ae.Fragment,null,ae.createElement(CC,{cache:M,serialized:A,isStringTag:typeof J=="string"}),ae.createElement(J,k))});return N.displayName=a!==void 0?a:"Styled("+(typeof o=="string"?o:o.displayName||o.name||"Component")+")",N.defaultProps=e.defaultProps,N.__emotion_real=N,N.__emotion_base=o,N.__emotion_styles=T,N.__emotion_forwardProp=d,Object.defineProperty(N,"toString",{value:function(){return c===void 0&&IC?"NO_COMPONENT_SELECTOR":"."+c}}),N.withComponent=function(V,M){return n(V,rh({},t,M,{shouldForwardProp:qv(N,M,!0)})).apply(void 0,T)},N}},RC=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],mp=AC.bind();RC.forEach(function(n){mp[n]=mp(n)});/**
 * @mui/styled-engine v6.1.9
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function kC(n,e){return mp(n,e)}function PC(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const Kv=[];function Gv(n){return Kv[0]=n,im(Kv)}const bC=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,i)=>t.val-i.val),e.reduce((t,i)=>({...t,[i.key]:i.val}),{})};function xC(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:i=5,...o}=n,a=bC(e),c=Object.keys(a);function d(I){return`@media (min-width:${typeof e[I]=="number"?e[I]:I}${t})`}function p(I){return`@media (max-width:${(typeof e[I]=="number"?e[I]:I)-i/100}${t})`}function y(I,x){const N=c.indexOf(x);return`@media (min-width:${typeof e[I]=="number"?e[I]:I}${t}) and (max-width:${(N!==-1&&typeof e[c[N]]=="number"?e[c[N]]:x)-i/100}${t})`}function w(I){return c.indexOf(I)+1<c.length?y(I,c[c.indexOf(I)+1]):d(I)}function T(I){const x=c.indexOf(I);return x===0?d(c[1]):x===c.length-1?p(c[x]):y(I,c[c.indexOf(I)+1]).replace("@media","@media not all and")}return{keys:c,values:a,up:d,down:p,between:y,only:w,not:T,unit:t,...o}}const NC={borderRadius:4};function Y_(n=8,e=Zp({spacing:n})){if(n.mui)return n;const t=(...i)=>(i.length===0?[1]:i).map(a=>{const c=e(a);return typeof c=="number"?`${c}px`:c}).join(" ");return t.mui=!0,t}function OC(n,e){var i;const t=this;if(t.vars){if(!((i=t.colorSchemes)!=null&&i[n])||typeof t.getColorSchemeSelector!="function")return{};let o=t.getColorSchemeSelector(n);return o==="&"?e:((o.includes("data-")||o.includes("."))&&(o=`*:where(${o.replace(/\s*&$/,"")}) &`),{[o]:e})}return t.palette.mode===n?e:{}}function J_(n={},...e){const{breakpoints:t={},palette:i={},spacing:o,shape:a={},...c}=n,d=xC(t),p=Y_(o);let y=Rn({breakpoints:d,direction:"ltr",components:{},palette:{mode:"light",...i},spacing:p,shape:{...NC,...a}},c);return y=MS(y),y.applyStyles=OC,y=e.reduce((w,T)=>Rn(w,T),y),y.unstable_sxConfig={...Fh,...c==null?void 0:c.unstable_sxConfig},y.unstable_sx=function(T){return ua({sx:T,theme:this})},y}function Z_(n){const{variants:e,...t}=n,i={variants:e,style:Gv(t),isProcessed:!0};return i.style===t||e&&e.forEach(o=>{typeof o.style!="function"&&(o.style=Gv(o.style))}),i}const DC=J_();function Qf(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function VC(n){return n?(e,t)=>t[n]:null}function MC(n,e,t){n.theme=UC(n.theme)?t:n.theme[e]||n.theme}function $c(n,e){const t=typeof e=="function"?e(n):e;if(Array.isArray(t))return t.flatMap(i=>$c(n,i));if(Array.isArray(t==null?void 0:t.variants)){let i;if(t.isProcessed)i=t.style;else{const{variants:o,...a}=t;i=a}return e1(n,t.variants,[i])}return t!=null&&t.isProcessed?t.style:t}function e1(n,e,t=[]){var o;let i;e:for(let a=0;a<e.length;a+=1){const c=e[a];if(typeof c.props=="function"){if(i??(i={...n,...n.ownerState,ownerState:n.ownerState}),!c.props(i))continue}else for(const d in c.props)if(n[d]!==c.props[d]&&((o=n.ownerState)==null?void 0:o[d])!==c.props[d])continue e;typeof c.style=="function"?(i??(i={...n,...n.ownerState,ownerState:n.ownerState}),t.push(c.style(i))):t.push(c.style)}return t}function LC(n={}){const{themeId:e,defaultTheme:t=DC,rootShouldForwardProp:i=Qf,slotShouldForwardProp:o=Qf}=n;function a(d){MC(d,e,t)}return(d,p={})=>{PC(d,U=>U.filter(Q=>Q!==ua));const{name:y,slot:w,skipVariantsResolver:T,skipSx:I,overridesResolver:x=VC(jC(w)),...N}=p,V=T!==void 0?T:w&&w!=="Root"&&w!=="root"||!1,M=I||!1;let K=Qf;w==="Root"||w==="root"?K=i:w?K=o:zC(d)&&(K=void 0);const J=kC(d,{shouldForwardProp:K,label:FC(),...N}),W=U=>{if(typeof U=="function"&&U.__emotion_real!==U)return function(A){return $c(A,U)};if(ii(U)){const Q=Z_(U);return Q.variants?function(C){return $c(C,Q)}:Q.style}return U},B=(...U)=>{const Q=[],A=U.map(W),C=[];if(Q.push(a),y&&x&&C.push(function(O){var qe,xe;const Ce=(xe=(qe=O.theme.components)==null?void 0:qe[y])==null?void 0:xe.styleOverrides;if(!Ce)return null;const Ue={};for(const se in Ce)Ue[se]=$c(O,Ce[se]);return x(O,Ue)}),y&&!V&&C.push(function(O){var Ue,qe;const R=O.theme,Ce=(qe=(Ue=R==null?void 0:R.components)==null?void 0:Ue[y])==null?void 0:qe.variants;return Ce?e1(O,Ce):null}),M||C.push(ua),Array.isArray(A[0])){const P=A.shift(),O=new Array(Q.length).fill(""),R=new Array(C.length).fill("");let Ce;Ce=[...O,...P,...R],Ce.raw=[...O,...P.raw,...R],Q.unshift(Ce)}const k=[...Q,...A,...C],_=J(...k);return d.muiName&&(_.muiName=d.muiName),_};return J.withConfig&&(B.withConfig=J.withConfig),B}}function FC(n,e){return void 0}function UC(n){for(const e in n)return!1;return!0}function zC(n){return typeof n=="string"&&n.charCodeAt(0)>96}function jC(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}function om(n,e=0,t=1){return RS(n,e,t)}function BC(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(i=>i+i)),t?`rgb${t.length===4?"a":""}(${t.map((i,o)=>o<3?parseInt(i,16):Math.round(parseInt(i,16)/255*1e3)/1e3).join(", ")})`:""}function es(n){if(n.type)return n;if(n.charAt(0)==="#")return es(BC(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(qs(9,n));let i=n.substring(e+1,n.length-1),o;if(t==="color"){if(i=i.split(" "),o=i.shift(),i.length===4&&i[3].charAt(0)==="/"&&(i[3]=i[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(o))throw new Error(qs(10,o))}else i=i.split(",");return i=i.map(a=>parseFloat(a)),{type:t,values:i,colorSpace:o}}const $C=n=>{const e=es(n);return e.values.slice(0,3).map((t,i)=>e.type.includes("hsl")&&i!==0?`${t}%`:t).join(" ")},Sl=(n,e)=>{try{return $C(n)}catch{return n}};function Bh(n){const{type:e,colorSpace:t}=n;let{values:i}=n;return e.includes("rgb")?i=i.map((o,a)=>a<3?parseInt(o,10):o):e.includes("hsl")&&(i[1]=`${i[1]}%`,i[2]=`${i[2]}%`),e.includes("color")?i=`${t} ${i.join(" ")}`:i=`${i.join(", ")}`,`${e}(${i})`}function t1(n){n=es(n);const{values:e}=n,t=e[0],i=e[1]/100,o=e[2]/100,a=i*Math.min(o,1-o),c=(y,w=(y+t/30)%12)=>o-a*Math.max(Math.min(w-3,9-w,1),-1);let d="rgb";const p=[Math.round(c(0)*255),Math.round(c(8)*255),Math.round(c(4)*255)];return n.type==="hsla"&&(d+="a",p.push(e[3])),Bh({type:d,values:p})}function gp(n){n=es(n);let e=n.type==="hsl"||n.type==="hsla"?es(t1(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function WC(n,e){const t=gp(n),i=gp(e);return(Math.max(t,i)+.05)/(Math.min(t,i)+.05)}function Yo(n,e){return n=es(n),e=om(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,Bh(n)}function xc(n,e,t){try{return Yo(n,e)}catch{return n}}function am(n,e){if(n=es(n),e=om(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return Bh(n)}function Je(n,e,t){try{return am(n,e)}catch{return n}}function lm(n,e){if(n=es(n),e=om(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return Bh(n)}function Ze(n,e,t){try{return lm(n,e)}catch{return n}}function HC(n,e=.15){return gp(n)>.5?am(n,e):lm(n,e)}function Nc(n,e,t){try{return HC(n,e)}catch{return n}}const qC=ae.createContext(void 0);function KC(n){const{theme:e,name:t,props:i}=n;if(!e||!e.components||!e.components[t])return i;const o=e.components[t];return o.defaultProps?th(o.defaultProps,i):!o.styleOverrides&&!o.variants?th(o,i):i}function GC({props:n,name:e}){const t=ae.useContext(qC);return KC({props:n,name:e,theme:{components:t}})}const Qv={theme:void 0};function QC(n){let e,t;return function(o){let a=e;return(a===void 0||o.theme!==t)&&(Qv.theme=o.theme,a=Z_(n(Qv)),e=a,t=o.theme),a}}function XC(n=""){function e(...i){if(!i.length)return"";const o=i[0];return typeof o=="string"&&!o.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${o}${e(...i.slice(1))})`:`, ${o}`}return(i,...o)=>`var(--${n?`${n}-`:""}${i}${e(...o)})`}const Xv=(n,e,t,i=[])=>{let o=n;e.forEach((a,c)=>{c===e.length-1?Array.isArray(o)?o[Number(a)]=t:o&&typeof o=="object"&&(o[a]=t):o&&typeof o=="object"&&(o[a]||(o[a]=i.includes(a)?[]:{}),o=o[a])})},YC=(n,e,t)=>{function i(o,a=[],c=[]){Object.entries(o).forEach(([d,p])=>{(!t||t&&!t([...a,d]))&&p!=null&&(typeof p=="object"&&Object.keys(p).length>0?i(p,[...a,d],Array.isArray(p)?[...c,d]:c):e([...a,d],p,c))})}i(n)},JC=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(i=>n.includes(i))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function Xf(n,e){const{prefix:t,shouldSkipGeneratingVar:i}=e||{},o={},a={},c={};return YC(n,(d,p,y)=>{if((typeof p=="string"||typeof p=="number")&&(!i||!i(d,p))){const w=`--${t?`${t}-`:""}${d.join("-")}`,T=JC(d,p);Object.assign(o,{[w]:T}),Xv(a,d,`var(${w})`,y),Xv(c,d,`var(${w}, ${T})`,y)}},d=>d[0]==="vars"),{css:o,vars:a,varsWithDefaults:c}}function ZC(n,e={}){const{getSelector:t=M,disableCssColorScheme:i,colorSchemeSelector:o}=e,{colorSchemes:a={},components:c,defaultColorScheme:d="light",...p}=n,{vars:y,css:w,varsWithDefaults:T}=Xf(p,e);let I=T;const x={},{[d]:N,...V}=a;if(Object.entries(V||{}).forEach(([W,B])=>{const{vars:U,css:Q,varsWithDefaults:A}=Xf(B,e);I=Rn(I,A),x[W]={css:Q,vars:U}}),N){const{css:W,vars:B,varsWithDefaults:U}=Xf(N,e);I=Rn(I,U),x[d]={css:W,vars:B}}function M(W,B){var Q,A;let U=o;if(o==="class"&&(U=".%s"),o==="data"&&(U="[data-%s]"),o!=null&&o.startsWith("data-")&&!o.includes("%s")&&(U=`[${o}="%s"]`),W){if(U==="media")return n.defaultColorScheme===W?":root":{[`@media (prefers-color-scheme: ${((A=(Q=a[W])==null?void 0:Q.palette)==null?void 0:A.mode)||W})`]:{":root":B}};if(U)return n.defaultColorScheme===W?`:root, ${U.replace("%s",String(W))}`:U.replace("%s",String(W))}return":root"}return{vars:I,generateThemeVars:()=>{let W={...y};return Object.entries(x).forEach(([,{vars:B}])=>{W=Rn(W,B)}),W},generateStyleSheets:()=>{var C,k;const W=[],B=n.defaultColorScheme||"light";function U(_,P){Object.keys(P).length&&W.push(typeof _=="string"?{[_]:{...P}}:_)}U(t(void 0,{...w}),w);const{[B]:Q,...A}=x;if(Q){const{css:_}=Q,P=(k=(C=a[B])==null?void 0:C.palette)==null?void 0:k.mode,O=!i&&P?{colorScheme:P,..._}:{..._};U(t(B,{...O}),O)}return Object.entries(A).forEach(([_,{css:P}])=>{var Ce,Ue;const O=(Ue=(Ce=a[_])==null?void 0:Ce.palette)==null?void 0:Ue.mode,R=!i&&O?{colorScheme:O,...P}:{...P};U(t(_,{...R}),R)}),W}}}function eA(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}const zl={black:"#000",white:"#fff"},tA={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Ho={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},qo={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Tl={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Ko={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Go={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Qo={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function n1(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:zl.white,default:zl.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const nA=n1();function r1(){return{text:{primary:zl.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:zl.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const Yv=r1();function Jv(n,e,t,i){const o=i.light||i,a=i.dark||i*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=lm(n.main,o):e==="dark"&&(n.dark=am(n.main,a)))}function rA(n="light"){return n==="dark"?{main:Ko[200],light:Ko[50],dark:Ko[400]}:{main:Ko[700],light:Ko[400],dark:Ko[800]}}function iA(n="light"){return n==="dark"?{main:Ho[200],light:Ho[50],dark:Ho[400]}:{main:Ho[500],light:Ho[300],dark:Ho[700]}}function sA(n="light"){return n==="dark"?{main:qo[500],light:qo[300],dark:qo[700]}:{main:qo[700],light:qo[400],dark:qo[800]}}function oA(n="light"){return n==="dark"?{main:Go[400],light:Go[300],dark:Go[700]}:{main:Go[700],light:Go[500],dark:Go[900]}}function aA(n="light"){return n==="dark"?{main:Qo[400],light:Qo[300],dark:Qo[700]}:{main:Qo[800],light:Qo[500],dark:Qo[900]}}function lA(n="light"){return n==="dark"?{main:Tl[400],light:Tl[300],dark:Tl[700]}:{main:"#ed6c02",light:Tl[500],dark:Tl[900]}}function um(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:i=.2,...o}=n,a=n.primary||rA(e),c=n.secondary||iA(e),d=n.error||sA(e),p=n.info||oA(e),y=n.success||aA(e),w=n.warning||lA(e);function T(V){return WC(V,Yv.text.primary)>=t?Yv.text.primary:nA.text.primary}const I=({color:V,name:M,mainShade:K=500,lightShade:J=300,darkShade:W=700})=>{if(V={...V},!V.main&&V[K]&&(V.main=V[K]),!V.hasOwnProperty("main"))throw new Error(qs(11,M?` (${M})`:"",K));if(typeof V.main!="string")throw new Error(qs(12,M?` (${M})`:"",JSON.stringify(V.main)));return Jv(V,"light",J,i),Jv(V,"dark",W,i),V.contrastText||(V.contrastText=T(V.main)),V};let x;return e==="light"?x=n1():e==="dark"&&(x=r1()),Rn({common:{...zl},mode:e,primary:I({color:a,name:"primary"}),secondary:I({color:c,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:I({color:d,name:"error"}),warning:I({color:w,name:"warning"}),info:I({color:p,name:"info"}),success:I({color:y,name:"success"}),grey:tA,contrastThreshold:t,getContrastText:T,augmentColor:I,tonalOffset:i,...x},o)}function uA(n){const e={};return Object.entries(n).forEach(i=>{const[o,a]=i;typeof a=="object"&&(e[o]=`${a.fontStyle?`${a.fontStyle} `:""}${a.fontVariant?`${a.fontVariant} `:""}${a.fontWeight?`${a.fontWeight} `:""}${a.fontStretch?`${a.fontStretch} `:""}${a.fontSize||""}${a.lineHeight?`/${a.lineHeight} `:""}${a.fontFamily||""}`)}),e}function cA(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function hA(n){return Math.round(n*1e5)/1e5}const Zv={textTransform:"uppercase"},e0='"Roboto", "Helvetica", "Arial", sans-serif';function dA(n,e){const{fontFamily:t=e0,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:a=400,fontWeightMedium:c=500,fontWeightBold:d=700,htmlFontSize:p=16,allVariants:y,pxToRem:w,...T}=typeof e=="function"?e(n):e,I=i/14,x=w||(M=>`${M/p*I}rem`),N=(M,K,J,W,B)=>({fontFamily:t,fontWeight:M,fontSize:x(K),lineHeight:J,...t===e0?{letterSpacing:`${hA(W/K)}em`}:{},...B,...y}),V={h1:N(o,96,1.167,-1.5),h2:N(o,60,1.2,-.5),h3:N(a,48,1.167,0),h4:N(a,34,1.235,.25),h5:N(a,24,1.334,0),h6:N(c,20,1.6,.15),subtitle1:N(a,16,1.75,.15),subtitle2:N(c,14,1.57,.1),body1:N(a,16,1.5,.15),body2:N(a,14,1.43,.15),button:N(c,14,1.75,.4,Zv),caption:N(a,12,1.66,.4),overline:N(a,12,2.66,1,Zv),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Rn({htmlFontSize:p,pxToRem:x,fontFamily:t,fontSize:i,fontWeightLight:o,fontWeightRegular:a,fontWeightMedium:c,fontWeightBold:d,...V},T,{clone:!1})}const fA=.2,pA=.14,mA=.12;function at(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${fA})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${pA})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${mA})`].join(",")}const gA=["none",at(0,2,1,-1,0,1,1,0,0,1,3,0),at(0,3,1,-2,0,2,2,0,0,1,5,0),at(0,3,3,-2,0,3,4,0,0,1,8,0),at(0,2,4,-1,0,4,5,0,0,1,10,0),at(0,3,5,-1,0,5,8,0,0,1,14,0),at(0,3,5,-1,0,6,10,0,0,1,18,0),at(0,4,5,-2,0,7,10,1,0,2,16,1),at(0,5,5,-3,0,8,10,1,0,3,14,2),at(0,5,6,-3,0,9,12,1,0,3,16,2),at(0,6,6,-3,0,10,14,1,0,4,18,3),at(0,6,7,-4,0,11,15,1,0,4,20,3),at(0,7,8,-4,0,12,17,2,0,5,22,4),at(0,7,8,-4,0,13,19,2,0,5,24,4),at(0,7,9,-4,0,14,21,2,0,5,26,4),at(0,8,9,-5,0,15,22,2,0,6,28,5),at(0,8,10,-5,0,16,24,2,0,6,30,5),at(0,8,11,-5,0,17,26,2,0,6,32,5),at(0,9,11,-5,0,18,28,2,0,7,34,6),at(0,9,12,-6,0,19,29,2,0,7,36,6),at(0,10,13,-6,0,20,31,3,0,8,38,7),at(0,10,13,-6,0,21,33,3,0,8,40,7),at(0,10,14,-6,0,22,35,3,0,8,42,7),at(0,11,14,-7,0,23,36,3,0,9,44,8),at(0,11,15,-7,0,24,38,3,0,9,46,8)],yA={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},vA={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function t0(n){return`${Math.round(n)}ms`}function _A(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function wA(n){const e={...yA,...n.easing},t={...vA,...n.duration};return{getAutoHeightDuration:_A,create:(o=["all"],a={})=>{const{duration:c=t.standard,easing:d=e.easeInOut,delay:p=0,...y}=a;return(Array.isArray(o)?o:[o]).map(w=>`${w} ${typeof c=="string"?c:t0(c)} ${d} ${typeof p=="string"?p:t0(p)}`).join(",")},...n,easing:e,duration:t}}const EA={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function TA(n){return ii(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function i1(n={}){const e={...n};function t(i){const o=Object.entries(i);for(let a=0;a<o.length;a++){const[c,d]=o[a];!TA(d)||c.startsWith("unstable_")?delete i[c]:ii(d)&&(i[c]={...d},t(i[c]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function yp(n={},...e){const{breakpoints:t,mixins:i={},spacing:o,palette:a={},transitions:c={},typography:d={},shape:p,...y}=n;if(n.vars)throw new Error(qs(20));const w=um(a),T=J_(n);let I=Rn(T,{mixins:cA(T.breakpoints,i),palette:w,shadows:gA.slice(),typography:dA(w,d),transitions:wA(c),zIndex:{...EA}});return I=Rn(I,y),I=e.reduce((x,N)=>Rn(x,N),I),I.unstable_sxConfig={...Fh,...y==null?void 0:y.unstable_sxConfig},I.unstable_sx=function(N){return ua({sx:N,theme:this})},I.toRuntimeSource=i1,I}function SA(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const IA=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=SA(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function s1(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function o1(n){return n==="dark"?IA:[]}function CA(n){const{palette:e={mode:"light"},opacity:t,overlays:i,...o}=n,a=um(e);return{palette:a,opacity:{...s1(a.mode),...t},overlays:i||o1(a.mode),...o}}function AA(n){var e;return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!((e=n[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const RA=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],kA=n=>(e,t)=>{const i=n.rootSelector||":root",o=n.colorSchemeSelector;let a=o;if(o==="class"&&(a=".%s"),o==="data"&&(a="[data-%s]"),o!=null&&o.startsWith("data-")&&!o.includes("%s")&&(a=`[${o}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const c={};return RA(n.cssVarPrefix).forEach(d=>{c[d]=t[d],delete t[d]}),a==="media"?{[i]:t,"@media (prefers-color-scheme: dark)":{[i]:c}}:a?{[a.replace("%s",e)]:c,[`${i}, ${a.replace("%s",e)}`]:t}:{[i]:{...t,...c}}}if(a&&a!=="media")return`${i}, ${a.replace("%s",String(e))}`}else if(e){if(a==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[i]:t}};if(a)return a.replace("%s",String(e))}return i};function PA(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function G(n,e,t){!n[e]&&t&&(n[e]=t)}function Il(n){return!n||!n.startsWith("hsl")?n:t1(n)}function ri(n,e){`${e}Channel`in n||(n[`${e}Channel`]=Sl(Il(n[e]),`MUI: Can't create \`palette.${e}Channel\` because \`palette.${e}\` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().
To suppress this warning, you need to explicitly provide the \`palette.${e}Channel\` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.`))}function bA(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const Pr=n=>{try{return n()}catch{}},xA=(n="mui")=>XC(n);function Yf(n,e,t,i){if(!e)return;e=e===!0?{}:e;const o=i==="dark"?"dark":"light";if(!t){n[i]=CA({...e,palette:{mode:o,...e==null?void 0:e.palette}});return}const{palette:a,...c}=yp({...t,palette:{mode:o,...e==null?void 0:e.palette}});return n[i]={...e,palette:a,opacity:{...s1(o),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||o1(o)},c}function NA(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:i,disableCssColorScheme:o=!1,cssVarPrefix:a="mui",shouldSkipGeneratingVar:c=AA,colorSchemeSelector:d=t.light&&t.dark?"media":void 0,rootSelector:p=":root",...y}=n,w=Object.keys(t)[0],T=i||(t.light&&w!=="light"?"light":w),I=xA(a),{[T]:x,light:N,dark:V,...M}=t,K={...M};let J=x;if((T==="dark"&&!("dark"in t)||T==="light"&&!("light"in t))&&(J=!0),!J)throw new Error(qs(21,T));const W=Yf(K,J,y,T);N&&!K.light&&Yf(K,N,void 0,"light"),V&&!K.dark&&Yf(K,V,void 0,"dark");let B={defaultColorScheme:T,...W,cssVarPrefix:a,colorSchemeSelector:d,rootSelector:p,getCssVar:I,colorSchemes:K,font:{...uA(W.typography),...W.font},spacing:bA(y.spacing)};Object.keys(B.colorSchemes).forEach(k=>{const _=B.colorSchemes[k].palette,P=O=>{const R=O.split("-"),Ce=R[1],Ue=R[2];return I(O,_[Ce][Ue])};if(_.mode==="light"&&(G(_.common,"background","#fff"),G(_.common,"onBackground","#000")),_.mode==="dark"&&(G(_.common,"background","#000"),G(_.common,"onBackground","#fff")),PA(_,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),_.mode==="light"){G(_.Alert,"errorColor",Je(_.error.light,.6)),G(_.Alert,"infoColor",Je(_.info.light,.6)),G(_.Alert,"successColor",Je(_.success.light,.6)),G(_.Alert,"warningColor",Je(_.warning.light,.6)),G(_.Alert,"errorFilledBg",P("palette-error-main")),G(_.Alert,"infoFilledBg",P("palette-info-main")),G(_.Alert,"successFilledBg",P("palette-success-main")),G(_.Alert,"warningFilledBg",P("palette-warning-main")),G(_.Alert,"errorFilledColor",Pr(()=>_.getContrastText(_.error.main))),G(_.Alert,"infoFilledColor",Pr(()=>_.getContrastText(_.info.main))),G(_.Alert,"successFilledColor",Pr(()=>_.getContrastText(_.success.main))),G(_.Alert,"warningFilledColor",Pr(()=>_.getContrastText(_.warning.main))),G(_.Alert,"errorStandardBg",Ze(_.error.light,.9)),G(_.Alert,"infoStandardBg",Ze(_.info.light,.9)),G(_.Alert,"successStandardBg",Ze(_.success.light,.9)),G(_.Alert,"warningStandardBg",Ze(_.warning.light,.9)),G(_.Alert,"errorIconColor",P("palette-error-main")),G(_.Alert,"infoIconColor",P("palette-info-main")),G(_.Alert,"successIconColor",P("palette-success-main")),G(_.Alert,"warningIconColor",P("palette-warning-main")),G(_.AppBar,"defaultBg",P("palette-grey-100")),G(_.Avatar,"defaultBg",P("palette-grey-400")),G(_.Button,"inheritContainedBg",P("palette-grey-300")),G(_.Button,"inheritContainedHoverBg",P("palette-grey-A100")),G(_.Chip,"defaultBorder",P("palette-grey-400")),G(_.Chip,"defaultAvatarColor",P("palette-grey-700")),G(_.Chip,"defaultIconColor",P("palette-grey-700")),G(_.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),G(_.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),G(_.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),G(_.LinearProgress,"primaryBg",Ze(_.primary.main,.62)),G(_.LinearProgress,"secondaryBg",Ze(_.secondary.main,.62)),G(_.LinearProgress,"errorBg",Ze(_.error.main,.62)),G(_.LinearProgress,"infoBg",Ze(_.info.main,.62)),G(_.LinearProgress,"successBg",Ze(_.success.main,.62)),G(_.LinearProgress,"warningBg",Ze(_.warning.main,.62)),G(_.Skeleton,"bg",`rgba(${P("palette-text-primaryChannel")} / 0.11)`),G(_.Slider,"primaryTrack",Ze(_.primary.main,.62)),G(_.Slider,"secondaryTrack",Ze(_.secondary.main,.62)),G(_.Slider,"errorTrack",Ze(_.error.main,.62)),G(_.Slider,"infoTrack",Ze(_.info.main,.62)),G(_.Slider,"successTrack",Ze(_.success.main,.62)),G(_.Slider,"warningTrack",Ze(_.warning.main,.62));const O=Nc(_.background.default,.8);G(_.SnackbarContent,"bg",O),G(_.SnackbarContent,"color",Pr(()=>_.getContrastText(O))),G(_.SpeedDialAction,"fabHoverBg",Nc(_.background.paper,.15)),G(_.StepConnector,"border",P("palette-grey-400")),G(_.StepContent,"border",P("palette-grey-400")),G(_.Switch,"defaultColor",P("palette-common-white")),G(_.Switch,"defaultDisabledColor",P("palette-grey-100")),G(_.Switch,"primaryDisabledColor",Ze(_.primary.main,.62)),G(_.Switch,"secondaryDisabledColor",Ze(_.secondary.main,.62)),G(_.Switch,"errorDisabledColor",Ze(_.error.main,.62)),G(_.Switch,"infoDisabledColor",Ze(_.info.main,.62)),G(_.Switch,"successDisabledColor",Ze(_.success.main,.62)),G(_.Switch,"warningDisabledColor",Ze(_.warning.main,.62)),G(_.TableCell,"border",Ze(xc(_.divider,1),.88)),G(_.Tooltip,"bg",xc(_.grey[700],.92))}if(_.mode==="dark"){G(_.Alert,"errorColor",Ze(_.error.light,.6)),G(_.Alert,"infoColor",Ze(_.info.light,.6)),G(_.Alert,"successColor",Ze(_.success.light,.6)),G(_.Alert,"warningColor",Ze(_.warning.light,.6)),G(_.Alert,"errorFilledBg",P("palette-error-dark")),G(_.Alert,"infoFilledBg",P("palette-info-dark")),G(_.Alert,"successFilledBg",P("palette-success-dark")),G(_.Alert,"warningFilledBg",P("palette-warning-dark")),G(_.Alert,"errorFilledColor",Pr(()=>_.getContrastText(_.error.dark))),G(_.Alert,"infoFilledColor",Pr(()=>_.getContrastText(_.info.dark))),G(_.Alert,"successFilledColor",Pr(()=>_.getContrastText(_.success.dark))),G(_.Alert,"warningFilledColor",Pr(()=>_.getContrastText(_.warning.dark))),G(_.Alert,"errorStandardBg",Je(_.error.light,.9)),G(_.Alert,"infoStandardBg",Je(_.info.light,.9)),G(_.Alert,"successStandardBg",Je(_.success.light,.9)),G(_.Alert,"warningStandardBg",Je(_.warning.light,.9)),G(_.Alert,"errorIconColor",P("palette-error-main")),G(_.Alert,"infoIconColor",P("palette-info-main")),G(_.Alert,"successIconColor",P("palette-success-main")),G(_.Alert,"warningIconColor",P("palette-warning-main")),G(_.AppBar,"defaultBg",P("palette-grey-900")),G(_.AppBar,"darkBg",P("palette-background-paper")),G(_.AppBar,"darkColor",P("palette-text-primary")),G(_.Avatar,"defaultBg",P("palette-grey-600")),G(_.Button,"inheritContainedBg",P("palette-grey-800")),G(_.Button,"inheritContainedHoverBg",P("palette-grey-700")),G(_.Chip,"defaultBorder",P("palette-grey-700")),G(_.Chip,"defaultAvatarColor",P("palette-grey-300")),G(_.Chip,"defaultIconColor",P("palette-grey-300")),G(_.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),G(_.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),G(_.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),G(_.LinearProgress,"primaryBg",Je(_.primary.main,.5)),G(_.LinearProgress,"secondaryBg",Je(_.secondary.main,.5)),G(_.LinearProgress,"errorBg",Je(_.error.main,.5)),G(_.LinearProgress,"infoBg",Je(_.info.main,.5)),G(_.LinearProgress,"successBg",Je(_.success.main,.5)),G(_.LinearProgress,"warningBg",Je(_.warning.main,.5)),G(_.Skeleton,"bg",`rgba(${P("palette-text-primaryChannel")} / 0.13)`),G(_.Slider,"primaryTrack",Je(_.primary.main,.5)),G(_.Slider,"secondaryTrack",Je(_.secondary.main,.5)),G(_.Slider,"errorTrack",Je(_.error.main,.5)),G(_.Slider,"infoTrack",Je(_.info.main,.5)),G(_.Slider,"successTrack",Je(_.success.main,.5)),G(_.Slider,"warningTrack",Je(_.warning.main,.5));const O=Nc(_.background.default,.98);G(_.SnackbarContent,"bg",O),G(_.SnackbarContent,"color",Pr(()=>_.getContrastText(O))),G(_.SpeedDialAction,"fabHoverBg",Nc(_.background.paper,.15)),G(_.StepConnector,"border",P("palette-grey-600")),G(_.StepContent,"border",P("palette-grey-600")),G(_.Switch,"defaultColor",P("palette-grey-300")),G(_.Switch,"defaultDisabledColor",P("palette-grey-600")),G(_.Switch,"primaryDisabledColor",Je(_.primary.main,.55)),G(_.Switch,"secondaryDisabledColor",Je(_.secondary.main,.55)),G(_.Switch,"errorDisabledColor",Je(_.error.main,.55)),G(_.Switch,"infoDisabledColor",Je(_.info.main,.55)),G(_.Switch,"successDisabledColor",Je(_.success.main,.55)),G(_.Switch,"warningDisabledColor",Je(_.warning.main,.55)),G(_.TableCell,"border",Je(xc(_.divider,1),.68)),G(_.Tooltip,"bg",xc(_.grey[700],.92))}ri(_.background,"default"),ri(_.background,"paper"),ri(_.common,"background"),ri(_.common,"onBackground"),ri(_,"divider"),Object.keys(_).forEach(O=>{const R=_[O];R&&typeof R=="object"&&(R.main&&G(_[O],"mainChannel",Sl(Il(R.main))),R.light&&G(_[O],"lightChannel",Sl(Il(R.light))),R.dark&&G(_[O],"darkChannel",Sl(Il(R.dark))),R.contrastText&&G(_[O],"contrastTextChannel",Sl(Il(R.contrastText))),O==="text"&&(ri(_[O],"primary"),ri(_[O],"secondary")),O==="action"&&(R.active&&ri(_[O],"active"),R.selected&&ri(_[O],"selected")))})}),B=e.reduce((k,_)=>Rn(k,_),B);const U={prefix:a,disableCssColorScheme:o,shouldSkipGeneratingVar:c,getSelector:kA(B)},{vars:Q,generateThemeVars:A,generateStyleSheets:C}=ZC(B,U);return B.vars=Q,Object.entries(B.colorSchemes[B.defaultColorScheme]).forEach(([k,_])=>{B[k]=_}),B.generateThemeVars=A,B.generateStyleSheets=C,B.generateSpacing=function(){return Y_(y.spacing,Zp(this))},B.getColorSchemeSelector=eA(d),B.spacing=B.generateSpacing(),B.shouldSkipGeneratingVar=c,B.unstable_sxConfig={...Fh,...y==null?void 0:y.unstable_sxConfig},B.unstable_sx=function(_){return ua({sx:_,theme:this})},B.toRuntimeSource=i1,B}function n0(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:um({...t===!0?{}:t.palette,mode:e})})}function OA(n={},...e){const{palette:t,cssVariables:i=!1,colorSchemes:o=t?void 0:{light:!0},defaultColorScheme:a=t==null?void 0:t.mode,...c}=n,d=a||"light",p=o==null?void 0:o[d],y={...o,...t?{[d]:{...typeof p!="boolean"&&p,palette:t}}:void 0};if(i===!1){if(!("colorSchemes"in n))return yp(n,...e);let w=t;"palette"in n||y[d]&&(y[d]!==!0?w=y[d].palette:d==="dark"&&(w={mode:"dark"}));const T=yp({...n,palette:w},...e);return T.defaultColorScheme=d,T.colorSchemes=y,T.palette.mode==="light"&&(T.colorSchemes.light={...y.light!==!0&&y.light,palette:T.palette},n0(T,"dark",y.dark)),T.palette.mode==="dark"&&(T.colorSchemes.dark={...y.dark!==!0&&y.dark,palette:T.palette},n0(T,"light",y.light)),T}return!t&&!("light"in y)&&d==="light"&&(y.light=!0),NA({...c,colorSchemes:y,defaultColorScheme:d,...typeof i!="boolean"&&i},...e)}const DA=OA(),VA="$$material";function MA(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const a1=n=>MA(n)&&n!=="classes",Fr=LC({themeId:VA,defaultTheme:DA,rootShouldForwardProp:a1}),cm=QC;function iu(n){return GC(n)}function LA(n){return Zl("MuiSvgIcon",n)}eu("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const FA=n=>{const{color:e,fontSize:t,classes:i}=n,o={root:["root",e!=="inherit"&&`color${$t(e)}`,`fontSize${$t(t)}`]};return bh(o,LA,i)},UA=Fr("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${$t(t.color)}`],e[`fontSize${$t(t.fontSize)}`]]}})(cm(({theme:n})=>{var e,t,i,o,a,c,d,p,y,w,T,I,x,N;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(o=(e=n.transitions)==null?void 0:e.create)==null?void 0:o.call(e,"fill",{duration:(i=(t=(n.vars??n).transitions)==null?void 0:t.duration)==null?void 0:i.shorter}),variants:[{props:V=>!V.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((c=(a=n.typography)==null?void 0:a.pxToRem)==null?void 0:c.call(a,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((p=(d=n.typography)==null?void 0:d.pxToRem)==null?void 0:p.call(d,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((w=(y=n.typography)==null?void 0:y.pxToRem)==null?void 0:w.call(y,35))||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,V])=>V&&V.main).map(([V])=>{var M,K;return{props:{color:V},style:{color:(K=(M=(n.vars??n).palette)==null?void 0:M[V])==null?void 0:K.main}}}),{props:{color:"action"},style:{color:(I=(T=(n.vars??n).palette)==null?void 0:T.action)==null?void 0:I.active}},{props:{color:"disabled"},style:{color:(N=(x=(n.vars??n).palette)==null?void 0:x.action)==null?void 0:N.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),sh=ae.forwardRef(function(e,t){const i=iu({props:e,name:"MuiSvgIcon"}),{children:o,className:a,color:c="inherit",component:d="svg",fontSize:p="medium",htmlColor:y,inheritViewBox:w=!1,titleAccess:T,viewBox:I="0 0 24 24",...x}=i,N=ae.isValidElement(o)&&o.type==="svg",V={...i,color:c,component:d,fontSize:p,instanceFontSize:e.fontSize,inheritViewBox:w,viewBox:I,hasSvgAsChild:N},M={};w||(M.viewBox=I);const K=FA(V);return X.jsxs(UA,{as:d,className:Zt(K.root,a),focusable:"false",color:y,"aria-hidden":T?void 0:!0,role:T?"img":void 0,ref:t,...M,...x,...N&&o.props,ownerState:V,children:[N?o.props.children:o,T?X.jsx("title",{children:T}):null]})});sh&&(sh.muiName="SvgIcon");function nn(n,e){function t(i,o){return X.jsx(sh,{"data-testid":`${e}Icon`,ref:o,...i,children:n})}return t.muiName=sh.muiName,ae.memo(ae.forwardRef(t))}const zA=nn(X.jsx("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2m6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1z"}),"Notifications"),jA=nn(X.jsx("path",{fillRule:"evenodd",d:"M16 9V4h1c.55 0 1-.45 1-1s-.45-1-1-1H7c-.55 0-1 .45-1 1s.45 1 1 1h1v5c0 1.66-1.34 3-3 3v2h5.97v7l1 1 1-1v-7H19v-2c-1.66 0-3-1.34-3-3"}),"PushPin"),BA=nn([X.jsx("path",{fillRule:"evenodd",d:"M16.67 13.13C18.04 14.06 19 15.32 19 17v3h4v-3c0-2.18-3.57-3.47-6.33-3.87"},"0"),X.jsx("circle",{cx:"9",cy:"8",r:"4",fillRule:"evenodd"},"1"),X.jsx("path",{fillRule:"evenodd",d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4c-.47 0-.91.1-1.33.24C14.5 5.27 15 6.58 15 8s-.5 2.73-1.33 3.76c.42.14.86.24 1.33.24m-6 1c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4"},"2")],"PeopleAlt"),$A=nn(X.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search"),WA=nn(X.jsx("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send"),HA=nn(X.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 17h-2v-2h2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25"}),"Help"),qA=n=>{const{channelName:e}=n;return X.jsxs("div",{className:"chat__header",children:[X.jsx("div",{className:"chat__header-left",children:X.jsxs("h3",{children:[X.jsx("span",{className:"chat__header-hash",children:"#"}),e]})}),X.jsxs("div",{className:"chat__header-right",children:[X.jsx(zA,{}),X.jsx(jA,{}),X.jsx(BA,{}),X.jsxs("div",{className:"chat__header-search",children:[X.jsx("input",{type:"text",placeholder:""}),X.jsx($A,{})]}),X.jsx(WA,{}),X.jsx(HA,{})]})]})},KA=nn(X.jsx("path",{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"}),"AddCircleOutline"),GA=nn(X.jsx("path",{d:"M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2m-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1M9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1m11 15H4v-2h16zm0-5H4V8h5.08L7 10.83 8.62 12 11 8.76l1-1.36 1 1.36L15.38 12 17 10.83 14.92 8H20z"}),"CardGiftcard"),QA=nn(X.jsx("path",{d:"M11.5 9H13v6h-1.5zM9 9H6c-.6 0-1 .5-1 1v4c0 .5.4 1 1 1h3c.6 0 1-.5 1-1v-2H8.5v1.5h-2v-3H10V10c0-.5-.4-1-1-1m10 1.5V9h-4.5v6H16v-2h2v-1.5h-2v-1z"}),"Gif"),XA=nn(X.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M8.5 8c.83 0 1.5.67 1.5 1.5S9.33 11 8.5 11 7 10.33 7 9.5 7.67 8 8.5 8M12 18c-2.28 0-4.22-1.66-5-4h10c-.78 2.34-2.72 4-5 4m3.5-7c-.83 0-1.5-.67-1.5-1.5S14.67 8 15.5 8s1.5.67 1.5 1.5-.67 1.5-1.5 1.5"}),"EmojiEmotions");function YA(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.includes(i))continue;t[i]=n[i]}return t}function vp(n,e){return vp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},vp(n,e)}function JA(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,vp(n,e)}const r0=Us.createContext(null);function ZA(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function hm(n,e){var t=function(a){return e&&ae.isValidElement(a)?e(a):a},i=Object.create(null);return n&&ae.Children.map(n,function(o){return o}).forEach(function(o){i[o.key]=t(o)}),i}function eR(n,e){n=n||{},e=e||{};function t(w){return w in e?e[w]:n[w]}var i=Object.create(null),o=[];for(var a in n)a in e?o.length&&(i[a]=o,o=[]):o.push(a);var c,d={};for(var p in e){if(i[p])for(c=0;c<i[p].length;c++){var y=i[p][c];d[i[p][c]]=t(y)}d[p]=t(p)}for(c=0;c<o.length;c++)d[o[c]]=t(o[c]);return d}function zs(n,e,t){return t[e]!=null?t[e]:n.props[e]}function tR(n,e){return hm(n.children,function(t){return ae.cloneElement(t,{onExited:e.bind(null,t),in:!0,appear:zs(t,"appear",n),enter:zs(t,"enter",n),exit:zs(t,"exit",n)})})}function nR(n,e,t){var i=hm(n.children),o=eR(e,i);return Object.keys(o).forEach(function(a){var c=o[a];if(ae.isValidElement(c)){var d=a in e,p=a in i,y=e[a],w=ae.isValidElement(y)&&!y.props.in;p&&(!d||w)?o[a]=ae.cloneElement(c,{onExited:t.bind(null,c),in:!0,exit:zs(c,"exit",n),enter:zs(c,"enter",n)}):!p&&d&&!w?o[a]=ae.cloneElement(c,{in:!1}):p&&d&&ae.isValidElement(y)&&(o[a]=ae.cloneElement(c,{onExited:t.bind(null,c),in:y.props.in,exit:zs(c,"exit",n),enter:zs(c,"enter",n)}))}}),o}var rR=Object.values||function(n){return Object.keys(n).map(function(e){return n[e]})},iR={component:"div",childFactory:function(e){return e}},dm=function(n){JA(e,n);function e(i,o){var a;a=n.call(this,i,o)||this;var c=a.handleExited.bind(ZA(a));return a.state={contextValue:{isMounting:!0},handleExited:c,firstRender:!0},a}var t=e.prototype;return t.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},t.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(o,a){var c=a.children,d=a.handleExited,p=a.firstRender;return{children:p?tR(o,d):nR(o,c,d),firstRender:!1}},t.handleExited=function(o,a){var c=hm(this.props.children);o.key in c||(o.props.onExited&&o.props.onExited(a),this.mounted&&this.setState(function(d){var p=rh({},d.children);return delete p[o.key],{children:p}}))},t.render=function(){var o=this.props,a=o.component,c=o.childFactory,d=YA(o,["component","childFactory"]),p=this.state.contextValue,y=rR(this.state.children).map(c);return delete d.appear,delete d.enter,delete d.exit,a===null?Us.createElement(r0.Provider,{value:p},y):Us.createElement(r0.Provider,{value:p},Us.createElement(a,d,y))},e}(Us.Component);dm.propTypes={};dm.defaultProps=iR;function sR(n,e){const{className:t,elementType:i,ownerState:o,externalForwardedProps:a,getSlotOwnerState:c,internalForwardedProps:d,...p}=e,{component:y,slots:w={[n]:void 0},slotProps:T={[n]:void 0},...I}=a,x=w[n]||i,N=NS(T[n],o),{props:{component:V,...M},internalRef:K}=xS({className:t,...p,externalForwardedProps:void 0,externalSlotProps:N}),J=dp(K,N==null?void 0:N.ref,e.ref),W=c?c(M):{},B={...o,...W},U=V,Q=PS(x,{...n==="root",...!w[n]&&d,...M,...U&&{as:U},ref:J},B);return Object.keys(W).forEach(A=>{delete Q[A]}),[x,Q]}class oh{constructor(){_l(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new oh}static use(){const e=L_(oh.create).current,[t,i]=ae.useState(!1);return e.shouldMount=t,e.setShouldMount=i,ae.useEffect(e.mountEffect,[t]),e}mount(){return this.mounted||(this.mounted=aR(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...e){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.start(...e)})}stop(...e){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.stop(...e)})}pulsate(...e){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.pulsate(...e)})}}function oR(){return oh.use()}function aR(){let n,e;const t=new Promise((i,o)=>{n=i,e=o});return t.resolve=n,t.reject=e,t}function lR(n){const{className:e,classes:t,pulsate:i=!1,rippleX:o,rippleY:a,rippleSize:c,in:d,onExited:p,timeout:y}=n,[w,T]=ae.useState(!1),I=Zt(e,t.ripple,t.rippleVisible,i&&t.ripplePulsate),x={width:c,height:c,top:-(c/2)+a,left:-(c/2)+o},N=Zt(t.child,w&&t.childLeaving,i&&t.childPulsate);return!d&&!w&&T(!0),ae.useEffect(()=>{if(!d&&p!=null){const V=setTimeout(p,y);return()=>{clearTimeout(V)}}},[p,d,y]),X.jsx("span",{className:I,style:x,children:X.jsx("span",{className:N})})}const Hn=eu("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),_p=550,uR=80,cR=sm`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,hR=sm`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,dR=sm`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,fR=Fr("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),pR=Fr(lR,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Hn.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${cR};
    animation-duration: ${_p}ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
  }

  &.${Hn.ripplePulsate} {
    animation-duration: ${({theme:n})=>n.transitions.duration.shorter}ms;
  }

  & .${Hn.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Hn.childLeaving} {
    opacity: 0;
    animation-name: ${hR};
    animation-duration: ${_p}ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
  }

  & .${Hn.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${dR};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,mR=ae.forwardRef(function(e,t){const i=iu({props:e,name:"MuiTouchRipple"}),{center:o=!1,classes:a={},className:c,...d}=i,[p,y]=ae.useState([]),w=ae.useRef(0),T=ae.useRef(null);ae.useEffect(()=>{T.current&&(T.current(),T.current=null)},[p]);const I=ae.useRef(!1),x=SS(),N=ae.useRef(null),V=ae.useRef(null),M=ae.useCallback(B=>{const{pulsate:U,rippleX:Q,rippleY:A,rippleSize:C,cb:k}=B;y(_=>[..._,X.jsx(pR,{classes:{ripple:Zt(a.ripple,Hn.ripple),rippleVisible:Zt(a.rippleVisible,Hn.rippleVisible),ripplePulsate:Zt(a.ripplePulsate,Hn.ripplePulsate),child:Zt(a.child,Hn.child),childLeaving:Zt(a.childLeaving,Hn.childLeaving),childPulsate:Zt(a.childPulsate,Hn.childPulsate)},timeout:_p,pulsate:U,rippleX:Q,rippleY:A,rippleSize:C},w.current)]),w.current+=1,T.current=k},[a]),K=ae.useCallback((B={},U={},Q=()=>{})=>{const{pulsate:A=!1,center:C=o||U.pulsate,fakeElement:k=!1}=U;if((B==null?void 0:B.type)==="mousedown"&&I.current){I.current=!1;return}(B==null?void 0:B.type)==="touchstart"&&(I.current=!0);const _=k?null:V.current,P=_?_.getBoundingClientRect():{width:0,height:0,left:0,top:0};let O,R,Ce;if(C||B===void 0||B.clientX===0&&B.clientY===0||!B.clientX&&!B.touches)O=Math.round(P.width/2),R=Math.round(P.height/2);else{const{clientX:Ue,clientY:qe}=B.touches&&B.touches.length>0?B.touches[0]:B;O=Math.round(Ue-P.left),R=Math.round(qe-P.top)}if(C)Ce=Math.sqrt((2*P.width**2+P.height**2)/3),Ce%2===0&&(Ce+=1);else{const Ue=Math.max(Math.abs((_?_.clientWidth:0)-O),O)*2+2,qe=Math.max(Math.abs((_?_.clientHeight:0)-R),R)*2+2;Ce=Math.sqrt(Ue**2+qe**2)}B!=null&&B.touches?N.current===null&&(N.current=()=>{M({pulsate:A,rippleX:O,rippleY:R,rippleSize:Ce,cb:Q})},x.start(uR,()=>{N.current&&(N.current(),N.current=null)})):M({pulsate:A,rippleX:O,rippleY:R,rippleSize:Ce,cb:Q})},[o,M,x]),J=ae.useCallback(()=>{K({},{pulsate:!0})},[K]),W=ae.useCallback((B,U)=>{if(x.clear(),(B==null?void 0:B.type)==="touchend"&&N.current){N.current(),N.current=null,x.start(0,()=>{W(B,U)});return}N.current=null,y(Q=>Q.length>0?Q.slice(1):Q),T.current=U},[x]);return ae.useImperativeHandle(t,()=>({pulsate:J,start:K,stop:W}),[J,K,W]),X.jsx(fR,{className:Zt(Hn.root,a.root,c),ref:V,...d,children:X.jsx(dm,{component:null,exit:!0,children:p})})});function gR(n){return Zl("MuiButtonBase",n)}const yR=eu("MuiButtonBase",["root","disabled","focusVisible"]),vR=n=>{const{disabled:e,focusVisible:t,focusVisibleClassName:i,classes:o}=n,c=bh({root:["root",e&&"disabled",t&&"focusVisible"]},gR,o);return t&&i&&(c.root+=` ${i}`),c},_R=Fr("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(n,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${yR.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),wR=ae.forwardRef(function(e,t){const i=iu({props:e,name:"MuiButtonBase"}),{action:o,centerRipple:a=!1,children:c,className:d,component:p="button",disabled:y=!1,disableRipple:w=!1,disableTouchRipple:T=!1,focusRipple:I=!1,focusVisibleClassName:x,LinkComponent:N="a",onBlur:V,onClick:M,onContextMenu:K,onDragLeave:J,onFocus:W,onFocusVisible:B,onKeyDown:U,onKeyUp:Q,onMouseDown:A,onMouseLeave:C,onMouseUp:k,onTouchEnd:_,onTouchMove:P,onTouchStart:O,tabIndex:R=0,TouchRippleProps:Ce,touchRippleRef:Ue,type:qe,...xe}=i,se=ae.useRef(null),pe=oR(),le=dp(pe.ref,Ue),[F,Y]=ae.useState(!1);y&&F&&Y(!1),ae.useImperativeHandle(o,()=>({focusVisible:()=>{Y(!0),se.current.focus()}}),[]);const ye=pe.shouldMount&&!w&&!y;ae.useEffect(()=>{F&&I&&!w&&pe.pulsate()},[w,I,F,pe]);function Ee(Te,jr,us=T){return Pc(ht=>(jr&&jr(ht),us||pe[Te](ht),!0))}const Pe=Ee("start",A),Ne=Ee("stop",K),ze=Ee("stop",J),je=Ee("stop",k),Xe=Ee("stop",Te=>{F&&Te.preventDefault(),C&&C(Te)}),_t=Ee("start",O),Qn=Ee("stop",_),_i=Ee("stop",P),gr=Ee("stop",Te=>{xv(Te.target)||Y(!1),V&&V(Te)},!1),Ur=Pc(Te=>{se.current||(se.current=Te.currentTarget),xv(Te.target)&&(Y(!0),B&&B(Te)),W&&W(Te)}),yr=()=>{const Te=se.current;return p&&p!=="button"&&!(Te.tagName==="A"&&Te.href)},os=Pc(Te=>{I&&!Te.repeat&&F&&Te.key===" "&&pe.stop(Te,()=>{pe.start(Te)}),Te.target===Te.currentTarget&&yr()&&Te.key===" "&&Te.preventDefault(),U&&U(Te),Te.target===Te.currentTarget&&yr()&&Te.key==="Enter"&&!y&&(Te.preventDefault(),M&&M(Te))}),as=Pc(Te=>{I&&Te.key===" "&&F&&!Te.defaultPrevented&&pe.stop(Te,()=>{pe.pulsate(Te)}),Q&&Q(Te),M&&Te.target===Te.currentTarget&&yr()&&Te.key===" "&&!Te.defaultPrevented&&M(Te)});let zr=p;zr==="button"&&(xe.href||xe.to)&&(zr=N);const On={};zr==="button"?(On.type=qe===void 0?"button":qe,On.disabled=y):(!xe.href&&!xe.to&&(On.role="button"),y&&(On["aria-disabled"]=y));const Xn=dp(t,se),Dn={...i,centerRipple:a,component:p,disabled:y,disableRipple:w,disableTouchRipple:T,focusRipple:I,tabIndex:R,focusVisible:F},ls=vR(Dn);return X.jsxs(_R,{as:zr,className:Zt(ls.root,d),ownerState:Dn,onBlur:gr,onClick:M,onContextMenu:Ne,onFocus:Ur,onKeyDown:os,onKeyUp:as,onMouseDown:Pe,onMouseLeave:Xe,onMouseUp:je,onDragLeave:ze,onTouchEnd:Qn,onTouchMove:_i,onTouchStart:_t,ref:Xn,tabIndex:y?-1:R,type:qe,...On,...xe,children:[c,ye?X.jsx(mR,{ref:le,center:a,...Ce}):null]})});function ER(n){return typeof n.main=="string"}function TR(n,e=[]){if(!ER(n))return!1;for(const t of e)if(!n.hasOwnProperty(t)||typeof n[t]!="string")return!1;return!0}function SR(n=[]){return([,e])=>e&&TR(e,n)}const IR=nn(X.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function CR(n){return Zl("MuiAvatar",n)}eu("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const AR=n=>{const{classes:e,variant:t,colorDefault:i}=n;return bh({root:["root",t,i&&"colorDefault"],img:["img"],fallback:["fallback"]},CR,e)},RR=Fr("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],t.colorDefault&&e.colorDefault]}})(cm(({theme:n})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:n.typography.fontFamily,fontSize:n.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(n.vars||n).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(n.vars||n).palette.background.default,...n.vars?{backgroundColor:n.vars.palette.Avatar.defaultBg}:{backgroundColor:n.palette.grey[400],...n.applyStyles("dark",{backgroundColor:n.palette.grey[600]})}}}]}))),kR=Fr("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(n,e)=>e.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),PR=Fr(IR,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(n,e)=>e.fallback})({width:"75%",height:"75%"});function bR({crossOrigin:n,referrerPolicy:e,src:t,srcSet:i}){const[o,a]=ae.useState(!1);return ae.useEffect(()=>{if(!t&&!i)return;a(!1);let c=!0;const d=new Image;return d.onload=()=>{c&&a("loaded")},d.onerror=()=>{c&&a("error")},d.crossOrigin=n,d.referrerPolicy=e,d.src=t,i&&(d.srcset=i),()=>{c=!1}},[n,e,t,i]),o}const xR=ae.forwardRef(function(e,t){const i=iu({props:e,name:"MuiAvatar"}),{alt:o,children:a,className:c,component:d="div",slots:p={},slotProps:y={},imgProps:w,sizes:T,src:I,srcSet:x,variant:N="circular",...V}=i;let M=null;const K=bR({...w,src:I,srcSet:x}),J=I||x,W=J&&K!=="error",B={...i,colorDefault:!W,component:d,variant:N};delete B.ownerState;const U=AR(B),[Q,A]=sR("img",{className:U.img,elementType:kR,externalForwardedProps:{slots:p,slotProps:{img:{...w,...y.img}}},additionalProps:{alt:o,src:I,srcSet:x,sizes:T},ownerState:B});return W?M=X.jsx(Q,{...A}):a||a===0?M=a:J&&o?M=o[0]:M=X.jsx(PR,{ownerState:B,className:U.fallback}),X.jsx(RR,{as:d,className:Zt(U.root,c),ref:t,...V,ownerState:B,children:M})});function NR(n){return Zl("MuiButton",n)}const Xo=eu("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),OR=ae.createContext({}),DR=ae.createContext(void 0),VR=n=>{const{color:e,disableElevation:t,fullWidth:i,size:o,variant:a,classes:c}=n,d={root:["root",a,`${a}${$t(e)}`,`size${$t(o)}`,`${a}Size${$t(o)}`,`color${$t(e)}`,t&&"disableElevation",i&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${$t(o)}`],endIcon:["icon","endIcon",`iconSize${$t(o)}`]},p=bh(d,NR,c);return{...c,...p}},l1=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],MR=Fr(wR,{shouldForwardProp:n=>a1(n)||n==="classes",name:"MuiButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`${t.variant}${$t(t.color)}`],e[`size${$t(t.size)}`],e[`${t.variant}Size${$t(t.size)}`],t.color==="inherit"&&e.colorInherit,t.disableElevation&&e.disableElevation,t.fullWidth&&e.fullWidth]}})(cm(({theme:n})=>{const e=n.palette.mode==="light"?n.palette.grey[300]:n.palette.grey[800],t=n.palette.mode==="light"?n.palette.grey.A100:n.palette.grey[700];return{...n.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create(["background-color","box-shadow","border-color","color"],{duration:n.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Xo.disabled}`]:{color:(n.vars||n).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(n.vars||n).shadows[2],"&:hover":{boxShadow:(n.vars||n).shadows[4],"@media (hover: none)":{boxShadow:(n.vars||n).shadows[2]}},"&:active":{boxShadow:(n.vars||n).shadows[8]},[`&.${Xo.focusVisible}`]:{boxShadow:(n.vars||n).shadows[6]},[`&.${Xo.disabled}`]:{color:(n.vars||n).palette.action.disabled,boxShadow:(n.vars||n).shadows[0],backgroundColor:(n.vars||n).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Xo.disabled}`]:{border:`1px solid ${(n.vars||n).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(n.palette).filter(SR()).map(([i])=>({props:{color:i},style:{"--variant-textColor":(n.vars||n).palette[i].main,"--variant-outlinedColor":(n.vars||n).palette[i].main,"--variant-outlinedBorder":n.vars?`rgba(${n.vars.palette[i].mainChannel} / 0.5)`:Yo(n.palette[i].main,.5),"--variant-containedColor":(n.vars||n).palette[i].contrastText,"--variant-containedBg":(n.vars||n).palette[i].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(n.vars||n).palette[i].dark,"--variant-textBg":n.vars?`rgba(${n.vars.palette[i].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:Yo(n.palette[i].main,n.palette.action.hoverOpacity),"--variant-outlinedBorder":(n.vars||n).palette[i].main,"--variant-outlinedBg":n.vars?`rgba(${n.vars.palette[i].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:Yo(n.palette[i].main,n.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":n.vars?n.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":n.vars?n.vars.palette.Button.inheritContainedHoverBg:t,"--variant-textBg":n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.hoverOpacity})`:Yo(n.palette.text.primary,n.palette.action.hoverOpacity),"--variant-outlinedBg":n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.hoverOpacity})`:Yo(n.palette.text.primary,n.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:n.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:n.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:n.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Xo.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Xo.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}}]}})),LR=Fr("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.startIcon,e[`iconSize${$t(t.size)}`]]}})({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},...l1]}),FR=Fr("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.endIcon,e[`iconSize${$t(t.size)}`]]}})({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},...l1]}),UR=ae.forwardRef(function(e,t){const i=ae.useContext(OR),o=ae.useContext(DR),a=th(i,e),c=iu({props:a,name:"MuiButton"}),{children:d,color:p="primary",component:y="button",className:w,disabled:T=!1,disableElevation:I=!1,disableFocusRipple:x=!1,endIcon:N,focusVisibleClassName:V,fullWidth:M=!1,size:K="medium",startIcon:J,type:W,variant:B="text",...U}=c,Q={...c,color:p,component:y,disabled:T,disableElevation:I,disableFocusRipple:x,fullWidth:M,size:K,type:W,variant:B},A=VR(Q),C=J&&X.jsx(LR,{className:A.startIcon,ownerState:Q,children:J}),k=N&&X.jsx(FR,{className:A.endIcon,ownerState:Q,children:N}),_=o||"";return X.jsxs(MR,{ownerState:Q,className:Zt(i.className,A.root,w,_),component:y,disabled:T,focusRipple:!x,focusVisibleClassName:Zt(A.focusVisible,V),ref:t,type:W,...U,classes:A,children:[C,d,k]})}),zR=n=>{const{message:e,timestamp:t,user:i}=n;return X.jsxs("div",{className:"message",children:[X.jsx(xR,{src:i==null?void 0:i.photo}),X.jsxs("div",{className:"message__info",children:[X.jsxs("h4",{children:[i==null?void 0:i.displayName,X.jsx("span",{className:"message__time",children:new Date(t==null?void 0:t.toDate()).toLocaleString()})]}),X.jsx("p",{children:e})]})]})};var i0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},jR=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],c=n[t++],d=n[t++],p=((o&7)<<18|(a&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const a=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|c&63)}}return e.join("")},c1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const a=n[o],c=o+1<n.length,d=c?n[o+1]:0,p=o+2<n.length,y=p?n[o+2]:0,w=a>>2,T=(a&3)<<4|d>>4;let I=(d&15)<<2|y>>6,x=y&63;p||(x=64,c||(I=64)),i.push(t[w],t[T],t[I],t[x])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(u1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):jR(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const T=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||d==null||y==null||T==null)throw new BR;const I=a<<2|d>>4;if(i.push(I),y!==64){const x=d<<4&240|y>>2;if(i.push(x),T!==64){const N=y<<6&192|T;i.push(N)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class BR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $R=function(n){const e=u1(n);return c1.encodeByteArray(e,!0)},ah=function(n){return $R(n).replace(/\./g,"")},h1=function(n){try{return c1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=()=>WR().__FIREBASE_DEFAULTS__,qR=()=>{if(typeof process>"u"||typeof i0>"u")return;const n=i0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},KR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&h1(n[1]);return e&&JSON.parse(e)},$h=()=>{try{return HR()||qR()||KR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},d1=n=>{var e,t;return(t=(e=$h())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},GR=n=>{const e=d1(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},f1=()=>{var n;return(n=$h())===null||n===void 0?void 0:n.config},p1=n=>{var e;return(e=$h())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ah(JSON.stringify(t)),ah(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function YR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function JR(){var n;const e=(n=$h())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ZR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ek(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function tk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nk(){const n=tn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function rk(){return!JR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ik(){try{return typeof indexedDB=="object"}catch{return!1}}function sk(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok="FirebaseError";class vi extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=ok,Object.setPrototypeOf(this,vi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,su.prototype.create)}}class su{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],c=a?ak(a,i):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new vi(o,d,i)}}function ak(n,e){return n.replace(lk,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const lk=/\{\$([^}]+)}/g;function uk(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function lh(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const a=n[o],c=e[o];if(s0(a)&&s0(c)){if(!lh(a,c))return!1}else if(a!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function s0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function ck(n,e){const t=new hk(n,e);return t.subscribe.bind(t)}class hk{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");dk(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=Jf),o.error===void 0&&(o.error=Jf),o.complete===void 0&&(o.complete=Jf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dk(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Jf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(n){return n&&n._delegate?n._delegate:n}class Ks{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new QR;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mk(e))try{this.getOrInitializeService({instanceIdentifier:Ls})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=Ls){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ls){return this.instances.has(e)}getOptions(e=Ls){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);i===d&&c.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),a=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(o,a);const c=this.instances.get(o);return c&&e(c,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:pk(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ls){return this.component?this.component.multipleInstances?e:Ls:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pk(n){return n===Ls?void 0:n}function mk(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new fk(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Oe||(Oe={}));const yk={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},vk=Oe.INFO,_k={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},wk=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=_k[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class fm{constructor(e){this.name=e,this._logLevel=vk,this._logHandler=wk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const Ek=(n,e)=>e.some(t=>n instanceof t);let o0,a0;function Tk(){return o0||(o0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Sk(){return a0||(a0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const m1=new WeakMap,wp=new WeakMap,g1=new WeakMap,Zf=new WeakMap,pm=new WeakMap;function Ik(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",c)},a=()=>{t(Qi(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&m1.set(t,n)}).catch(()=>{}),pm.set(e,n),e}function Ck(n){if(wp.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",c),n.removeEventListener("abort",c)},a=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",c),n.addEventListener("abort",c)});wp.set(n,e)}let Ep={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return wp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||g1.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Qi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Ak(n){Ep=n(Ep)}function Rk(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(ep(this),e,...t);return g1.set(i,e.sort?e.sort():[e]),Qi(i)}:Sk().includes(n)?function(...e){return n.apply(ep(this),e),Qi(m1.get(this))}:function(...e){return Qi(n.apply(ep(this),e))}}function kk(n){return typeof n=="function"?Rk(n):(n instanceof IDBTransaction&&Ck(n),Ek(n,Tk())?new Proxy(n,Ep):n)}function Qi(n){if(n instanceof IDBRequest)return Ik(n);if(Zf.has(n))return Zf.get(n);const e=kk(n);return e!==n&&(Zf.set(n,e),pm.set(e,n)),e}const ep=n=>pm.get(n);function Pk(n,e,{blocked:t,upgrade:i,blocking:o,terminated:a}={}){const c=indexedDB.open(n,e),d=Qi(c);return i&&c.addEventListener("upgradeneeded",p=>{i(Qi(c.result),p.oldVersion,p.newVersion,Qi(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{a&&p.addEventListener("close",()=>a()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),d}const bk=["get","getKey","getAll","getAllKeys","count"],xk=["put","add","delete","clear"],tp=new Map;function l0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(tp.get(e))return tp.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=xk.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||bk.includes(t)))return;const a=async function(c,...d){const p=this.transaction(c,o?"readwrite":"readonly");let y=p.store;return i&&(y=y.index(d.shift())),(await Promise.all([y[t](...d),o&&p.done]))[0]};return tp.set(e,a),a}Ak(n=>({...n,get:(e,t,i)=>l0(e,t)||n.get(e,t,i),has:(e,t)=>!!l0(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Ok(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function Ok(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Tp="@firebase/app",u0="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi=new fm("@firebase/app"),Dk="@firebase/app-compat",Vk="@firebase/analytics-compat",Mk="@firebase/analytics",Lk="@firebase/app-check-compat",Fk="@firebase/app-check",Uk="@firebase/auth",zk="@firebase/auth-compat",jk="@firebase/database",Bk="@firebase/data-connect",$k="@firebase/database-compat",Wk="@firebase/functions",Hk="@firebase/functions-compat",qk="@firebase/installations",Kk="@firebase/installations-compat",Gk="@firebase/messaging",Qk="@firebase/messaging-compat",Xk="@firebase/performance",Yk="@firebase/performance-compat",Jk="@firebase/remote-config",Zk="@firebase/remote-config-compat",eP="@firebase/storage",tP="@firebase/storage-compat",nP="@firebase/firestore",rP="@firebase/vertexai",iP="@firebase/firestore-compat",sP="firebase",oP="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sp="[DEFAULT]",aP={[Tp]:"fire-core",[Dk]:"fire-core-compat",[Mk]:"fire-analytics",[Vk]:"fire-analytics-compat",[Fk]:"fire-app-check",[Lk]:"fire-app-check-compat",[Uk]:"fire-auth",[zk]:"fire-auth-compat",[jk]:"fire-rtdb",[Bk]:"fire-data-connect",[$k]:"fire-rtdb-compat",[Wk]:"fire-fn",[Hk]:"fire-fn-compat",[qk]:"fire-iid",[Kk]:"fire-iid-compat",[Gk]:"fire-fcm",[Qk]:"fire-fcm-compat",[Xk]:"fire-perf",[Yk]:"fire-perf-compat",[Jk]:"fire-rc",[Zk]:"fire-rc-compat",[eP]:"fire-gcs",[tP]:"fire-gcs-compat",[nP]:"fire-fst",[iP]:"fire-fst-compat",[rP]:"fire-vertex","fire-js":"fire-js",[sP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh=new Map,lP=new Map,Ip=new Map;function c0(n,e){try{n.container.addComponent(e)}catch(t){fi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ha(n){const e=n.name;if(Ip.has(e))return fi.debug(`There were multiple attempts to register component ${e}.`),!1;Ip.set(e,n);for(const t of uh.values())c0(t,n);for(const t of lP.values())c0(t,n);return!0}function mm(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function oi(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xi=new su("app","Firebase",uP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta=oP;function y1(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Sp,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw Xi.create("bad-app-name",{appName:String(o)});if(t||(t=f1()),!t)throw Xi.create("no-options");const a=uh.get(o);if(a){if(lh(t,a.options)&&lh(i,a.config))return a;throw Xi.create("duplicate-app",{appName:o})}const c=new gk(o);for(const p of Ip.values())c.addComponent(p);const d=new cP(t,i,c);return uh.set(o,d),d}function v1(n=Sp){const e=uh.get(n);if(!e&&n===Sp&&f1())return y1();if(!e)throw Xi.create("no-app",{appName:n});return e}function Yi(n,e,t){var i;let o=(i=aP[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const d=[`Unable to register library "${o}" with version "${e}":`];a&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fi.warn(d.join(" "));return}ha(new Ks(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP="firebase-heartbeat-database",dP=1,jl="firebase-heartbeat-store";let np=null;function _1(){return np||(np=Pk(hP,dP,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(jl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Xi.create("idb-open",{originalErrorMessage:n.message})})),np}async function fP(n){try{const t=(await _1()).transaction(jl),i=await t.objectStore(jl).get(w1(n));return await t.done,i}catch(e){if(e instanceof vi)fi.warn(e.message);else{const t=Xi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fi.warn(t.message)}}}async function h0(n,e){try{const i=(await _1()).transaction(jl,"readwrite");await i.objectStore(jl).put(e,w1(n)),await i.done}catch(t){if(t instanceof vi)fi.warn(t.message);else{const i=Xi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});fi.warn(i.message)}}}function w1(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP=1024,mP=30*24*60*60*1e3;class gP{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new vP(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=d0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(c=>c.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const d=new Date(c.date).valueOf();return Date.now()-d<=mP}),this._storage.overwrite(this._heartbeatsCache))}catch(i){fi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=d0(),{heartbeatsToSend:i,unsentEntries:o}=yP(this._heartbeatsCache.heartbeats),a=ah(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return fi.warn(t),""}}}function d0(){return new Date().toISOString().substring(0,10)}function yP(n,e=pP){const t=[];let i=n.slice();for(const o of n){const a=t.find(c=>c.agent===o.agent);if(a){if(a.dates.push(o.date),f0(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),f0(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class vP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ik()?sk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await fP(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return h0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return h0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function f0(n){return ah(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _P(n){ha(new Ks("platform-logger",e=>new Nk(e),"PRIVATE")),ha(new Ks("heartbeat",e=>new gP(e),"PRIVATE")),Yi(Tp,u0,n),Yi(Tp,u0,"esm2017"),Yi("fire-js","")}_P("");var p0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $s,E1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,C){function k(){}k.prototype=C.prototype,A.D=C.prototype,A.prototype=new k,A.prototype.constructor=A,A.C=function(_,P,O){for(var R=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)R[Ce-2]=arguments[Ce];return C.prototype[P].apply(_,R)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(A,C,k){k||(k=0);var _=Array(16);if(typeof C=="string")for(var P=0;16>P;++P)_[P]=C.charCodeAt(k++)|C.charCodeAt(k++)<<8|C.charCodeAt(k++)<<16|C.charCodeAt(k++)<<24;else for(P=0;16>P;++P)_[P]=C[k++]|C[k++]<<8|C[k++]<<16|C[k++]<<24;C=A.g[0],k=A.g[1],P=A.g[2];var O=A.g[3],R=C+(O^k&(P^O))+_[0]+3614090360&4294967295;C=k+(R<<7&4294967295|R>>>25),R=O+(P^C&(k^P))+_[1]+3905402710&4294967295,O=C+(R<<12&4294967295|R>>>20),R=P+(k^O&(C^k))+_[2]+606105819&4294967295,P=O+(R<<17&4294967295|R>>>15),R=k+(C^P&(O^C))+_[3]+3250441966&4294967295,k=P+(R<<22&4294967295|R>>>10),R=C+(O^k&(P^O))+_[4]+4118548399&4294967295,C=k+(R<<7&4294967295|R>>>25),R=O+(P^C&(k^P))+_[5]+1200080426&4294967295,O=C+(R<<12&4294967295|R>>>20),R=P+(k^O&(C^k))+_[6]+2821735955&4294967295,P=O+(R<<17&4294967295|R>>>15),R=k+(C^P&(O^C))+_[7]+4249261313&4294967295,k=P+(R<<22&4294967295|R>>>10),R=C+(O^k&(P^O))+_[8]+1770035416&4294967295,C=k+(R<<7&4294967295|R>>>25),R=O+(P^C&(k^P))+_[9]+2336552879&4294967295,O=C+(R<<12&4294967295|R>>>20),R=P+(k^O&(C^k))+_[10]+4294925233&4294967295,P=O+(R<<17&4294967295|R>>>15),R=k+(C^P&(O^C))+_[11]+2304563134&4294967295,k=P+(R<<22&4294967295|R>>>10),R=C+(O^k&(P^O))+_[12]+1804603682&4294967295,C=k+(R<<7&4294967295|R>>>25),R=O+(P^C&(k^P))+_[13]+4254626195&4294967295,O=C+(R<<12&4294967295|R>>>20),R=P+(k^O&(C^k))+_[14]+2792965006&4294967295,P=O+(R<<17&4294967295|R>>>15),R=k+(C^P&(O^C))+_[15]+1236535329&4294967295,k=P+(R<<22&4294967295|R>>>10),R=C+(P^O&(k^P))+_[1]+4129170786&4294967295,C=k+(R<<5&4294967295|R>>>27),R=O+(k^P&(C^k))+_[6]+3225465664&4294967295,O=C+(R<<9&4294967295|R>>>23),R=P+(C^k&(O^C))+_[11]+643717713&4294967295,P=O+(R<<14&4294967295|R>>>18),R=k+(O^C&(P^O))+_[0]+3921069994&4294967295,k=P+(R<<20&4294967295|R>>>12),R=C+(P^O&(k^P))+_[5]+3593408605&4294967295,C=k+(R<<5&4294967295|R>>>27),R=O+(k^P&(C^k))+_[10]+38016083&4294967295,O=C+(R<<9&4294967295|R>>>23),R=P+(C^k&(O^C))+_[15]+3634488961&4294967295,P=O+(R<<14&4294967295|R>>>18),R=k+(O^C&(P^O))+_[4]+3889429448&4294967295,k=P+(R<<20&4294967295|R>>>12),R=C+(P^O&(k^P))+_[9]+568446438&4294967295,C=k+(R<<5&4294967295|R>>>27),R=O+(k^P&(C^k))+_[14]+3275163606&4294967295,O=C+(R<<9&4294967295|R>>>23),R=P+(C^k&(O^C))+_[3]+4107603335&4294967295,P=O+(R<<14&4294967295|R>>>18),R=k+(O^C&(P^O))+_[8]+1163531501&4294967295,k=P+(R<<20&4294967295|R>>>12),R=C+(P^O&(k^P))+_[13]+2850285829&4294967295,C=k+(R<<5&4294967295|R>>>27),R=O+(k^P&(C^k))+_[2]+4243563512&4294967295,O=C+(R<<9&4294967295|R>>>23),R=P+(C^k&(O^C))+_[7]+1735328473&4294967295,P=O+(R<<14&4294967295|R>>>18),R=k+(O^C&(P^O))+_[12]+2368359562&4294967295,k=P+(R<<20&4294967295|R>>>12),R=C+(k^P^O)+_[5]+4294588738&4294967295,C=k+(R<<4&4294967295|R>>>28),R=O+(C^k^P)+_[8]+2272392833&4294967295,O=C+(R<<11&4294967295|R>>>21),R=P+(O^C^k)+_[11]+1839030562&4294967295,P=O+(R<<16&4294967295|R>>>16),R=k+(P^O^C)+_[14]+4259657740&4294967295,k=P+(R<<23&4294967295|R>>>9),R=C+(k^P^O)+_[1]+2763975236&4294967295,C=k+(R<<4&4294967295|R>>>28),R=O+(C^k^P)+_[4]+1272893353&4294967295,O=C+(R<<11&4294967295|R>>>21),R=P+(O^C^k)+_[7]+4139469664&4294967295,P=O+(R<<16&4294967295|R>>>16),R=k+(P^O^C)+_[10]+3200236656&4294967295,k=P+(R<<23&4294967295|R>>>9),R=C+(k^P^O)+_[13]+681279174&4294967295,C=k+(R<<4&4294967295|R>>>28),R=O+(C^k^P)+_[0]+3936430074&4294967295,O=C+(R<<11&4294967295|R>>>21),R=P+(O^C^k)+_[3]+3572445317&4294967295,P=O+(R<<16&4294967295|R>>>16),R=k+(P^O^C)+_[6]+76029189&4294967295,k=P+(R<<23&4294967295|R>>>9),R=C+(k^P^O)+_[9]+3654602809&4294967295,C=k+(R<<4&4294967295|R>>>28),R=O+(C^k^P)+_[12]+3873151461&4294967295,O=C+(R<<11&4294967295|R>>>21),R=P+(O^C^k)+_[15]+530742520&4294967295,P=O+(R<<16&4294967295|R>>>16),R=k+(P^O^C)+_[2]+3299628645&4294967295,k=P+(R<<23&4294967295|R>>>9),R=C+(P^(k|~O))+_[0]+4096336452&4294967295,C=k+(R<<6&4294967295|R>>>26),R=O+(k^(C|~P))+_[7]+1126891415&4294967295,O=C+(R<<10&4294967295|R>>>22),R=P+(C^(O|~k))+_[14]+2878612391&4294967295,P=O+(R<<15&4294967295|R>>>17),R=k+(O^(P|~C))+_[5]+4237533241&4294967295,k=P+(R<<21&4294967295|R>>>11),R=C+(P^(k|~O))+_[12]+1700485571&4294967295,C=k+(R<<6&4294967295|R>>>26),R=O+(k^(C|~P))+_[3]+2399980690&4294967295,O=C+(R<<10&4294967295|R>>>22),R=P+(C^(O|~k))+_[10]+4293915773&4294967295,P=O+(R<<15&4294967295|R>>>17),R=k+(O^(P|~C))+_[1]+2240044497&4294967295,k=P+(R<<21&4294967295|R>>>11),R=C+(P^(k|~O))+_[8]+1873313359&4294967295,C=k+(R<<6&4294967295|R>>>26),R=O+(k^(C|~P))+_[15]+4264355552&4294967295,O=C+(R<<10&4294967295|R>>>22),R=P+(C^(O|~k))+_[6]+2734768916&4294967295,P=O+(R<<15&4294967295|R>>>17),R=k+(O^(P|~C))+_[13]+1309151649&4294967295,k=P+(R<<21&4294967295|R>>>11),R=C+(P^(k|~O))+_[4]+4149444226&4294967295,C=k+(R<<6&4294967295|R>>>26),R=O+(k^(C|~P))+_[11]+3174756917&4294967295,O=C+(R<<10&4294967295|R>>>22),R=P+(C^(O|~k))+_[2]+718787259&4294967295,P=O+(R<<15&4294967295|R>>>17),R=k+(O^(P|~C))+_[9]+3951481745&4294967295,A.g[0]=A.g[0]+C&4294967295,A.g[1]=A.g[1]+(P+(R<<21&4294967295|R>>>11))&4294967295,A.g[2]=A.g[2]+P&4294967295,A.g[3]=A.g[3]+O&4294967295}i.prototype.u=function(A,C){C===void 0&&(C=A.length);for(var k=C-this.blockSize,_=this.B,P=this.h,O=0;O<C;){if(P==0)for(;O<=k;)o(this,A,O),O+=this.blockSize;if(typeof A=="string"){for(;O<C;)if(_[P++]=A.charCodeAt(O++),P==this.blockSize){o(this,_),P=0;break}}else for(;O<C;)if(_[P++]=A[O++],P==this.blockSize){o(this,_),P=0;break}}this.h=P,this.o+=C},i.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var C=1;C<A.length-8;++C)A[C]=0;var k=8*this.o;for(C=A.length-8;C<A.length;++C)A[C]=k&255,k/=256;for(this.u(A),A=Array(16),C=k=0;4>C;++C)for(var _=0;32>_;_+=8)A[k++]=this.g[C]>>>_&255;return A};function a(A,C){var k=d;return Object.prototype.hasOwnProperty.call(k,A)?k[A]:k[A]=C(A)}function c(A,C){this.h=C;for(var k=[],_=!0,P=A.length-1;0<=P;P--){var O=A[P]|0;_&&O==C||(k[P]=O,_=!1)}this.g=k}var d={};function p(A){return-128<=A&&128>A?a(A,function(C){return new c([C|0],0>C?-1:0)}):new c([A|0],0>A?-1:0)}function y(A){if(isNaN(A)||!isFinite(A))return T;if(0>A)return M(y(-A));for(var C=[],k=1,_=0;A>=k;_++)C[_]=A/k|0,k*=4294967296;return new c(C,0)}function w(A,C){if(A.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(A.charAt(0)=="-")return M(w(A.substring(1),C));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=y(Math.pow(C,8)),_=T,P=0;P<A.length;P+=8){var O=Math.min(8,A.length-P),R=parseInt(A.substring(P,P+O),C);8>O?(O=y(Math.pow(C,O)),_=_.j(O).add(y(R))):(_=_.j(k),_=_.add(y(R)))}return _}var T=p(0),I=p(1),x=p(16777216);n=c.prototype,n.m=function(){if(V(this))return-M(this).m();for(var A=0,C=1,k=0;k<this.g.length;k++){var _=this.i(k);A+=(0<=_?_:4294967296+_)*C,C*=4294967296}return A},n.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(N(this))return"0";if(V(this))return"-"+M(this).toString(A);for(var C=y(Math.pow(A,6)),k=this,_="";;){var P=B(k,C).g;k=K(k,P.j(C));var O=((0<k.g.length?k.g[0]:k.h)>>>0).toString(A);if(k=P,N(k))return O+_;for(;6>O.length;)O="0"+O;_=O+_}},n.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function N(A){if(A.h!=0)return!1;for(var C=0;C<A.g.length;C++)if(A.g[C]!=0)return!1;return!0}function V(A){return A.h==-1}n.l=function(A){return A=K(this,A),V(A)?-1:N(A)?0:1};function M(A){for(var C=A.g.length,k=[],_=0;_<C;_++)k[_]=~A.g[_];return new c(k,~A.h).add(I)}n.abs=function(){return V(this)?M(this):this},n.add=function(A){for(var C=Math.max(this.g.length,A.g.length),k=[],_=0,P=0;P<=C;P++){var O=_+(this.i(P)&65535)+(A.i(P)&65535),R=(O>>>16)+(this.i(P)>>>16)+(A.i(P)>>>16);_=R>>>16,O&=65535,R&=65535,k[P]=R<<16|O}return new c(k,k[k.length-1]&-2147483648?-1:0)};function K(A,C){return A.add(M(C))}n.j=function(A){if(N(this)||N(A))return T;if(V(this))return V(A)?M(this).j(M(A)):M(M(this).j(A));if(V(A))return M(this.j(M(A)));if(0>this.l(x)&&0>A.l(x))return y(this.m()*A.m());for(var C=this.g.length+A.g.length,k=[],_=0;_<2*C;_++)k[_]=0;for(_=0;_<this.g.length;_++)for(var P=0;P<A.g.length;P++){var O=this.i(_)>>>16,R=this.i(_)&65535,Ce=A.i(P)>>>16,Ue=A.i(P)&65535;k[2*_+2*P]+=R*Ue,J(k,2*_+2*P),k[2*_+2*P+1]+=O*Ue,J(k,2*_+2*P+1),k[2*_+2*P+1]+=R*Ce,J(k,2*_+2*P+1),k[2*_+2*P+2]+=O*Ce,J(k,2*_+2*P+2)}for(_=0;_<C;_++)k[_]=k[2*_+1]<<16|k[2*_];for(_=C;_<2*C;_++)k[_]=0;return new c(k,0)};function J(A,C){for(;(A[C]&65535)!=A[C];)A[C+1]+=A[C]>>>16,A[C]&=65535,C++}function W(A,C){this.g=A,this.h=C}function B(A,C){if(N(C))throw Error("division by zero");if(N(A))return new W(T,T);if(V(A))return C=B(M(A),C),new W(M(C.g),M(C.h));if(V(C))return C=B(A,M(C)),new W(M(C.g),C.h);if(30<A.g.length){if(V(A)||V(C))throw Error("slowDivide_ only works with positive integers.");for(var k=I,_=C;0>=_.l(A);)k=U(k),_=U(_);var P=Q(k,1),O=Q(_,1);for(_=Q(_,2),k=Q(k,2);!N(_);){var R=O.add(_);0>=R.l(A)&&(P=P.add(k),O=R),_=Q(_,1),k=Q(k,1)}return C=K(A,P.j(C)),new W(P,C)}for(P=T;0<=A.l(C);){for(k=Math.max(1,Math.floor(A.m()/C.m())),_=Math.ceil(Math.log(k)/Math.LN2),_=48>=_?1:Math.pow(2,_-48),O=y(k),R=O.j(C);V(R)||0<R.l(A);)k-=_,O=y(k),R=O.j(C);N(O)&&(O=I),P=P.add(O),A=K(A,R)}return new W(P,A)}n.A=function(A){return B(this,A).h},n.and=function(A){for(var C=Math.max(this.g.length,A.g.length),k=[],_=0;_<C;_++)k[_]=this.i(_)&A.i(_);return new c(k,this.h&A.h)},n.or=function(A){for(var C=Math.max(this.g.length,A.g.length),k=[],_=0;_<C;_++)k[_]=this.i(_)|A.i(_);return new c(k,this.h|A.h)},n.xor=function(A){for(var C=Math.max(this.g.length,A.g.length),k=[],_=0;_<C;_++)k[_]=this.i(_)^A.i(_);return new c(k,this.h^A.h)};function U(A){for(var C=A.g.length+1,k=[],_=0;_<C;_++)k[_]=A.i(_)<<1|A.i(_-1)>>>31;return new c(k,A.h)}function Q(A,C){var k=C>>5;C%=32;for(var _=A.g.length-k,P=[],O=0;O<_;O++)P[O]=0<C?A.i(O+k)>>>C|A.i(O+k+1)<<32-C:A.i(O+k);return new c(P,A.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,E1=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=y,c.fromString=w,$s=c}).apply(typeof p0<"u"?p0:typeof self<"u"?self:typeof window<"u"?window:{});var Oc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var T1,Cl,S1,Wc,Cp,I1,C1,A1;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Oc=="object"&&Oc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function o(u,m){if(m)e:{var v=i;u=u.split(".");for(var S=0;S<u.length-1;S++){var z=u[S];if(!(z in v))break e;v=v[z]}u=u[u.length-1],S=v[u],m=m(S),m!=S&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function a(u,m){u instanceof String&&(u+="");var v=0,S=!1,z={next:function(){if(!S&&v<u.length){var q=v++;return{value:m(q,u[q]),done:!1}}return S=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(u){return u||function(){return a(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function w(u,m,v){return u.call.apply(u.bind,arguments)}function T(u,m,v){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,S),u.apply(m,z)}}return function(){return u.apply(m,arguments)}}function I(u,m,v){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:T,I.apply(null,arguments)}function x(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function N(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(S,z,q){for(var oe=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)oe[Qe-2]=arguments[Qe];return m.prototype[z].apply(S,oe)}}function V(u){const m=u.length;if(0<m){const v=Array(m);for(let S=0;S<m;S++)v[S]=u[S];return v}return[]}function M(u,m){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(p(S)){const z=u.length||0,q=S.length||0;u.length=z+q;for(let oe=0;oe<q;oe++)u[z+oe]=S[oe]}else u.push(S)}}class K{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){return/^[\s\xa0]*$/.test(u)}function W(){var u=d.navigator;return u&&(u=u.userAgent)?u:""}function B(u){return B[" "](u),u}B[" "]=function(){};var U=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function Q(u,m,v){for(const S in u)m.call(v,u[S],S,u)}function A(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function C(u){const m={};for(const v in u)m[v]=u[v];return m}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(u,m){let v,S;for(let z=1;z<arguments.length;z++){S=arguments[z];for(v in S)u[v]=S[v];for(let q=0;q<k.length;q++)v=k[q],Object.prototype.hasOwnProperty.call(S,v)&&(u[v]=S[v])}}function P(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function O(u){d.setTimeout(()=>{throw u},0)}function R(){var u=pe;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ce{constructor(){this.h=this.g=null}add(m,v){const S=Ue.get();S.set(m,v),this.h?this.h.next=S:this.g=S,this.h=S}}var Ue=new K(()=>new qe,u=>u.reset());class qe{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let xe,se=!1,pe=new Ce,le=()=>{const u=d.Promise.resolve(void 0);xe=()=>{u.then(F)}};var F=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(v){O(v)}var m=Ue;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}se=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ye(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var Ee=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u}();function Pe(u,m){if(ye.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(U){e:{try{B(m.nodeName);var z=!0;break e}catch{}z=!1}z||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Ne[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Pe.aa.h.call(this)}}N(Pe,ye);var Ne={2:"touch",3:"pen",4:"mouse"};Pe.prototype.h=function(){Pe.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ze="closure_listenable_"+(1e6*Math.random()|0),je=0;function Xe(u,m,v,S,z){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!S,this.ha=z,this.key=++je,this.da=this.fa=!1}function _t(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Qn(u){this.src=u,this.g={},this.h=0}Qn.prototype.add=function(u,m,v,S,z){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var oe=gr(u,m,S,z);return-1<oe?(m=u[oe],v||(m.fa=!1)):(m=new Xe(m,this.src,q,!!S,z),m.fa=v,u.push(m)),m};function _i(u,m){var v=m.type;if(v in u.g){var S=u.g[v],z=Array.prototype.indexOf.call(S,m,void 0),q;(q=0<=z)&&Array.prototype.splice.call(S,z,1),q&&(_t(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function gr(u,m,v,S){for(var z=0;z<u.length;++z){var q=u[z];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==S)return z}return-1}var Ur="closure_lm_"+(1e6*Math.random()|0),yr={};function os(u,m,v,S,z){if(Array.isArray(m)){for(var q=0;q<m.length;q++)os(u,m[q],v,S,z);return null}return v=us(v),u&&u[ze]?u.K(m,v,y(S)?!!S.capture:!!S,z):as(u,m,v,!1,S,z)}function as(u,m,v,S,z,q){if(!m)throw Error("Invalid event type");var oe=y(z)?!!z.capture:!!z,Qe=Te(u);if(Qe||(u[Ur]=Qe=new Qn(u)),v=Qe.add(m,v,S,oe,q),v.proxy)return v;if(S=zr(),v.proxy=S,S.src=u,S.listener=v,u.addEventListener)Ee||(z=oe),z===void 0&&(z=!1),u.addEventListener(m.toString(),S,z);else if(u.attachEvent)u.attachEvent(Dn(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function zr(){function u(v){return m.call(u.src,u.listener,v)}const m=ls;return u}function On(u,m,v,S,z){if(Array.isArray(m))for(var q=0;q<m.length;q++)On(u,m[q],v,S,z);else S=y(S)?!!S.capture:!!S,v=us(v),u&&u[ze]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],v=gr(q,v,S,z),-1<v&&(_t(q[v]),Array.prototype.splice.call(q,v,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=Te(u))&&(m=u.g[m.toString()],u=-1,m&&(u=gr(m,v,S,z)),(v=-1<u?m[u]:null)&&Xn(v))}function Xn(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ze])_i(m.i,u);else{var v=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(v,S,u.capture):m.detachEvent?m.detachEvent(Dn(v),S):m.addListener&&m.removeListener&&m.removeListener(S),(v=Te(m))?(_i(v,u),v.h==0&&(v.src=null,m[Ur]=null)):_t(u)}}}function Dn(u){return u in yr?yr[u]:yr[u]="on"+u}function ls(u,m){if(u.da)u=!0;else{m=new Pe(m,this);var v=u.listener,S=u.ha||u.src;u.fa&&Xn(u),u=v.call(S,m)}return u}function Te(u){return u=u[Ur],u instanceof Qn?u:null}var jr="__closure_events_fn_"+(1e9*Math.random()>>>0);function us(u){return typeof u=="function"?u:(u[jr]||(u[jr]=function(m){return u.handleEvent(m)}),u[jr])}function ht(){Y.call(this),this.i=new Qn(this),this.M=this,this.F=null}N(ht,Y),ht.prototype[ze]=!0,ht.prototype.removeEventListener=function(u,m,v,S){On(this,u,m,v,S)};function wt(u,m){var v,S=u.F;if(S)for(v=[];S;S=S.F)v.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new ye(m,u);else if(m instanceof ye)m.target=m.target||u;else{var z=m;m=new ye(S,u),_(m,z)}if(z=!0,v)for(var q=v.length-1;0<=q;q--){var oe=m.g=v[q];z=Br(oe,S,!0,m)&&z}if(oe=m.g=u,z=Br(oe,S,!0,m)&&z,z=Br(oe,S,!1,m)&&z,v)for(q=0;q<v.length;q++)oe=m.g=v[q],z=Br(oe,S,!1,m)&&z}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],S=0;S<v.length;S++)_t(v[S]);delete u.g[m],u.h--}}this.F=null},ht.prototype.K=function(u,m,v,S){return this.i.add(String(u),m,!1,v,S)},ht.prototype.L=function(u,m,v,S){return this.i.add(String(u),m,!0,v,S)};function Br(u,m,v,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var z=!0,q=0;q<m.length;++q){var oe=m[q];if(oe&&!oe.da&&oe.capture==v){var Qe=oe.listener,At=oe.ha||oe.src;oe.fa&&_i(u.i,oe),z=Qe.call(At,S)!==!1&&z}}return z&&!S.defaultPrevented}function Pa(u,m,v){if(typeof u=="function")v&&(u=I(u,v));else if(u&&typeof u.handleEvent=="function")u=I(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:d.setTimeout(u,m||0)}function wi(u){u.g=Pa(()=>{u.g=null,u.i&&(u.i=!1,wi(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class cs extends Y{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:wi(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hs(u){Y.call(this),this.h=u,this.g={}}N(hs,Y);var ba=[];function xa(u){Q(u.g,function(m,v){this.g.hasOwnProperty(v)&&Xn(m)},u),u.g={}}hs.prototype.N=function(){hs.aa.N.call(this),xa(this)},hs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Na=d.JSON.stringify,Oa=d.JSON.parse,Da=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function ds(){}ds.prototype.h=null;function ro(u){return u.h||(u.h=u.i())}function io(){}var Vn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vr(){ye.call(this,"d")}N(vr,ye);function so(){ye.call(this,"c")}N(so,ye);var _r={},Va=null;function fs(){return Va=Va||new ht}_r.La="serverreachability";function Ma(u){ye.call(this,_r.La,u)}N(Ma,ye);function $r(u){const m=fs();wt(m,new Ma(m))}_r.STAT_EVENT="statevent";function La(u,m){ye.call(this,_r.STAT_EVENT,u),this.stat=m}N(La,ye);function mt(u){const m=fs();wt(m,new La(m,u))}_r.Ma="timingevent";function oo(u,m){ye.call(this,_r.Ma,u),this.size=m}N(oo,ye);function Yn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function ps(){this.g=!0}ps.prototype.xa=function(){this.g=!1};function ms(u,m,v,S,z,q){u.info(function(){if(u.g)if(q)for(var oe="",Qe=q.split("&"),At=0;At<Qe.length;At++){var Le=Qe[At].split("=");if(1<Le.length){var xt=Le[0];Le=Le[1];var Et=xt.split("_");oe=2<=Et.length&&Et[1]=="type"?oe+(xt+"="+Le+"&"):oe+(xt+"=redacted&")}}else oe=null;else oe=q;return"XMLHTTP REQ ("+S+") [attempt "+z+"]: "+m+`
`+v+`
`+oe})}function ao(u,m,v,S,z,q,oe){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+z+"]: "+m+`
`+v+`
`+q+" "+oe})}function Jn(u,m,v,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+dd(u,v)+(S?" "+S:"")})}function Fa(u,m){u.info(function(){return"TIMEOUT: "+m})}ps.prototype.info=function(){};function dd(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var S=v[u];if(!(2>S.length)){var z=S[1];if(Array.isArray(z)&&!(1>z.length)){var q=z[0];if(q!="noop"&&q!="stop"&&q!="close")for(var oe=1;oe<z.length;oe++)z[oe]=""}}}}return Na(v)}catch{return m}}var lo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},pu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zn;function gs(){}N(gs,ds),gs.prototype.g=function(){return new XMLHttpRequest},gs.prototype.i=function(){return{}},Zn=new gs;function er(u,m,v,S){this.j=u,this.i=m,this.l=v,this.R=S||1,this.U=new hs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new mu}function mu(){this.i=null,this.g="",this.h=!1}var Ua={},uo={};function co(u,m,v){u.L=1,u.v=Ci(_n(m)),u.m=v,u.P=!0,za(u,null)}function za(u,m){u.F=Date.now(),et(u),u.A=_n(u.v);var v=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),Ri(v.i,"t",S),u.C=0,v=u.j.J,u.h=new mu,u.g=Ou(u.j,v?m:null,!u.m),0<u.O&&(u.M=new cs(I(u.Y,u,u.g),u.O)),m=u.U,v=u.g,S=u.ca;var z="readystatechange";Array.isArray(z)||(z&&(ba[0]=z.toString()),z=ba);for(var q=0;q<z.length;q++){var oe=os(v,z[q],S||m.handleEvent,!1,m.h||m);if(!oe)break;m.g[oe.key]=oe}m=u.H?C(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),$r(),ms(u.i,u.u,u.A,u.l,u.R,u.m)}er.prototype.ca=function(u){u=u.target;const m=this.M;m&&un(u)==3?m.j():this.Y(u)},er.prototype.Y=function(u){try{if(u==this.g)e:{const Et=un(this.g);var m=this.g.Ba();const Fn=this.g.Z();if(!(3>Et)&&(Et!=3||this.g&&(this.h.h||this.g.oa()||qa(this.g)))){this.J||Et!=4||m==7||(m==8||0>=Fn?$r(3):$r(2)),ys(this);var v=this.g.Z();this.X=v;t:if(gu(this)){var S=qa(this.g);u="";var z=S.length,q=un(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mn(this),Ei(this);var oe="";break t}this.h.i=new d.TextDecoder}for(m=0;m<z;m++)this.h.h=!0,u+=this.h.i.decode(S[m],{stream:!(q&&m==z-1)});S.length=0,this.h.g+=u,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=v==200,ao(this.i,this.u,this.A,this.l,this.R,Et,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Qe,At=this.g;if((Qe=At.g?At.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(Qe)){var Le=Qe;break t}}Le=null}if(v=Le)Jn(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ja(this,v);else{this.o=!1,this.s=3,mt(12),Mn(this),Ei(this);break e}}if(this.P){v=!0;let En;for(;!this.J&&this.C<oe.length;)if(En=fd(this,oe),En==uo){Et==4&&(this.s=4,mt(14),v=!1),Jn(this.i,this.l,null,"[Incomplete Response]");break}else if(En==Ua){this.s=4,mt(15),Jn(this.i,this.l,oe,"[Invalid Chunk]"),v=!1;break}else Jn(this.i,this.l,En,null),ja(this,En);if(gu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||oe.length!=0||this.h.h||(this.s=1,mt(16),v=!1),this.o=this.o&&v,!v)Jn(this.i,this.l,oe,"[Invalid Chunked Response]"),Mn(this),Ei(this);else if(0<oe.length&&!this.W){this.W=!0;var xt=this.j;xt.g==this&&xt.ba&&!xt.M&&(xt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),Ga(xt),xt.M=!0,mt(11))}}else Jn(this.i,this.l,oe,null),ja(this,oe);Et==4&&Mn(this),this.o&&!this.J&&(Et==4?To(this.j,this):(this.o=!1,et(this)))}else yo(this.g),v==400&&0<oe.indexOf("Unknown SID")?(this.s=3,mt(12)):(this.s=0,mt(13)),Mn(this),Ei(this)}}}catch{}finally{}};function gu(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function fd(u,m){var v=u.C,S=m.indexOf(`
`,v);return S==-1?uo:(v=Number(m.substring(v,S)),isNaN(v)?Ua:(S+=1,S+v>m.length?uo:(m=m.slice(S,S+v),u.C=S+v,m)))}er.prototype.cancel=function(){this.J=!0,Mn(this)};function et(u){u.S=Date.now()+u.I,yu(u,u.I)}function yu(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Yn(I(u.ba,u),m)}function ys(u){u.B&&(d.clearTimeout(u.B),u.B=null)}er.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Fa(this.i,this.A),this.L!=2&&($r(),mt(17)),Mn(this),this.s=2,Ei(this)):yu(this,this.S-u)};function Ei(u){u.j.G==0||u.J||To(u.j,u)}function Mn(u){ys(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,xa(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function ja(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||rn(v.h,u))){if(!u.K&&rn(v.h,u)&&v.G==3){try{var S=v.Da.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var z=S;if(z[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)Eo(v),sr(v);else break e;wo(v),mt(18)}}else v.za=z[1],0<v.za-v.T&&37500>z[2]&&v.F&&v.v==0&&!v.C&&(v.C=Yn(I(v.Za,v),6e3));if(1>=_u(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Gr(v,11)}else if((u.K||v.g==u)&&Eo(v),!J(m))for(z=v.Da.g.parse(m),m=0;m<z.length;m++){let Le=z[m];if(v.T=Le[0],Le=Le[1],v.G==2)if(Le[0]=="c"){v.K=Le[1],v.ia=Le[2];const xt=Le[3];xt!=null&&(v.la=xt,v.j.info("VER="+v.la));const Et=Le[4];Et!=null&&(v.Aa=Et,v.j.info("SVER="+v.Aa));const Fn=Le[5];Fn!=null&&typeof Fn=="number"&&0<Fn&&(S=1.5*Fn,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const En=u.g;if(En){const Is=En.g?En.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Is){var q=S.h;q.g||Is.indexOf("spdy")==-1&&Is.indexOf("quic")==-1&&Is.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Ba(q,q.h),q.h=null))}if(S.D){const Io=En.g?En.g.getResponseHeader("X-HTTP-Session-Id"):null;Io&&(S.ya=Io,Ye(S.I,S.D,Io))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var oe=u;if(S.qa=Nu(S,S.J?S.ia:null,S.W),oe.K){wu(S.h,oe);var Qe=oe,At=S.L;At&&(Qe.I=At),Qe.B&&(ys(Qe),et(Qe)),S.g=oe}else Ss(S);0<v.i.length&&Sr(v)}else Le[0]!="stop"&&Le[0]!="close"||Gr(v,7);else v.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?Gr(v,7):Lt(v):Le[0]!="noop"&&v.l&&v.l.ta(Le),v.v=0)}}$r(4)}catch{}}var vu=class{constructor(u,m){this.g=u,this.map=m}};function vs(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function vn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function _u(u){return u.h?1:u.g?u.g.size:0}function rn(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ba(u,m){u.g?u.g.add(m):u.h=m}function wu(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}vs.prototype.cancel=function(){if(this.i=Eu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Eu(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return V(u.i)}function ho(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],v=u.length,S=0;S<v;S++)m.push(u[S]);return m}m=[],v=0;for(S in u)m[v++]=u[S];return m}function fo(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const S in u)m[v++]=S;return m}}}function Ti(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=fo(u),S=ho(u),z=S.length,q=0;q<z;q++)m.call(void 0,S[q],v&&v[q],u)}var _s=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pd(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var S=u[v].indexOf("="),z=null;if(0<=S){var q=u[v].substring(0,S);z=u[v].substring(S+1)}else q=u[v];m(q,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Wr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Wr){this.h=u.h,ws(this,u.j),this.o=u.o,this.g=u.g,Si(this,u.s),this.l=u.l;var m=u.i,v=new wr;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),Ii(this,v),this.m=u.m}else u&&(m=String(u).match(_s))?(this.h=!1,ws(this,m[1]||"",!0),this.o=Ve(m[2]||""),this.g=Ve(m[3]||"",!0),Si(this,m[4]),this.l=Ve(m[5]||"",!0),Ii(this,m[6]||"",!0),this.m=Ve(m[7]||"")):(this.h=!1,this.i=new wr(null,this.h))}Wr.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Ai(m,po,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ai(m,po,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Ai(v,v.charAt(0)=="/"?Iu:Su,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Ai(v,$a)),u.join("")};function _n(u){return new Wr(u)}function ws(u,m,v){u.j=v?Ve(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Si(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Ii(u,m,v){m instanceof wr?(u.i=m,Er(u.i,u.h)):(v||(m=Ai(m,Cu)),u.i=new wr(m,u.h))}function Ye(u,m,v){u.i.set(m,v)}function Ci(u){return Ye(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ve(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ai(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,Tu),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Tu(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var po=/[#\/\?@]/g,Su=/[#\?:]/g,Iu=/[#\?]/g,Cu=/[#\?@]/g,$a=/#/g;function wr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Mt(u){u.g||(u.g=new Map,u.h=0,u.i&&pd(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}n=wr.prototype,n.add=function(u,m){Mt(this),this.i=null,u=Ln(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function tr(u,m){Mt(u),m=Ln(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function nr(u,m){return Mt(u),m=Ln(u,m),u.g.has(m)}n.forEach=function(u,m){Mt(this),this.g.forEach(function(v,S){v.forEach(function(z){u.call(m,z,S,this)},this)},this)},n.na=function(){Mt(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let S=0;S<m.length;S++){const z=u[S];for(let q=0;q<z.length;q++)v.push(m[S])}return v},n.V=function(u){Mt(this);let m=[];if(typeof u=="string")nr(this,u)&&(m=m.concat(this.g.get(Ln(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},n.set=function(u,m){return Mt(this),this.i=null,u=Ln(this,u),nr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Ri(u,m,v){tr(u,m),0<v.length&&(u.i=null,u.g.set(Ln(u,m),V(v)),u.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var S=m[v];const q=encodeURIComponent(String(S)),oe=this.V(S);for(S=0;S<oe.length;S++){var z=q;oe[S]!==""&&(z+="="+encodeURIComponent(String(oe[S]))),u.push(z)}}return this.i=u.join("&")};function Ln(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Er(u,m){m&&!u.j&&(Mt(u),u.i=null,u.g.forEach(function(v,S){var z=S.toLowerCase();S!=z&&(tr(this,S),Ri(this,z,v))},u)),u.j=m}function md(u,m){const v=new ps;if(d.Image){const S=new Image;S.onload=x(ln,v,"TestLoadImage: loaded",!0,m,S),S.onerror=x(ln,v,"TestLoadImage: error",!1,m,S),S.onabort=x(ln,v,"TestLoadImage: abort",!1,m,S),S.ontimeout=x(ln,v,"TestLoadImage: timeout",!1,m,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function Au(u,m){const v=new ps,S=new AbortController,z=setTimeout(()=>{S.abort(),ln(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then(q=>{clearTimeout(z),q.ok?ln(v,"TestPingServer: ok",!0,m):ln(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),ln(v,"TestPingServer: error",!1,m)})}function ln(u,m,v,S,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),S(v)}catch{}}function gd(){this.g=new Da}function Ru(u,m,v){const S=v||"";try{Ti(u,function(z,q){let oe=z;y(z)&&(oe=Na(z)),m.push(S+q+"="+encodeURIComponent(oe))})}catch(z){throw m.push(S+"type="+encodeURIComponent("_badmap")),z}}function Hr(u){this.l=u.Ub||null,this.j=u.eb||!1}N(Hr,ds),Hr.prototype.g=function(){return new Es(this.l,this.j)},Hr.prototype.i=function(u){return function(){return u}}({});function Es(u,m){ht.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(Es,ht),n=Es.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,ir(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||d).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,rr(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ir(this)),this.g&&(this.readyState=3,ir(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ku(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function ku(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?rr(this):ir(this),this.readyState==3&&ku(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,rr(this))},n.Qa=function(u){this.g&&(this.response=u,rr(this))},n.ga=function(){this.g&&rr(this)};function rr(u){u.readyState=4,u.l=null,u.j=null,u.v=null,ir(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ir(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Es.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function qr(u){let m="";return Q(u,function(v,S){m+=S,m+=":",m+=v,m+=`\r
`}),m}function ki(u,m,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=qr(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):Ye(u,m,v))}function st(u){ht.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(st,ht);var yd=/^https?$/i,Wa=["POST","PUT"];n=st.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zn.g(),this.v=this.o?ro(this.o):ro(Zn),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Ts(this,q);return}if(u=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var z in S)v.set(z,S[z]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const q of S.keys())v.set(q,S.get(q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),z=d.FormData&&u instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Wa,m,void 0))||S||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,oe]of v)this.g.setRequestHeader(q,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{go(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){Ts(this,q)}};function Ts(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,mo(u),wn(u)}function mo(u){u.A||(u.A=!0,wt(u,"complete"),wt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,wt(this,"complete"),wt(this,"abort"),wn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wn(this,!0)),st.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ha(this):this.bb())},n.bb=function(){Ha(this)};function Ha(u){if(u.h&&typeof c<"u"&&(!u.v[1]||un(u)!=4||u.Z()!=2)){if(u.u&&un(u)==4)Pa(u.Ea,0,u);else if(wt(u,"readystatechange"),un(u)==4){u.h=!1;try{const oe=u.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var S;if(S=oe===0){var z=String(u.D).match(_s)[1]||null;!z&&d.self&&d.self.location&&(z=d.self.location.protocol.slice(0,-1)),S=!yd.test(z?z.toLowerCase():"")}v=S}if(v)wt(u,"complete"),wt(u,"success");else{u.m=6;try{var q=2<un(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",mo(u)}}finally{wn(u)}}}}function wn(u,m){if(u.g){go(u);const v=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||wt(u,"ready");try{v.onreadystatechange=S}catch{}}}function go(u){u.I&&(d.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function un(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<un(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Oa(m)}};function qa(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function yo(u){const m={};u=(u.g&&2<=un(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(J(u[S]))continue;var v=P(u[S]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[z]||[];m[z]=q,q.push(v)}A(m,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Tr(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ka(u){this.Aa=0,this.i=[],this.j=new ps,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Tr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Tr("baseRetryDelayMs",5e3,u),this.cb=Tr("retryDelaySeedMs",1e4,u),this.Wa=Tr("forwardChannelMaxRetries",2,u),this.wa=Tr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new vs(u&&u.concurrentRequestLimit),this.Da=new gd,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ka.prototype,n.la=8,n.G=1,n.connect=function(u,m,v,S){mt(0),this.W=u,this.H=m||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=Nu(this,null,this.W),Sr(this)};function Lt(u){if(vo(u),u.G==3){var m=u.U++,v=_n(u.I);if(Ye(v,"SID",u.K),Ye(v,"RID",m),Ye(v,"TYPE","terminate"),Kr(u,v),m=new er(u,u.j,m),m.L=2,m.v=Ci(_n(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.v,v=!0),v||(m.g=Ou(m.j,null),m.g.ea(m.v)),m.F=Date.now(),et(m)}xu(u)}function sr(u){u.g&&(Ga(u),u.g.cancel(),u.g=null)}function vo(u){sr(u),u.u&&(d.clearTimeout(u.u),u.u=null),Eo(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&d.clearTimeout(u.s),u.s=null)}function Sr(u){if(!vn(u.h)&&!u.s){u.s=!0;var m=u.Ga;xe||le(),se||(xe(),se=!0),pe.add(m,u),u.B=0}}function vd(u,m){return _u(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Yn(I(u.Ga,u,m),bu(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const z=new er(this,this.j,u);let q=this.o;if(this.S&&(q?(q=C(q),_(q,this.S)):q=this.S),this.m!==null||this.O||(z.H=q,q=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(m+=S,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Pi(this,z,m),v=_n(this.I),Ye(v,"RID",u),Ye(v,"CVER",22),this.D&&Ye(v,"X-HTTP-Session-Id",this.D),Kr(this,v),q&&(this.O?m="headers="+encodeURIComponent(String(qr(q)))+"&"+m:this.m&&ki(v,this.m,q)),Ba(this.h,z),this.Ua&&Ye(v,"TYPE","init"),this.P?(Ye(v,"$req",m),Ye(v,"SID","null"),z.T=!0,co(z,v,null)):co(z,v,m),this.G=2}}else this.G==3&&(u?_o(this,u):this.i.length==0||vn(this.h)||_o(this))};function _o(u,m){var v;m?v=m.l:v=u.U++;const S=_n(u.I);Ye(S,"SID",u.K),Ye(S,"RID",v),Ye(S,"AID",u.T),Kr(u,S),u.m&&u.o&&ki(S,u.m,u.o),v=new er(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Pi(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ba(u.h,v),co(v,S,m)}function Kr(u,m){u.H&&Q(u.H,function(v,S){Ye(m,S,v)}),u.l&&Ti({},function(v,S){Ye(m,S,v)})}function Pi(u,m,v){v=Math.min(u.i.length,v);var S=u.l?I(u.l.Na,u.l,u):null;e:{var z=u.i;let q=-1;for(;;){const oe=["count="+v];q==-1?0<v?(q=z[0].g,oe.push("ofs="+q)):q=0:oe.push("ofs="+q);let Qe=!0;for(let At=0;At<v;At++){let Le=z[At].g;const xt=z[At].map;if(Le-=q,0>Le)q=Math.max(0,z[At].g-100),Qe=!1;else try{Ru(xt,oe,"req"+Le+"_")}catch{S&&S(xt)}}if(Qe){S=oe.join("&");break e}}}return u=u.i.splice(0,v),m.D=u,S}function Ss(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;xe||le(),se||(xe(),se=!0),pe.add(m,u),u.v=0}}function wo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Yn(I(u.Fa,u),bu(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,Pu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Yn(I(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,mt(10),sr(this),Pu(this))};function Ga(u){u.A!=null&&(d.clearTimeout(u.A),u.A=null)}function Pu(u){u.g=new er(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=_n(u.qa);Ye(m,"RID","rpc"),Ye(m,"SID",u.K),Ye(m,"AID",u.T),Ye(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ye(m,"TO",u.ja),Ye(m,"TYPE","xmlhttp"),Kr(u,m),u.m&&u.o&&ki(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=Ci(_n(m)),v.m=null,v.P=!0,za(v,u)}n.Za=function(){this.C!=null&&(this.C=null,sr(this),wo(this),mt(19))};function Eo(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function To(u,m){var v=null;if(u.g==m){Eo(u),Ga(u),u.g=null;var S=2}else if(rn(u.h,m))v=m.D,wu(u.h,m),S=1;else return;if(u.G!=0){if(m.o)if(S==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var z=u.B;S=fs(),wt(S,new oo(S,v)),Sr(u)}else Ss(u);else if(z=m.s,z==3||z==0&&0<m.X||!(S==1&&vd(u,m)||S==2&&wo(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),z){case 1:Gr(u,5);break;case 4:Gr(u,10);break;case 3:Gr(u,6);break;default:Gr(u,2)}}}function bu(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function Gr(u,m){if(u.j.info("Error code "+m),m==2){var v=I(u.fb,u),S=u.Xa;const z=!S;S=new Wr(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ws(S,"https"),Ci(S),z?md(S.toString(),v):Au(S.toString(),v)}else mt(2);u.G=0,u.l&&u.l.sa(m),xu(u),vo(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function xu(u){if(u.G=0,u.ka=[],u.l){const m=Eu(u.h);(m.length!=0||u.i.length!=0)&&(M(u.ka,m),M(u.ka,u.i),u.h.i.length=0,V(u.i),u.i.length=0),u.l.ra()}}function Nu(u,m,v){var S=v instanceof Wr?_n(v):new Wr(v);if(S.g!="")m&&(S.g=m+"."+S.g),Si(S,S.s);else{var z=d.location;S=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;var q=new Wr(null);S&&ws(q,S),m&&(q.g=m),z&&Si(q,z),v&&(q.l=v),S=q}return v=u.D,m=u.ya,v&&m&&Ye(S,v,m),Ye(S,"VER",u.la),Kr(u,S),S}function Ou(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new st(new Hr({eb:v})):new st(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qa(){}n=Qa.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function So(){}So.prototype.g=function(u,m){return new sn(u,m)};function sn(u,m){ht.call(this),this.g=new Ka(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!J(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!J(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ir(this)}N(sn,ht),sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Lt(this.g)},sn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=Na(u),u=v);m.i.push(new vu(m.Ya++,u)),m.G==3&&Sr(m)},sn.prototype.N=function(){this.g.l=null,delete this.j,Lt(this.g),delete this.g,sn.aa.N.call(this)};function Du(u){vr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}N(Du,vr);function Vu(){so.call(this),this.status=1}N(Vu,so);function Ir(u){this.g=u}N(Ir,Qa),Ir.prototype.ua=function(){wt(this.g,"a")},Ir.prototype.ta=function(u){wt(this.g,new Du(u))},Ir.prototype.sa=function(u){wt(this.g,new Vu)},Ir.prototype.ra=function(){wt(this.g,"b")},So.prototype.createWebChannel=So.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,A1=function(){return new So},C1=function(){return fs()},I1=_r,Cp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},lo.NO_ERROR=0,lo.TIMEOUT=8,lo.HTTP_ERROR=6,Wc=lo,pu.COMPLETE="complete",S1=pu,io.EventType=Vn,Vn.OPEN="a",Vn.CLOSE="b",Vn.ERROR="c",Vn.MESSAGE="d",ht.prototype.listen=ht.prototype.K,Cl=io,st.prototype.listenOnce=st.prototype.L,st.prototype.getLastError=st.prototype.Ka,st.prototype.getLastErrorCode=st.prototype.Ba,st.prototype.getStatus=st.prototype.Z,st.prototype.getResponseJson=st.prototype.Oa,st.prototype.getResponseText=st.prototype.oa,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Ha,T1=st}).apply(typeof Oc<"u"?Oc:typeof self<"u"?self:typeof window<"u"?window:{});const m0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sa="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs=new fm("@firebase/firestore");function Jo(){return Gs.logLevel}function ce(n,...e){if(Gs.logLevel<=Oe.DEBUG){const t=e.map(gm);Gs.debug(`Firestore (${Sa}): ${n}`,...t)}}function pi(n,...e){if(Gs.logLevel<=Oe.ERROR){const t=e.map(gm);Gs.error(`Firestore (${Sa}): ${n}`,...t)}}function da(n,...e){if(Gs.logLevel<=Oe.WARN){const t=e.map(gm);Gs.warn(`Firestore (${Sa}): ${n}`,...t)}}function gm(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(n="Unexpected state"){const e=`FIRESTORE (${Sa}) INTERNAL ASSERTION FAILED: `+n;throw pi(e),new Error(e)}function Ge(n,e){n||Ie()}function ke(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends vi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Jt.UNAUTHENTICATED))}shutdown(){}}class EP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class TP{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ge(this.o===void 0);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let a=new Ws;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ws,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const p=a;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ws)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ge(typeof i.accessToken=="string"),new R1(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string"),new Jt(e)}}class SP{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class IP{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new SP(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class CP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AP{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Ge(this.o===void 0);const i=a=>{a.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.R;return this.R=a.token,ce("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const o=a=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ge(typeof t.token=="string"),this.R=t.token,new CP(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RP(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=RP(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<t&&(i+=e.charAt(o[a]%e.length))}return i}}function Me(n,e){return n<e?-1:n>e?1:0}function fa(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{static now(){return Pt.fromMillis(Date.now())}static fromDate(e){return Pt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Pt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new fe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new Pt(0,0))}static max(){return new Re(new Pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ie(),i===void 0?i=e.length-t:i>e.length-t&&Ie(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Bl.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Bl?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const a=e.get(o),c=t.get(o);if(a<c)return-1;if(a>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class it extends Bl{construct(e,t,i){return new it(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new fe(ee.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new it(t)}static emptyPath(){return new it([])}}const kP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends Bl{construct(e,t,i){return new Wt(e,t,i)}static isValidIdentifier(e){return kP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Wt(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const a=()=>{if(i.length===0)throw new fe(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new fe(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new fe(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(i+=d,o++):(a(),o++)}if(a(),c)throw new fe(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(t)}static emptyPath(){return new Wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(it.fromString(e))}static fromName(e){return new ve(it.fromString(e).popFirst(5))}static empty(){return new ve(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return it.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new it(e.slice()))}}function PP(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(i===1e9?new Pt(t+1,0):new Pt(t,i));return new ts(o,ve.empty(),e)}function bP(n){return new ts(n.readTime,n.key,-1)}class ts{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ts(Re.min(),ve.empty(),-1)}static max(){return new ts(Re.max(),ve.empty(),-1)}}function xP(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(n.documentKey,e.documentKey),t!==0?t:Me(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ia(n){if(n.code!==ee.FAILED_PRECONDITION||n.message!==NP)throw n;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Z((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Z?t:Z.resolve(t)}catch(t){return Z.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.reject(t)}static resolve(e){return new Z((t,i)=>{t(e)})}static reject(e){return new Z((t,i)=>{i(e)})}static waitFor(e){return new Z((t,i)=>{let o=0,a=0,c=!1;e.forEach(d=>{++o,d.next(()=>{++a,c&&a===o&&t()},p=>i(p))}),c=!0,a===o&&t()})}static or(e){let t=Z.resolve(!1);for(const i of e)t=t.next(o=>o?Z.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,a)=>{i.push(t.call(this,o,a))}),this.waitFor(i)}static mapArray(e,t){return new Z((i,o)=>{const a=e.length,c=new Array(a);let d=0;for(let p=0;p<a;p++){const y=p;t(e[y]).next(w=>{c[y]=w,++d,d===a&&i(c)},w=>o(w))}})}static doWhile(e,t){return new Z((i,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):i()};a()})}}function DP(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ca(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Wh.oe=-1;function Hh(n){return n==null}function ch(n){return n===0&&1/n==-1/0}function VP(n){return typeof n=="number"&&Number.isInteger(n)&&!ch(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MP(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=g0(e)),e=LP(n.get(t),e);return g0(e)}function LP(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case"":t+="";break;default:t+=a}}return t}function g0(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Js(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function P1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,t){this.comparator=e,this.root=t||jt.EMPTY}insert(e,t){return new ct(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,jt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dc(this.root,e,this.comparator,!0)}}class Dc{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jt{constructor(e,t,i,o,a){this.key=e,this.value=t,this.color=i??jt.RED,this.left=o??jt.EMPTY,this.right=a??jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,a){return new jt(e??this.key,t??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,i),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return jt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ie();const e=this.left.check();if(e!==this.right.check())throw Ie();return e+(this.isRed()?0:1)}}jt.EMPTY=null,jt.RED=!0,jt.BLACK=!1;jt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie()}get value(){throw Ie()}get color(){throw Ie()}get left(){throw Ie()}get right(){throw Ie()}copy(e,t,i,o,a){return this}insert(e,t,i){return new jt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new v0(this.data.getIterator())}getIteratorFrom(e){return new v0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof bt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new bt(this.comparator);return t.data=e,t}}class v0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new fr([])}unionWith(e){let t=new bt(Wt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new fr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return fa(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new b1("Invalid base64 string: "+a):a}}(e);return new Ht(t)}static fromUint8Array(e){const t=function(o){let a="";for(let c=0;c<o.length;++c)a+=String.fromCharCode(o[c]);return a}(e);return new Ht(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const FP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ns(n){if(Ge(!!n),typeof n=="string"){let e=0;const t=FP.exec(n);if(Ge(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:yt(n.seconds),nanos:yt(n.nanos)}}function yt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function rs(n){return typeof n=="string"?Ht.fromBase64String(n):Ht.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function qh(n){const e=n.mapValue.fields.__previous_value__;return ym(e)?qh(e):e}function $l(n){const e=ns(n.mapValue.fields.__local_write_time__.timestampValue);return new Pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e,t,i,o,a,c,d,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=y}}class Wl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Wl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Wl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function is(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ym(n)?4:jP(n)?9007199254740991:zP(n)?10:11:Ie()}function Mr(n,e){if(n===e)return!0;const t=is(n);if(t!==is(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return $l(n).isEqual($l(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const c=ns(o.timestampValue),d=ns(a.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return rs(o.bytesValue).isEqual(rs(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return yt(o.geoPointValue.latitude)===yt(a.geoPointValue.latitude)&&yt(o.geoPointValue.longitude)===yt(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return yt(o.integerValue)===yt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const c=yt(o.doubleValue),d=yt(a.doubleValue);return c===d?ch(c)===ch(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return fa(n.arrayValue.values||[],e.arrayValue.values||[],Mr);case 10:case 11:return function(o,a){const c=o.mapValue.fields||{},d=a.mapValue.fields||{};if(y0(c)!==y0(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!Mr(c[p],d[p])))return!1;return!0}(n,e);default:return Ie()}}function Hl(n,e){return(n.values||[]).find(t=>Mr(t,e))!==void 0}function pa(n,e){if(n===e)return 0;const t=is(n),i=is(e);if(t!==i)return Me(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Me(n.booleanValue,e.booleanValue);case 2:return function(a,c){const d=yt(a.integerValue||a.doubleValue),p=yt(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,e);case 3:return _0(n.timestampValue,e.timestampValue);case 4:return _0($l(n),$l(e));case 5:return Me(n.stringValue,e.stringValue);case 6:return function(a,c){const d=rs(a),p=rs(c);return d.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(a,c){const d=a.split("/"),p=c.split("/");for(let y=0;y<d.length&&y<p.length;y++){const w=Me(d[y],p[y]);if(w!==0)return w}return Me(d.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,c){const d=Me(yt(a.latitude),yt(c.latitude));return d!==0?d:Me(yt(a.longitude),yt(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return w0(n.arrayValue,e.arrayValue);case 10:return function(a,c){var d,p,y,w;const T=a.fields||{},I=c.fields||{},x=(d=T.value)===null||d===void 0?void 0:d.arrayValue,N=(p=I.value)===null||p===void 0?void 0:p.arrayValue,V=Me(((y=x==null?void 0:x.values)===null||y===void 0?void 0:y.length)||0,((w=N==null?void 0:N.values)===null||w===void 0?void 0:w.length)||0);return V!==0?V:w0(x,N)}(n.mapValue,e.mapValue);case 11:return function(a,c){if(a===Vc.mapValue&&c===Vc.mapValue)return 0;if(a===Vc.mapValue)return 1;if(c===Vc.mapValue)return-1;const d=a.fields||{},p=Object.keys(d),y=c.fields||{},w=Object.keys(y);p.sort(),w.sort();for(let T=0;T<p.length&&T<w.length;++T){const I=Me(p[T],w[T]);if(I!==0)return I;const x=pa(d[p[T]],y[w[T]]);if(x!==0)return x}return Me(p.length,w.length)}(n.mapValue,e.mapValue);default:throw Ie()}}function _0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Me(n,e);const t=ns(n),i=ns(e),o=Me(t.seconds,i.seconds);return o!==0?o:Me(t.nanos,i.nanos)}function w0(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const a=pa(t[o],i[o]);if(a)return a}return Me(t.length,i.length)}function ma(n){return Ap(n)}function Ap(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=ns(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return rs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ve.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const a of t.values||[])o?o=!1:i+=",",i+=Ap(a);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const c of i)a?a=!1:o+=",",o+=`${c}:${Ap(t.fields[c])}`;return o+"}"}(n.mapValue):Ie()}function Hc(n){switch(is(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=qh(n);return e?16+Hc(e):16;case 5:return 2*n.stringValue.length;case 6:return rs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,a)=>o+Hc(a),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return Js(i.fields,(a,c)=>{o+=a.length+Hc(c)}),o}(n.mapValue);default:throw Ie()}}function E0(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Rp(n){return!!n&&"integerValue"in n}function vm(n){return!!n&&"arrayValue"in n}function T0(n){return!!n&&"nullValue"in n}function S0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function qc(n){return!!n&&"mapValue"in n}function zP(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function xl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Js(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=xl(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=xl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function jP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.value=e}static empty(){return new Kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!qc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=xl(t)}setAll(e){let t=Wt.emptyPath(),i={},o=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=d.popLast()}c?i[d.lastSegment()]=xl(c):o.push(d.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,o)}delete(e){const t=this.field(e.popLast());qc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Mr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];qc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Js(t,(o,a)=>e[o]=a);for(const o of i)delete e[o]}clone(){return new Kn(xl(this.value))}}function x1(n){const e=[];return Js(n.fields,(t,i)=>{const o=new Wt([t]);if(qc(i)){const a=x1(i.mapValue).fields;if(a.length===0)e.push(o);else for(const c of a)e.push(o.child(c))}else e.push(o)}),new fr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,t,i,o,a,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=a,this.data=c,this.documentState=d}static newInvalidDocument(e){return new en(e,0,Re.min(),Re.min(),Re.min(),Kn.empty(),0)}static newFoundDocument(e,t,i,o){return new en(e,1,t,Re.min(),i,o,0)}static newNoDocument(e,t){return new en(e,2,t,Re.min(),Re.min(),Kn.empty(),0)}static newUnknownDocument(e,t){return new en(e,3,t,Re.min(),Re.min(),Kn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,t){this.position=e,this.inclusive=t}}function I0(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const a=e[o],c=n.position[o];if(a.field.isKeyField()?i=ve.comparator(ve.fromName(c.referenceValue),t.key):i=pa(c,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function C0(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Mr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,t="asc"){this.field=e,this.dir=t}}function BP(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{}class Ct extends N1{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new WP(e,t,i):t==="array-contains"?new KP(e,i):t==="in"?new GP(e,i):t==="not-in"?new QP(e,i):t==="array-contains-any"?new XP(e,i):new Ct(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new HP(e,i):new qP(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(pa(t,this.value)):t!==null&&is(this.value)===is(t)&&this.matchesComparison(pa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mr extends N1{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new mr(e,t)}matches(e){return O1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function O1(n){return n.op==="and"}function D1(n){return $P(n)&&O1(n)}function $P(n){for(const e of n.filters)if(e instanceof mr)return!1;return!0}function kp(n){if(n instanceof Ct)return n.field.canonicalString()+n.op.toString()+ma(n.value);if(D1(n))return n.filters.map(e=>kp(e)).join(",");{const e=n.filters.map(t=>kp(t)).join(",");return`${n.op}(${e})`}}function V1(n,e){return n instanceof Ct?function(i,o){return o instanceof Ct&&i.op===o.op&&i.field.isEqual(o.field)&&Mr(i.value,o.value)}(n,e):n instanceof mr?function(i,o){return o instanceof mr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((a,c,d)=>a&&V1(c,o.filters[d]),!0):!1}(n,e):void Ie()}function M1(n){return n instanceof Ct?function(t){return`${t.field.canonicalString()} ${t.op} ${ma(t.value)}`}(n):n instanceof mr?function(t){return t.op.toString()+" {"+t.getFilters().map(M1).join(" ,")+"}"}(n):"Filter"}class WP extends Ct{constructor(e,t,i){super(e,t,i),this.key=ve.fromName(i.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class HP extends Ct{constructor(e,t){super(e,"in",t),this.keys=L1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class qP extends Ct{constructor(e,t){super(e,"not-in",t),this.keys=L1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function L1(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>ve.fromName(i.referenceValue))}class KP extends Ct{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return vm(t)&&Hl(t.arrayValue,this.value)}}class GP extends Ct{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Hl(this.value.arrayValue,t)}}class QP extends Ct{constructor(e,t){super(e,"not-in",t)}matches(e){if(Hl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Hl(this.value.arrayValue,t)}}class XP extends Ct{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!vm(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Hl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(e,t=null,i=[],o=[],a=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=c,this.endAt=d,this.ue=null}}function A0(n,e=null,t=[],i=[],o=null,a=null,c=null){return new YP(n,e,t,i,o,a,c)}function _m(n){const e=ke(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>kp(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),Hh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>ma(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>ma(i)).join(",")),e.ue=t}return e.ue}function wm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!BP(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!V1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!C0(n.startAt,e.startAt)&&C0(n.endAt,e.endAt)}function Pp(n){return ve.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,t=null,i=[],o=[],a=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=c,this.startAt=d,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function JP(n,e,t,i,o,a,c,d){return new Aa(n,e,t,i,o,a,c,d)}function Em(n){return new Aa(n)}function R0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function F1(n){return n.collectionGroup!==null}function Nl(n){const e=ke(n);if(e.ce===null){e.ce=[];const t=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new bt(Wt.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(d=d.add(y.field))})}),d})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.ce.push(new ql(a,i))}),t.has(Wt.keyField().canonicalString())||e.ce.push(new ql(Wt.keyField(),i))}return e.ce}function Or(n){const e=ke(n);return e.le||(e.le=ZP(e,Nl(n))),e.le}function ZP(n,e){if(n.limitType==="F")return A0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new ql(o.field,a)});const t=n.endAt?new hh(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new hh(n.startAt.position,n.startAt.inclusive):null;return A0(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function bp(n,e){const t=n.filters.concat([e]);return new Aa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function xp(n,e,t){return new Aa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Kh(n,e){return wm(Or(n),Or(e))&&n.limitType===e.limitType}function U1(n){return`${_m(Or(n))}|lt:${n.limitType}`}function Zo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>M1(o)).join(", ")}]`),Hh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>ma(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>ma(o)).join(",")),`Target(${i})`}(Or(n))}; limitType=${n.limitType})`}function Gh(n,e){return e.isFoundDocument()&&function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):ve.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(n,e)&&function(i,o){for(const a of Nl(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(c,d,p){const y=I0(c,d,p);return c.inclusive?y<=0:y<0}(i.startAt,Nl(i),o)||i.endAt&&!function(c,d,p){const y=I0(c,d,p);return c.inclusive?y>=0:y>0}(i.endAt,Nl(i),o))}(n,e)}function e2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function z1(n){return(e,t)=>{let i=!1;for(const o of Nl(n)){const a=t2(o,e,t);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function t2(n,e,t){const i=n.field.isKeyField()?ve.comparator(e.key,t.key):function(a,c,d){const p=c.data.field(a),y=d.data.field(a);return p!==null&&y!==null?pa(p,y):Ie()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ie()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Js(this.inner,(t,i)=>{for(const[o,a]of i)e(o,a)})}isEmpty(){return P1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2=new ct(ve.comparator);function mi(){return n2}const j1=new ct(ve.comparator);function Al(...n){let e=j1;for(const t of n)e=e.insert(t.key,t);return e}function B1(n){let e=j1;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function js(){return Ol()}function $1(){return Ol()}function Ol(){return new Zs(n=>n.toString(),(n,e)=>n.isEqual(e))}const r2=new ct(ve.comparator),i2=new bt(ve.comparator);function De(...n){let e=i2;for(const t of n)e=e.add(t);return e}const s2=new bt(Me);function o2(){return s2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ch(e)?"-0":e}}function W1(n){return{integerValue:""+n}}function a2(n,e){return VP(e)?W1(e):Tm(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(){this._=void 0}}function l2(n,e,t){return n instanceof Kl?function(o,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&ym(a)&&(a=qh(a)),a&&(c.fields.__previous_value__=a),{mapValue:c}}(t,e):n instanceof Gl?q1(n,e):n instanceof Ql?K1(n,e):function(o,a){const c=H1(o,a),d=k0(c)+k0(o.Pe);return Rp(c)&&Rp(o.Pe)?W1(d):Tm(o.serializer,d)}(n,e)}function u2(n,e,t){return n instanceof Gl?q1(n,e):n instanceof Ql?K1(n,e):t}function H1(n,e){return n instanceof dh?function(i){return Rp(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class Kl extends Qh{}class Gl extends Qh{constructor(e){super(),this.elements=e}}function q1(n,e){const t=G1(e);for(const i of n.elements)t.some(o=>Mr(o,i))||t.push(i);return{arrayValue:{values:t}}}class Ql extends Qh{constructor(e){super(),this.elements=e}}function K1(n,e){let t=G1(e);for(const i of n.elements)t=t.filter(o=>!Mr(o,i));return{arrayValue:{values:t}}}class dh extends Qh{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function k0(n){return yt(n.integerValue||n.doubleValue)}function G1(n){return vm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e,t){this.field=e,this.transform=t}}function h2(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof Gl&&o instanceof Gl||i instanceof Ql&&o instanceof Ql?fa(i.elements,o.elements,Mr):i instanceof dh&&o instanceof dh?Mr(i.Pe,o.Pe):i instanceof Kl&&o instanceof Kl}(n.transform,e.transform)}class d2{constructor(e,t){this.version=e,this.transformResults=t}}class ci{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ci}static exists(e){return new ci(void 0,e)}static updateTime(e){return new ci(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Xh{}function Q1(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Y1(n.key,ci.none()):new au(n.key,n.data,ci.none());{const t=n.data,i=Kn.empty();let o=new bt(Wt.comparator);for(let a of e.fields)if(!o.has(a)){let c=t.field(a);c===null&&a.length>1&&(a=a.popLast(),c=t.field(a)),c===null?i.delete(a):i.set(a,c),o=o.add(a)}return new eo(n.key,i,new fr(o.toArray()),ci.none())}}function f2(n,e,t){n instanceof au?function(o,a,c){const d=o.value.clone(),p=b0(o.fieldTransforms,a,c.transformResults);d.setAll(p),a.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof eo?function(o,a,c){if(!Kc(o.precondition,a))return void a.convertToUnknownDocument(c.version);const d=b0(o.fieldTransforms,a,c.transformResults),p=a.data;p.setAll(X1(o)),p.setAll(d),a.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):function(o,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function Dl(n,e,t,i){return n instanceof au?function(a,c,d,p){if(!Kc(a.precondition,c))return d;const y=a.value.clone(),w=x0(a.fieldTransforms,p,c);return y.setAll(w),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null}(n,e,t,i):n instanceof eo?function(a,c,d,p){if(!Kc(a.precondition,c))return d;const y=x0(a.fieldTransforms,p,c),w=c.data;return w.setAll(X1(a)),w.setAll(y),c.convertToFoundDocument(c.version,w).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(T=>T.field))}(n,e,t,i):function(a,c,d){return Kc(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,e,t)}function p2(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),a=H1(i.transform,o||null);a!=null&&(t===null&&(t=Kn.empty()),t.set(i.field,a))}return t||null}function P0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&fa(i,o,(a,c)=>h2(a,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class au extends Xh{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class eo extends Xh{constructor(e,t,i,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function X1(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function b0(n,e,t){const i=new Map;Ge(n.length===t.length);for(let o=0;o<t.length;o++){const a=n[o],c=a.transform,d=e.data.field(a.field);i.set(a.field,u2(c,d,t[o]))}return i}function x0(n,e,t){const i=new Map;for(const o of n){const a=o.transform,c=t.data.field(o.field);i.set(o.field,l2(a,c,e))}return i}class Y1 extends Xh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class m2 extends Xh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&f2(a,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Dl(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Dl(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=$1();return this.mutations.forEach(o=>{const a=e.get(o.key),c=a.overlayedDocument;let d=this.applyToLocalView(c,a.mutatedFields);d=t.has(o.key)?null:d;const p=Q1(c,d);p!==null&&i.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Re.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),De())}isEqual(e){return this.batchId===e.batchId&&fa(this.mutations,e.mutations,(t,i)=>P0(t,i))&&fa(this.baseMutations,e.baseMutations,(t,i)=>P0(t,i))}}class Sm{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){Ge(e.mutations.length===i.length);let o=function(){return r2}();const a=e.mutations;for(let c=0;c<a.length;c++)o=o.insert(a[c].key,i[c].version);return new Sm(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,Fe;function _2(n){switch(n){default:return Ie();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0}}function J1(n){if(n===void 0)return pi("GRPC error has no .code"),ee.UNKNOWN;switch(n){case St.OK:return ee.OK;case St.CANCELLED:return ee.CANCELLED;case St.UNKNOWN:return ee.UNKNOWN;case St.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case St.INTERNAL:return ee.INTERNAL;case St.UNAVAILABLE:return ee.UNAVAILABLE;case St.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case St.NOT_FOUND:return ee.NOT_FOUND;case St.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case St.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case St.ABORTED:return ee.ABORTED;case St.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case St.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case St.DATA_LOSS:return ee.DATA_LOSS;default:return Ie()}}(Fe=St||(St={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=new $s([4294967295,4294967295],0);function N0(n){const e=w2().encode(n),t=new E1;return t.update(e),new Uint8Array(t.digest())}function O0(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new $s([t,i],0),new $s([o,a],0)]}class Im{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Rl(`Invalid padding: ${t}`);if(i<0)throw new Rl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Rl(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Rl(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=$s.fromNumber(this.Te)}Ee(e,t,i){let o=e.add(t.multiply($s.fromNumber(i)));return o.compare(E2)===1&&(o=new $s([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=N0(e),[i,o]=O0(t);for(let a=0;a<this.hashCount;a++){const c=this.Ee(i,o,a);if(!this.de(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new Im(a,o,t);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.Te===0)return;const t=N0(e),[i,o]=O0(t);for(let a=0;a<this.hashCount;a++){const c=this.Ee(i,o,a);this.Ae(c)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Rl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,t,i,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,lu.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Yh(Re.min(),o,new ct(Me),mi(),De())}}class lu{constructor(e,t,i,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new lu(i,t,De(),De(),De())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,t,i,o){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=o}}class Z1{constructor(e,t){this.targetId=e,this.me=t}}class ew{constructor(e,t,i=Ht.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class D0{constructor(){this.fe=0,this.ge=V0(),this.pe=Ht.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=De(),t=De(),i=De();return this.ge.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Ie()}}),new lu(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=V0()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ge(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class T2{constructor(e){this.Le=e,this.Be=new Map,this.ke=mi(),this.qe=Mc(),this.Qe=Mc(),this.Ke=new ct(Me)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.je(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.De(e.resumeToken));break;default:Ie()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,i=e.me.count,o=this.Ye(t);if(o){const a=o.target;if(Pp(a))if(i===0){const c=new ve(a.path);this.We(t,c,en.newNoDocument(c,Re.min()))}else Ge(i===1);else{const c=this.Ze(t);if(c!==i){const d=this.Xe(e),p=d?this.et(d,e,c):1;if(p!==0){this.He(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,y)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=t;let c,d;try{c=rs(i).toUint8Array()}catch(p){if(p instanceof b1)return da("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Im(c,o,a)}catch(p){return da(p instanceof Rl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Te===0?null:d}et(e,t,i){return t.me.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let o=0;return i.forEach(a=>{const c=this.Le.nt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.We(t,a,null),o++)}),o}it(e){const t=new Map;this.Be.forEach((a,c)=>{const d=this.Ye(c);if(d){if(a.current&&Pp(d.target)){const p=new ve(d.target.path);this.st(p).has(c)||this.ot(c,p)||this.We(c,p,en.newNoDocument(p,e))}a.be&&(t.set(c,a.ve()),a.Ce())}});let i=De();this.Qe.forEach((a,c)=>{let d=!0;c.forEachWhile(p=>{const y=this.Ye(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(a))}),this.ke.forEach((a,c)=>c.setReadTime(e));const o=new Yh(e,t,this.Ke,this.ke,i);return this.ke=mi(),this.qe=Mc(),this.Qe=Mc(),this.Ke=new ct(Me),o}Ue(e,t){if(!this.je(e))return;const i=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new D0,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new bt(Me),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new bt(Me),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||ce("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new D0),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Mc(){return new ct(ve.comparator)}function V0(){return new ct(ve.comparator)}const S2={asc:"ASCENDING",desc:"DESCENDING"},I2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},C2={and:"AND",or:"OR"};class A2{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Np(n,e){return n.useProto3Json||Hh(e)?e:{value:e}}function fh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function R2(n,e){return fh(n,e.toTimestamp())}function Dr(n){return Ge(!!n),Re.fromTimestamp(function(t){const i=ns(t);return new Pt(i.seconds,i.nanos)}(n))}function Cm(n,e){return Op(n,e).canonicalString()}function Op(n,e){const t=function(o){return new it(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function nw(n){const e=it.fromString(n);return Ge(aw(e)),e}function Dp(n,e){return Cm(n.databaseId,e.path)}function rp(n,e){const t=nw(e);if(t.get(1)!==n.databaseId.projectId)throw new fe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new fe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ve(iw(t))}function rw(n,e){return Cm(n.databaseId,e)}function k2(n){const e=nw(n);return e.length===4?it.emptyPath():iw(e)}function Vp(n){return new it(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function iw(n){return Ge(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function M0(n,e,t){return{name:Dp(n,e),fields:t.value.mapValue.fields}}function P2(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ie()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(y,w){return y.useProto3Json?(Ge(w===void 0||typeof w=="string"),Ht.fromBase64String(w||"")):(Ge(w===void 0||w instanceof Buffer||w instanceof Uint8Array),Ht.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(y){const w=y.code===void 0?ee.UNKNOWN:J1(y.code);return new fe(w,y.message||"")}(c);t=new ew(i,o,a,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=rp(n,i.document.name),a=Dr(i.document.updateTime),c=i.document.createTime?Dr(i.document.createTime):Re.min(),d=new Kn({mapValue:{fields:i.document.fields}}),p=en.newFoundDocument(o,a,c,d),y=i.targetIds||[],w=i.removedTargetIds||[];t=new Gc(y,w,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=rp(n,i.document),a=i.readTime?Dr(i.readTime):Re.min(),c=en.newNoDocument(o,a),d=i.removedTargetIds||[];t=new Gc([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=rp(n,i.document),a=i.removedTargetIds||[];t=new Gc([],a,o,null)}else{if(!("filter"in e))return Ie();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,c=new v2(o,a),d=i.targetId;t=new Z1(d,c)}}return t}function b2(n,e){let t;if(e instanceof au)t={update:M0(n,e.key,e.value)};else if(e instanceof Y1)t={delete:Dp(n,e.key)};else if(e instanceof eo)t={update:M0(n,e.key,e.data),updateMask:U2(e.fieldMask)};else{if(!(e instanceof m2))return Ie();t={verify:Dp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(a,c){const d=c.transform;if(d instanceof Kl)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Gl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Ql)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof dh)return{fieldPath:c.field.canonicalString(),increment:d.Pe};throw Ie()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:R2(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ie()}(n,e.precondition)),t}function x2(n,e){return n&&n.length>0?(Ge(e!==void 0),n.map(t=>function(o,a){let c=o.updateTime?Dr(o.updateTime):Dr(a);return c.isEqual(Re.min())&&(c=Dr(a)),new d2(c,o.transformResults||[])}(t,e))):[]}function N2(n,e){return{documents:[rw(n,e.path)]}}function O2(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=rw(n,o);const a=function(y){if(y.length!==0)return ow(mr.create(y,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const c=function(y){if(y.length!==0)return y.map(w=>function(I){return{field:ea(I.field),direction:M2(I.dir)}}(w))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=Np(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ct:t,parent:o}}function D2(n){let e=k2(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){Ge(i===1);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let a=[];t.where&&(a=function(T){const I=sw(T);return I instanceof mr&&D1(I)?I.getFilters():[I]}(t.where));let c=[];t.orderBy&&(c=function(T){return T.map(I=>function(N){return new ql(ta(N.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(I))}(t.orderBy));let d=null;t.limit&&(d=function(T){let I;return I=typeof T=="object"?T.value:T,Hh(I)?null:I}(t.limit));let p=null;t.startAt&&(p=function(T){const I=!!T.before,x=T.values||[];return new hh(x,I)}(t.startAt));let y=null;return t.endAt&&(y=function(T){const I=!T.before,x=T.values||[];return new hh(x,I)}(t.endAt)),JP(e,o,c,a,d,"F",p,y)}function V2(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function sw(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=ta(t.unaryFilter.field);return Ct.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=ta(t.unaryFilter.field);return Ct.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ta(t.unaryFilter.field);return Ct.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=ta(t.unaryFilter.field);return Ct.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Ie()}}(n):n.fieldFilter!==void 0?function(t){return Ct.create(ta(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ie()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return mr.create(t.compositeFilter.filters.map(i=>sw(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ie()}}(t.compositeFilter.op))}(n):Ie()}function M2(n){return S2[n]}function L2(n){return I2[n]}function F2(n){return C2[n]}function ea(n){return{fieldPath:n.canonicalString()}}function ta(n){return Wt.fromServerFormat(n.fieldPath)}function ow(n){return n instanceof Ct?function(t){if(t.op==="=="){if(S0(t.value))return{unaryFilter:{field:ea(t.field),op:"IS_NAN"}};if(T0(t.value))return{unaryFilter:{field:ea(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(S0(t.value))return{unaryFilter:{field:ea(t.field),op:"IS_NOT_NAN"}};if(T0(t.value))return{unaryFilter:{field:ea(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ea(t.field),op:L2(t.op),value:t.value}}}(n):n instanceof mr?function(t){const i=t.getFilters().map(o=>ow(o));return i.length===1?i[0]:{compositeFilter:{op:F2(t.op),filters:i}}}(n):Ie()}function U2(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function aw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e,t,i,o,a=Re.min(),c=Re.min(),d=Ht.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new Gi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e){this.ht=e}}function j2(n){const e=D2({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?xp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(){this.ln=new $2}addToCollectionParentIndex(e,t){return this.ln.add(t),Z.resolve()}getCollectionParents(e,t){return Z.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return Z.resolve()}deleteFieldIndex(e,t){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,t){return Z.resolve()}getDocumentsMatchingTarget(e,t){return Z.resolve(null)}getIndexType(e,t){return Z.resolve(0)}getFieldIndexes(e,t){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,t){return Z.resolve(ts.min())}getMinOffsetFromCollectionGroup(e,t){return Z.resolve(ts.min())}updateCollectionGroup(e,t,i){return Z.resolve()}updateIndexEntries(e,t){return Z.resolve()}}class $2{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new bt(it.comparator),a=!o.has(i);return this.index[t]=o.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new bt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class gn{static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(41943040,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new ga(0)}static Qn(){return new ga(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0([n,e],[t,i]){const o=Me(n,t);return o===0?Me(e,i):o}class W2{constructor(e){this.Gn=e,this.buffer=new bt(F0),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();F0(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class H2{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ce("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ca(t)?ce("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await Ia(t)}await this.Yn(3e5)})}}class q2{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return Z.resolve(Wh.oe);const i=new W2(t);return this.Zn.forEachTarget(e,o=>i.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>i.Hn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(L0)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),L0):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let i,o,a,c,d,p,y;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,c=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(i=T,d=Date.now(),this.removeTargets(e,i,t))).next(T=>(a=T,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(T=>(y=Date.now(),Jo()<=Oe.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-w}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${a} targets in `+(p-d)+`ms
	Removed ${T} documents in `+(y-p)+`ms
Total Duration: ${y-w}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:T})))}}function K2(n,e){return new q2(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(){this.changes=new Zs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?Z.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&Dl(i.mutation,o,fr.empty(),Pt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,De()).next(()=>i))}getLocalViewOfDocuments(e,t,i=De()){const o=js();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(a=>{let c=Al();return a.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=js();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,De()))}populateOverlays(e,t,i){const o=[];return i.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,i,o){let a=mi();const c=Ol(),d=function(){return Ol()}();return t.forEach((p,y)=>{const w=i.get(y.key);o.has(y.key)&&(w===void 0||w.mutation instanceof eo)?a=a.insert(y.key,y):w!==void 0?(c.set(y.key,w.mutation.getFieldMask()),Dl(w.mutation,y,w.mutation.getFieldMask(),Pt.now())):c.set(y.key,fr.empty())}),this.recalculateAndSaveOverlays(e,a).next(p=>(p.forEach((y,w)=>c.set(y,w)),t.forEach((y,w)=>{var T;return d.set(y,new Q2(w,(T=c.get(y))!==null&&T!==void 0?T:null))}),d))}recalculateAndSaveOverlays(e,t){const i=Ol();let o=new ct((c,d)=>c-d),a=De();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(p=>{const y=t.get(p);if(y===null)return;let w=i.get(p)||fr.empty();w=d.applyToLocalView(y,w),i.set(p,w);const T=(o.get(d.batchId)||De()).add(p);o=o.insert(d.batchId,T)})}).next(()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),y=p.key,w=p.value,T=$1();w.forEach(I=>{if(!a.has(I)){const x=Q1(t.get(I),i.get(I));x!==null&&T.set(I,x),a=a.add(I)}}),c.push(this.documentOverlayCache.saveOverlays(e,y,T))}return Z.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(c){return ve.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):F1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(a=>{const c=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-a.size):Z.resolve(js());let d=-1,p=a;return c.next(y=>Z.forEach(y,(w,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),a.get(w)?Z.resolve():this.remoteDocumentCache.getEntry(e,w).next(I=>{p=p.insert(w,I)}))).next(()=>this.populateOverlays(e,y,a)).next(()=>this.computeViews(e,p,y,De())).next(w=>({batchId:d,changes:B1(w)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next(i=>{let o=Al();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const a=t.collectionGroup;let c=Al();return this.indexManager.getCollectionParents(e,a).next(d=>Z.forEach(d,p=>{const y=function(T,I){return new Aa(I,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,p.child(a));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next(w=>{w.forEach((T,I)=>{c=c.insert(T,I)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,o))).next(c=>{a.forEach((p,y)=>{const w=y.getKey();c.get(w)===null&&(c=c.insert(w,en.newInvalidDocument(w)))});let d=Al();return c.forEach((p,y)=>{const w=a.get(p);w!==void 0&&Dl(w.mutation,y,fr.empty(),Pt.now()),Gh(t,y)&&(d=d.insert(p,y))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return Z.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Dr(o.createTime)}}(t)),Z.resolve()}getNamedQuery(e,t){return Z.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:j2(o.bundledQuery),readTime:Dr(o.readTime)}}(t)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(){this.overlays=new ct(ve.comparator),this.Er=new Map}getOverlay(e,t){return Z.resolve(this.overlays.get(t))}getOverlays(e,t){const i=js();return Z.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&i.set(o,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,a)=>{this.Tt(e,t,a)}),Z.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Er.get(i);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Er.delete(i)),Z.resolve()}getOverlaysForCollection(e,t,i){const o=js(),a=t.length+1,c=new ve(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===a&&p.largestBatchId>i&&o.set(p.getKey(),p)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let a=new ct((y,w)=>y-w);const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let w=a.get(y.largestBatchId);w===null&&(w=js(),a=a.insert(y.largestBatchId,w)),w.set(y.getKey(),y)}}const d=js(),p=a.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,w)=>d.set(y,w)),!(d.size()>=o)););return Z.resolve(d)}Tt(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.Er.get(o.largestBatchId).delete(i.key);this.Er.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new y2(t,i));let a=this.Er.get(t);a===void 0&&(a=De(),this.Er.set(t,a)),this.Er.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(){this.sessionToken=Ht.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(){this.dr=new bt(Vt.Ar),this.Rr=new bt(Vt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const i=new Vt(e,t);this.dr=this.dr.add(i),this.Rr=this.Rr.add(i)}mr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.gr(new Vt(e,t))}pr(e,t){e.forEach(i=>this.removeReference(i,t))}yr(e){const t=new ve(new it([])),i=new Vt(t,e),o=new Vt(t,e+1),a=[];return this.Rr.forEachInRange([i,o],c=>{this.gr(c),a.push(c.key)}),a}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new ve(new it([])),i=new Vt(t,e),o=new Vt(t,e+1);let a=De();return this.Rr.forEachInRange([i,o],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new Vt(e,0),i=this.dr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Vt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return ve.comparator(e.key,t.key)||Me(e.br,t.br)}static Vr(e,t){return Me(e.br,t.br)||ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new bt(Vt.Ar)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const a=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new g2(a,t,i,o);this.mutationQueue.push(c);for(const d of o)this.vr=this.vr.add(new Vt(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Z.resolve(c)}lookupMutationBatch(e,t){return Z.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Fr(i),a=o<0?0:o;return Z.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Vt(t,0),o=new Vt(t,Number.POSITIVE_INFINITY),a=[];return this.vr.forEachInRange([i,o],c=>{const d=this.Cr(c.br);a.push(d)}),Z.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new bt(Me);return t.forEach(o=>{const a=new Vt(o,0),c=new Vt(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([a,c],d=>{i=i.add(d.br)})}),Z.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let a=i;ve.isDocumentKey(a)||(a=a.child(""));const c=new Vt(new ve(a),0);let d=new bt(Me);return this.vr.forEachWhile(p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(d=d.add(p.br)),!0)},c),Z.resolve(this.Mr(d))}Mr(e){const t=[];return e.forEach(i=>{const o=this.Cr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Ge(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.vr;return Z.forEach(t.mutations,o=>{const a=new Vt(o.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=i})}Ln(e){}containsKey(e,t){const i=new Vt(t,0),o=this.vr.firstAfterOrEqual(i);return Z.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e){this.Nr=e,this.docs=function(){return new ct(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),a=o?o.size:0,c=this.Nr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Z.resolve(i?i.document.mutableCopy():en.newInvalidDocument(t))}getEntries(e,t){let i=mi();return t.forEach(o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():en.newInvalidDocument(o))}),Z.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let a=mi();const c=t.path,d=new ve(c.child("")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:y,value:{document:w}}=p.getNext();if(!c.isPrefixOf(y.path))break;y.path.length>c.length+1||xP(bP(w),i)<=0||(o.has(w.key)||Gh(t,w))&&(a=a.insert(w.key,w.mutableCopy()))}return Z.resolve(a)}getAllFromCollectionGroup(e,t,i,o){Ie()}Lr(e,t){return Z.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new nb(this)}getSize(e){return Z.resolve(this.size)}}class nb extends G2{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(i)}),Z.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e){this.persistence=e,this.Br=new Zs(t=>_m(t),wm),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.kr=0,this.qr=new Am,this.targetCount=0,this.Qr=ga.qn()}forEachTarget(e,t){return this.Br.forEach((i,o)=>t(o)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.kr&&(this.kr=t),Z.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new ga(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,Z.resolve()}updateTargetData(e,t){return this.Un(t),Z.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,t,i){let o=0;const a=[];return this.Br.forEach((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.Br.delete(c),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),Z.waitFor(a).next(()=>o)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,t){const i=this.Br.get(t)||null;return Z.resolve(i)}addMatchingKeys(e,t,i){return this.qr.mr(t,i),Z.resolve()}removeMatchingKeys(e,t,i){this.qr.pr(t,i);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(c=>{a.push(o.markPotentiallyOrphaned(e,c))}),Z.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),Z.resolve()}getMatchingKeysForTargetId(e,t){const i=this.qr.Sr(t);return Z.resolve(i)}containsKey(e,t){return Z.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Wh(0),this.Ur=!1,this.Ur=!0,this.Wr=new Z2,this.referenceDelegate=e(this),this.Gr=new rb(this),this.indexManager=new B2,this.remoteDocumentCache=function(o){return new tb(o)}(i=>this.referenceDelegate.zr(i)),this.serializer=new z2(t),this.jr=new Y2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new J2,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Kr[e.toKey()];return i||(i=new eb(t,this.referenceDelegate),this.Kr[e.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,i){ce("MemoryPersistence","Starting transaction:",e);const o=new ib(this.$r.next());return this.referenceDelegate.Hr(),i(o).next(a=>this.referenceDelegate.Jr(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Yr(e,t){return Z.or(Object.values(this.Kr).map(i=>()=>i.containsKey(e,t)))}}class ib extends OP{constructor(e){super(),this.currentSequenceNumber=e}}class Rm{constructor(e){this.persistence=e,this.Zr=new Am,this.Xr=null}static ei(e){return new Rm(e)}get ti(){if(this.Xr)return this.Xr;throw Ie()}addReference(e,t,i){return this.Zr.addReference(i,t),this.ti.delete(i.toString()),Z.resolve()}removeReference(e,t,i){return this.Zr.removeReference(i,t),this.ti.add(i.toString()),Z.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),Z.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.ti.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.ti,i=>{const o=ve.fromPath(i);return this.ni(e,o).next(a=>{a||t.removeEntry(o,Re.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(i=>{i?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return Z.or([()=>Z.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class ph{constructor(e,t){this.persistence=e,this.ri=new Zs(i=>MP(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=K2(this,t)}static ei(e,t){return new ph(e,t)}Hr(){}Jr(e){return Z.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}nr(e){let t=0;return this.er(e,i=>{t++}).next(()=>t)}er(e,t){return Z.forEach(this.ri,(i,o)=>this.ir(e,i,o).next(a=>a?Z.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.Lr(e,c=>this.ir(e,c,t).next(d=>{d||(i++,a.removeEntry(c,Re.min()))})).next(()=>a.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),Z.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),Z.resolve()}removeReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),Z.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Hc(e.data.value)),t}ir(e,t,i){return Z.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return Z.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Wi=i,this.Gi=o}static zi(e,t){let i=De(),o=De();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new km(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return rk()?8:DP(tn())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,i,o){const a={result:null};return this.Xi(e,t).next(c=>{a.result=c}).next(()=>{if(!a.result)return this.es(e,t,o,i).next(c=>{a.result=c})}).next(()=>{if(a.result)return;const c=new sb;return this.ts(e,t,c).next(d=>{if(a.result=d,this.Hi)return this.ns(e,t,c,d.size)})}).next(()=>a.result)}ns(e,t,i,o){return i.documentReadCount<this.Ji?(Jo()<=Oe.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Zo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),Z.resolve()):(Jo()<=Oe.DEBUG&&ce("QueryEngine","Query:",Zo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Yi*o?(Jo()<=Oe.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Zo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Or(t))):Z.resolve())}Xi(e,t){if(R0(t))return Z.resolve(null);let i=Or(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=xp(t,null,"F"),i=Or(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const c=De(...a);return this.Zi.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(p=>{const y=this.rs(t,d);return this.ss(t,y,c,p.readTime)?this.Xi(e,xp(t,null,"F")):this.os(e,y,t,p)}))})))}es(e,t,i,o){return R0(t)||o.isEqual(Re.min())?Z.resolve(null):this.Zi.getDocuments(e,i).next(a=>{const c=this.rs(t,a);return this.ss(t,c,i,o)?Z.resolve(null):(Jo()<=Oe.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Zo(t)),this.os(e,c,t,PP(o,-1)).next(d=>d))})}rs(e,t){let i=new bt(z1(e));return t.forEach((o,a)=>{Gh(e,a)&&(i=i.add(a))}),i}ss(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}ts(e,t,i){return Jo()<=Oe.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Zo(t)),this.Zi.getDocumentsMatchingQuery(e,t,ts.min(),i)}os(e,t,i,o){return this.Zi.getDocumentsMatchingQuery(e,i,o).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e,t,i,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new ct(Me),this.cs=new Zs(a=>_m(a),wm),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(i)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new X2(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function lb(n,e,t,i){return new ab(n,e,t,i)}async function uw(n,e){const t=ke(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(a=>(o=a,t.Ps(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const c=[],d=[];let p=De();for(const y of o){c.push(y.batchId);for(const w of y.mutations)p=p.add(w.key)}for(const y of a){d.push(y.batchId);for(const w of y.mutations)p=p.add(w.key)}return t.localDocuments.getDocuments(i,p).next(y=>({Ts:y,removedBatchIds:c,addedBatchIds:d}))})})}function ub(n,e){const t=ke(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),a=t.hs.newChangeBuffer({trackRemovals:!0});return function(d,p,y,w){const T=y.batch,I=T.keys();let x=Z.resolve();return I.forEach(N=>{x=x.next(()=>w.getEntry(p,N)).next(V=>{const M=y.docVersions.get(N);Ge(M!==null),V.version.compareTo(M)<0&&(T.applyToRemoteDocument(V,y),V.isValidDocument()&&(V.setReadTime(y.commitVersion),w.addEntry(V)))})}),x.next(()=>d.mutationQueue.removeMutationBatch(p,T))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let p=De();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(p=p.add(d.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function cw(n){const e=ke(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function cb(n,e){const t=ke(n),i=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const d=[];e.targetChanges.forEach((w,T)=>{const I=o.get(T);if(!I)return;d.push(t.Gr.removeMatchingKeys(a,w.removedDocuments,T).next(()=>t.Gr.addMatchingKeys(a,w.addedDocuments,T)));let x=I.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(T)!==null?x=x.withResumeToken(Ht.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):w.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(w.resumeToken,i)),o=o.insert(T,x),function(V,M,K){return V.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=3e8?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(I,x,w)&&d.push(t.Gr.updateTargetData(a,x))});let p=mi(),y=De();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,w))}),d.push(hb(a,c,e.documentUpdates).next(w=>{p=w.Is,y=w.Es})),!i.isEqual(Re.min())){const w=t.Gr.getLastRemoteSnapshotVersion(a).next(T=>t.Gr.setTargetsMetadata(a,a.currentSequenceNumber,i));d.push(w)}return Z.waitFor(d).next(()=>c.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,p,y)).next(()=>p)}).then(a=>(t.us=o,a))}function hb(n,e,t){let i=De(),o=De();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let c=mi();return t.forEach((d,p)=>{const y=a.get(d);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Re.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):ce("LocalStore","Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",p.version)}),{Is:c,Es:o}})}function db(n,e){const t=ke(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function fb(n,e){const t=ke(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Gr.getTargetData(i,e).next(a=>a?(o=a,Z.resolve(o)):t.Gr.allocateTargetId(i).next(c=>(o=new Gi(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Gr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.us.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(i.targetId,i),t.cs.set(e,i.targetId)),i})}async function Mp(n,e,t){const i=ke(n),o=i.us.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,c=>i.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!Ca(c))throw c;ce("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.us=i.us.remove(e),i.cs.delete(o.target)}function U0(n,e,t){const i=ke(n);let o=Re.min(),a=De();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,y,w){const T=ke(p),I=T.cs.get(w);return I!==void 0?Z.resolve(T.us.get(I)):T.Gr.getTargetData(y,w)}(i,c,Or(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,i.Gr.getMatchingKeysForTargetId(c,d.targetId).next(p=>{a=p})}).next(()=>i._s.getDocumentsMatchingQuery(c,e,t?o:Re.min(),t?a:De())).next(d=>(pb(i,e2(e),d),{documents:d,ds:a})))}function pb(n,e,t){let i=n.ls.get(e)||Re.min();t.forEach((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.ls.set(e,i)}class z0{constructor(){this.activeTargetIds=o2()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mb{constructor(){this._o=new z0,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,i){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new z0,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lc=null;function ip(){return Lc===null?Lc=function(){return 268435456+Math.round(2147483648*Math.random())}():Lc++,"0x"+Lc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class _b extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Fo=i+"://"+t.host,this.Mo=`projects/${o}/databases/${a}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${a}`}Oo(t,i,o,a,c){const d=ip(),p=this.No(t,i.toUriEncodedString());ce("RestConnection",`Sending RPC '${t}' ${d}:`,p,o);const y={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(y,a,c),this.Bo(t,p,y,o).then(w=>(ce("RestConnection",`Received RPC '${t}' ${d}: `,w),w),w=>{throw da("RestConnection",`RPC '${t}' ${d} failed with error: `,w,"url: ",p,"request:",o),w})}ko(t,i,o,a,c,d){return this.Oo(t,i,o,a,c)}Lo(t,i,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Sa}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((a,c)=>t[c]=a),o&&o.headers.forEach((a,c)=>t[c]=a)}No(t,i){const o=yb[t];return`${this.Fo}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,i,o){const a=ip();return new Promise((c,d)=>{const p=new T1;p.setWithCredentials(!0),p.listenOnce(S1.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Wc.NO_ERROR:const w=p.getResponseJson();ce(Xt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(w)),c(w);break;case Wc.TIMEOUT:ce(Xt,`RPC '${e}' ${a} timed out`),d(new fe(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Wc.HTTP_ERROR:const T=p.getStatus();if(ce(Xt,`RPC '${e}' ${a} failed with status:`,T,"response text:",p.getResponseText()),T>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const x=I==null?void 0:I.error;if(x&&x.status&&x.message){const N=function(M){const K=M.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(K)>=0?K:ee.UNKNOWN}(x.status);d(new fe(N,x.message))}else d(new fe(ee.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new fe(ee.UNAVAILABLE,"Connection failed."));break;default:Ie()}}finally{ce(Xt,`RPC '${e}' ${a} completed.`)}});const y=JSON.stringify(o);ce(Xt,`RPC '${e}' ${a} sending request:`,o),p.send(t,"POST",y,i,15)})}qo(e,t,i){const o=ip(),a=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=A1(),d=C1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Lo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const w=a.join("");ce(Xt,`Creating RPC '${e}' stream ${o}: ${w}`,p);const T=c.createWebChannel(w,p);let I=!1,x=!1;const N=new vb({Eo:M=>{x?ce(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,M):(I||(ce(Xt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),I=!0),ce(Xt,`RPC '${e}' stream ${o} sending:`,M),T.send(M))},Ao:()=>T.close()}),V=(M,K,J)=>{M.listen(K,W=>{try{J(W)}catch(B){setTimeout(()=>{throw B},0)}})};return V(T,Cl.EventType.OPEN,()=>{x||(ce(Xt,`RPC '${e}' stream ${o} transport opened.`),N.So())}),V(T,Cl.EventType.CLOSE,()=>{x||(x=!0,ce(Xt,`RPC '${e}' stream ${o} transport closed`),N.Do())}),V(T,Cl.EventType.ERROR,M=>{x||(x=!0,da(Xt,`RPC '${e}' stream ${o} transport errored:`,M),N.Do(new fe(ee.UNAVAILABLE,"The operation could not be completed")))}),V(T,Cl.EventType.MESSAGE,M=>{var K;if(!x){const J=M.data[0];Ge(!!J);const W=J,B=(W==null?void 0:W.error)||((K=W[0])===null||K===void 0?void 0:K.error);if(B){ce(Xt,`RPC '${e}' stream ${o} received error:`,B);const U=B.status;let Q=function(k){const _=St[k];if(_!==void 0)return J1(_)}(U),A=B.message;Q===void 0&&(Q=ee.INTERNAL,A="Unknown error status: "+U+" with message "+B.message),x=!0,N.Do(new fe(Q,A)),T.close()}else ce(Xt,`RPC '${e}' stream ${o} received:`,J),N.vo(J)}}),V(d,I1.STAT_EVENT,M=>{M.stat===Cp.PROXY?ce(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):M.stat===Cp.NOPROXY&&ce(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{N.bo()},0),N}}function sp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(n){return new A2(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e,t,i=1e3,o=1.5,a=6e4){this.li=e,this.timerId=t,this.Qo=i,this.Ko=o,this.$o=a,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-i);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e,t,i,o,a,c,d,p){this.li=e,this.Yo=i,this.Zo=o,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new hw(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(pi(t.toString()),pi("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Xo===t&&this.I_(i,o)},i=>{e(()=>{const o=new fe(ee.UNKNOWN,"Fetching auth token failed: "+i.message);return this.E_(o)})})}I_(e,t){const i=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{i(()=>this.listener.Ro())}),this.stream.mo(()=>{i(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{i(()=>this.E_(o))}),this.stream.onMessage(o=>{i(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return ce("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wb extends dw{constructor(e,t,i,o,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=a}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=P2(this.serializer,e),i=function(a){if(!("targetChange"in a))return Re.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Re.min():c.readTime?Dr(c.readTime):Re.min()}(e);return this.listener.R_(t,i)}V_(e){const t={};t.database=Vp(this.serializer),t.addTarget=function(a,c){let d;const p=c.target;if(d=Pp(p)?{documents:N2(a,p)}:{query:O2(a,p).ct},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=tw(a,c.resumeToken);const y=Np(a,c.expectedCount);y!==null&&(d.expectedCount=y)}else if(c.snapshotVersion.compareTo(Re.min())>0){d.readTime=fh(a,c.snapshotVersion.toTimestamp());const y=Np(a,c.expectedCount);y!==null&&(d.expectedCount=y)}return d}(this.serializer,e);const i=V2(this.serializer,e);i&&(t.labels=i),this.c_(t)}m_(e){const t={};t.database=Vp(this.serializer),t.removeTarget=e,this.c_(t)}}class Eb extends dw{constructor(e,t,i,o,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,c),this.serializer=a}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=x2(e.writeResults,e.commitTime),i=Dr(e.commitTime);return this.listener.y_(i,t)}w_(){const e={};e.database=Vp(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>b2(this.serializer,i))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new fe(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Oo(e,Op(t,i),o,a,c)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new fe(ee.UNKNOWN,a.toString())})}ko(e,t,i,o,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.ko(e,Op(t,i),o,c,d,a)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe(ee.UNKNOWN,c.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class Sb{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(pi(t),this.C_=!1):ce("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e,t,i,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=a,this.Q_.uo(c=>{i.enqueueAndForget(async()=>{to(this)&&(ce("RemoteStore","Restarting streams for network reachability change."),await async function(p){const y=ke(p);y.k_.add(4),await uu(y),y.K_.set("Unknown"),y.k_.delete(4),await Zh(y)}(this))})}),this.K_=new Sb(i,o)}}async function Zh(n){if(to(n))for(const e of n.q_)await e(!0)}async function uu(n){for(const e of n.q_)await e(!1)}function fw(n,e){const t=ke(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),Nm(t)?xm(t):Ra(t).s_()&&bm(t,e))}function Pm(n,e){const t=ke(n),i=Ra(t);t.B_.delete(e),i.s_()&&pw(t,e),t.B_.size===0&&(i.s_()?i.a_():to(t)&&t.K_.set("Unknown"))}function bm(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ra(n).V_(e)}function pw(n,e){n.U_.xe(e),Ra(n).m_(e)}function xm(n){n.U_=new T2({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),Ra(n).start(),n.K_.F_()}function Nm(n){return to(n)&&!Ra(n).i_()&&n.B_.size>0}function to(n){return ke(n).k_.size===0}function mw(n){n.U_=void 0}async function Cb(n){n.K_.set("Online")}async function Ab(n){n.B_.forEach((e,t)=>{bm(n,e)})}async function Rb(n,e){mw(n),Nm(n)?(n.K_.O_(e),xm(n)):n.K_.set("Unknown")}async function kb(n,e,t){if(n.K_.set("Online"),e instanceof ew&&e.state===2&&e.cause)try{await async function(o,a){const c=a.cause;for(const d of a.targetIds)o.B_.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.B_.delete(d),o.U_.removeTarget(d))}(n,e)}catch(i){ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await mh(n,i)}else if(e instanceof Gc?n.U_.$e(e):e instanceof Z1?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Re.min()))try{const i=await cw(n.localStore);t.compareTo(i)>=0&&await function(a,c){const d=a.U_.it(c);return d.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const w=a.B_.get(y);w&&a.B_.set(y,w.withResumeToken(p.resumeToken,c))}}),d.targetMismatches.forEach((p,y)=>{const w=a.B_.get(p);if(!w)return;a.B_.set(p,w.withResumeToken(Ht.EMPTY_BYTE_STRING,w.snapshotVersion)),pw(a,p);const T=new Gi(w.target,p,y,w.sequenceNumber);bm(a,T)}),a.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){ce("RemoteStore","Failed to raise snapshot:",i),await mh(n,i)}}async function mh(n,e,t){if(!Ca(e))throw e;n.k_.add(1),await uu(n),n.K_.set("Offline"),t||(t=()=>cw(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ce("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await Zh(n)})}function gw(n,e){return e().catch(t=>mh(n,t,e))}async function ed(n){const e=ke(n),t=ss(e);let i=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;Pb(e);)try{const o=await db(e.localStore,i);if(o===null){e.L_.length===0&&t.a_();break}i=o.batchId,bb(e,o)}catch(o){await mh(e,o)}yw(e)&&vw(e)}function Pb(n){return to(n)&&n.L_.length<10}function bb(n,e){n.L_.push(e);const t=ss(n);t.s_()&&t.f_&&t.g_(e.mutations)}function yw(n){return to(n)&&!ss(n).i_()&&n.L_.length>0}function vw(n){ss(n).start()}async function xb(n){ss(n).w_()}async function Nb(n){const e=ss(n);for(const t of n.L_)e.g_(t.mutations)}async function Ob(n,e,t){const i=n.L_.shift(),o=Sm.from(i,e,t);await gw(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await ed(n)}async function Db(n,e){e&&ss(n).f_&&await async function(i,o){if(function(c){return _2(c)&&c!==ee.ABORTED}(o.code)){const a=i.L_.shift();ss(i).__(),await gw(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o)),await ed(i)}}(n,e),yw(n)&&vw(n)}async function B0(n,e){const t=ke(n);t.asyncQueue.verifyOperationInProgress(),ce("RemoteStore","RemoteStore received new credentials");const i=to(t);t.k_.add(3),await uu(t),i&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await Zh(t)}async function Vb(n,e){const t=ke(n);e?(t.k_.delete(2),await Zh(t)):e||(t.k_.add(2),await uu(t),t.K_.set("Unknown"))}function Ra(n){return n.W_||(n.W_=function(t,i,o){const a=ke(t);return a.b_(),new wb(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Ro:Cb.bind(null,n),mo:Ab.bind(null,n),po:Rb.bind(null,n),R_:kb.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),Nm(n)?xm(n):n.K_.set("Unknown")):(await n.W_.stop(),mw(n))})),n.W_}function ss(n){return n.G_||(n.G_=function(t,i,o){const a=ke(t);return a.b_(),new Eb(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:xb.bind(null,n),po:Db.bind(null,n),p_:Nb.bind(null,n),y_:Ob.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await ed(n)):(await n.G_.stop(),n.L_.length>0&&(ce("RemoteStore",`Stopping write stream with ${n.L_.length} pending writes`),n.L_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,t,i,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new Ws,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,a){const c=Date.now()+i,d=new Om(e,t,c,o,a);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dm(n,e){if(pi("AsyncQueue",`${e}: ${n}`),Ca(n))return new fe(ee.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{static emptySet(e){return new sa(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||ve.comparator(t.key,i.key):(t,i)=>ve.comparator(t.key,i.key),this.keyedMap=Al(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof sa)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new sa;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(){this.z_=new ct(ve.comparator)}track(e){const t=e.doc.key,i=this.z_.get(t);i?e.type!==0&&i.type===3?this.z_=this.z_.insert(t,e):e.type===3&&i.type!==1?this.z_=this.z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.z_=this.z_.remove(t):e.type===1&&i.type===2?this.z_=this.z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Ie():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class ya{constructor(e,t,i,o,a,c,d,p,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,a){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new ya(e,t,sa.emptySet(t),c,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class Lb{constructor(){this.queries=W0(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,i){const o=ke(t),a=o.queries;o.queries=W0(),a.forEach((c,d)=>{for(const p of d.J_)p.onError(i)})})(this,new fe(ee.ABORTED,"Firestore shutting down"))}}function W0(){return new Zs(n=>U1(n),Kh)}async function Fb(n,e){const t=ke(n);let i=3;const o=e.query;let a=t.queries.get(o);a?!a.Y_()&&e.Z_()&&(i=2):(a=new Mb,i=e.Z_()?0:1);try{switch(i){case 0:a.H_=await t.onListen(o,!0);break;case 1:a.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const d=Dm(c,`Initialization of query '${Zo(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,a),a.J_.push(e),e.ea(t.onlineState),a.H_&&e.ta(a.H_)&&Vm(t)}async function Ub(n,e){const t=ke(n),i=e.query;let o=3;const a=t.queries.get(i);if(a){const c=a.J_.indexOf(e);c>=0&&(a.J_.splice(c,1),a.J_.length===0?o=e.Z_()?0:1:!a.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function zb(n,e){const t=ke(n);let i=!1;for(const o of e){const a=o.query,c=t.queries.get(a);if(c){for(const d of c.J_)d.ta(o)&&(i=!0);c.H_=o}}i&&Vm(t)}function jb(n,e,t){const i=ke(n),o=i.queries.get(e);if(o)for(const a of o.J_)a.onError(t);i.queries.delete(e)}function Vm(n){n.X_.forEach(e=>{e.next()})}var Lp,H0;(H0=Lp||(Lp={})).na="default",H0.Cache="cache";class Bb{constructor(e,t,i){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=i||{}}ta(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new ya(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const i=t!=="Offline";return(!this.options.ua||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=ya.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Lp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e){this.key=e}}class ww{constructor(e){this.key=e}}class $b{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=De(),this.mutatedKeys=De(),this.Va=z1(e),this.ma=new sa(this.Va)}get fa(){return this.da}ga(e,t){const i=t?t.pa:new $0,o=t?t.ma:this.ma;let a=t?t.mutatedKeys:this.mutatedKeys,c=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((w,T)=>{const I=o.get(w),x=Gh(this.query,T)?T:null,N=!!I&&this.mutatedKeys.has(I.key),V=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let M=!1;I&&x?I.data.isEqual(x.data)?N!==V&&(i.track({type:3,doc:x}),M=!0):this.ya(I,x)||(i.track({type:2,doc:x}),M=!0,(p&&this.Va(x,p)>0||y&&this.Va(x,y)<0)&&(d=!0)):!I&&x?(i.track({type:0,doc:x}),M=!0):I&&!x&&(i.track({type:1,doc:I}),M=!0,(p||y)&&(d=!0)),M&&(x?(c=c.add(x),a=V?a.add(w):a.delete(w)):(c=c.delete(w),a=a.delete(w)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const w=this.query.limitType==="F"?c.last():c.first();c=c.delete(w.key),a=a.delete(w.key),i.track({type:1,doc:w})}return{ma:c,pa:i,ss:d,mutatedKeys:a}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const a=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const c=e.pa.j_();c.sort((w,T)=>function(x,N){const V=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie()}};return V(x)-V(N)}(w.type,T.type)||this.Va(w.doc,T.doc)),this.wa(i),o=o!=null&&o;const d=t&&!o?this.Sa():[],p=this.Ra.size===0&&this.current&&!o?1:0,y=p!==this.Aa;return this.Aa=p,c.length!==0||y?{snapshot:new ya(this.query,e.ma,a,c,e.mutatedKeys,p===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),ba:d}:{ba:d}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new $0,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=De(),this.ma.forEach(i=>{this.Da(i.key)&&(this.Ra=this.Ra.add(i.key))});const t=[];return e.forEach(i=>{this.Ra.has(i)||t.push(new ww(i))}),this.Ra.forEach(i=>{e.has(i)||t.push(new _w(i))}),t}va(e){this.da=e.ds,this.Ra=De();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return ya.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class Wb{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Hb{constructor(e){this.key=e,this.Fa=!1}}class qb{constructor(e,t,i,o,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.Ma={},this.xa=new Zs(d=>U1(d),Kh),this.Oa=new Map,this.Na=new Set,this.La=new ct(ve.comparator),this.Ba=new Map,this.ka=new Am,this.qa={},this.Qa=new Map,this.Ka=ga.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function Kb(n,e,t=!0){const i=Aw(n);let o;const a=i.xa.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Ca()):o=await Ew(i,e,t,!0),o}async function Gb(n,e){const t=Aw(n);await Ew(t,e,!0,!1)}async function Ew(n,e,t,i){const o=await fb(n.localStore,Or(e)),a=o.targetId,c=n.sharedClientState.addLocalQueryTarget(a,t);let d;return i&&(d=await Qb(n,e,a,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&fw(n.remoteStore,o),d}async function Qb(n,e,t,i,o){n.Ua=(T,I,x)=>async function(V,M,K,J){let W=M.view.ga(K);W.ss&&(W=await U0(V.localStore,M.query,!1).then(({documents:A})=>M.view.ga(A,W)));const B=J&&J.targetChanges.get(M.targetId),U=J&&J.targetMismatches.get(M.targetId)!=null,Q=M.view.applyChanges(W,V.isPrimaryClient,B,U);return K0(V,M.targetId,Q.ba),Q.snapshot}(n,T,I,x);const a=await U0(n.localStore,e,!0),c=new $b(e,a.ds),d=c.ga(a.documents),p=lu.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),y=c.applyChanges(d,n.isPrimaryClient,p);K0(n,t,y.ba);const w=new Wb(e,t,c);return n.xa.set(e,w),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),y.snapshot}async function Xb(n,e,t){const i=ke(n),o=i.xa.get(e),a=i.Oa.get(o.targetId);if(a.length>1)return i.Oa.set(o.targetId,a.filter(c=>!Kh(c,e))),void i.xa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Mp(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&Pm(i.remoteStore,o.targetId),Fp(i,o.targetId)}).catch(Ia)):(Fp(i,o.targetId),await Mp(i.localStore,o.targetId,!0))}async function Yb(n,e){const t=ke(n),i=t.xa.get(e),o=t.Oa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Pm(t.remoteStore,i.targetId))}async function Jb(n,e,t){const i=sx(n);try{const o=await function(c,d){const p=ke(c),y=Pt.now(),w=d.reduce((x,N)=>x.add(N.key),De());let T,I;return p.persistence.runTransaction("Locally write mutations","readwrite",x=>{let N=mi(),V=De();return p.hs.getEntries(x,w).next(M=>{N=M,N.forEach((K,J)=>{J.isValidDocument()||(V=V.add(K))})}).next(()=>p.localDocuments.getOverlayedDocuments(x,N)).next(M=>{T=M;const K=[];for(const J of d){const W=p2(J,T.get(J.key).overlayedDocument);W!=null&&K.push(new eo(J.key,W,x1(W.value.mapValue),ci.exists(!0)))}return p.mutationQueue.addMutationBatch(x,y,K,d)}).next(M=>{I=M;const K=M.applyToLocalDocumentSet(T,V);return p.documentOverlayCache.saveOverlays(x,M.batchId,K)})}).then(()=>({batchId:I.batchId,changes:B1(T)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(c,d,p){let y=c.qa[c.currentUser.toKey()];y||(y=new ct(Me)),y=y.insert(d,p),c.qa[c.currentUser.toKey()]=y}(i,o.batchId,t),await cu(i,o.changes),await ed(i.remoteStore)}catch(o){const a=Dm(o,"Failed to persist write");t.reject(a)}}async function Tw(n,e){const t=ke(n);try{const i=await cb(t.localStore,e);e.targetChanges.forEach((o,a)=>{const c=t.Ba.get(a);c&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.Fa=!0:o.modifiedDocuments.size>0?Ge(c.Fa):o.removedDocuments.size>0&&(Ge(c.Fa),c.Fa=!1))}),await cu(t,i,e)}catch(i){await Ia(i)}}function q0(n,e,t){const i=ke(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.xa.forEach((a,c)=>{const d=c.view.ea(e);d.snapshot&&o.push(d.snapshot)}),function(c,d){const p=ke(c);p.onlineState=d;let y=!1;p.queries.forEach((w,T)=>{for(const I of T.J_)I.ea(d)&&(y=!0)}),y&&Vm(p)}(i.eventManager,e),o.length&&i.Ma.R_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function Zb(n,e,t){const i=ke(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Ba.get(e),a=o&&o.key;if(a){let c=new ct(ve.comparator);c=c.insert(a,en.newNoDocument(a,Re.min()));const d=De().add(a),p=new Yh(Re.min(),new Map,new ct(Me),c,d);await Tw(i,p),i.La=i.La.remove(a),i.Ba.delete(e),Mm(i)}else await Mp(i.localStore,e,!1).then(()=>Fp(i,e,t)).catch(Ia)}async function ex(n,e){const t=ke(n),i=e.batch.batchId;try{const o=await ub(t.localStore,e);Iw(t,i,null),Sw(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await cu(t,o)}catch(o){await Ia(o)}}async function tx(n,e,t){const i=ke(n);try{const o=await function(c,d){const p=ke(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let w;return p.mutationQueue.lookupMutationBatch(y,d).next(T=>(Ge(T!==null),w=T.keys(),p.mutationQueue.removeMutationBatch(y,T))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,w,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,w)).next(()=>p.localDocuments.getDocuments(y,w))})}(i.localStore,e);Iw(i,e,t),Sw(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await cu(i,o)}catch(o){await Ia(o)}}function Sw(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function Iw(n,e,t){const i=ke(n);let o=i.qa[i.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),i.qa[i.currentUser.toKey()]=o}}function Fp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Oa.get(e))n.xa.delete(i),t&&n.Ma.Wa(i,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(i=>{n.ka.containsKey(i)||Cw(n,i)})}function Cw(n,e){n.Na.delete(e.path.canonicalString());const t=n.La.get(e);t!==null&&(Pm(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),Mm(n))}function K0(n,e,t){for(const i of t)i instanceof _w?(n.ka.addReference(i.key,e),nx(n,i)):i instanceof ww?(ce("SyncEngine","Document no longer in limbo: "+i.key),n.ka.removeReference(i.key,e),n.ka.containsKey(i.key)||Cw(n,i.key)):Ie()}function nx(n,e){const t=e.key,i=t.path.canonicalString();n.La.get(t)||n.Na.has(i)||(ce("SyncEngine","New document in limbo: "+t),n.Na.add(i),Mm(n))}function Mm(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new ve(it.fromString(e)),i=n.Ka.next();n.Ba.set(i,new Hb(t)),n.La=n.La.insert(t,i),fw(n.remoteStore,new Gi(Or(Em(t.path)),i,"TargetPurposeLimboResolution",Wh.oe))}}async function cu(n,e,t){const i=ke(n),o=[],a=[],c=[];i.xa.isEmpty()||(i.xa.forEach((d,p)=>{c.push(i.Ua(p,e,t).then(y=>{var w;if((y||t)&&i.isPrimaryClient){const T=y?!y.fromCache:(w=t==null?void 0:t.targetChanges.get(p.targetId))===null||w===void 0?void 0:w.current;i.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(y){o.push(y);const T=km.zi(p.targetId,y);a.push(T)}}))}),await Promise.all(c),i.Ma.R_(o),await async function(p,y){const w=ke(p);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>Z.forEach(y,I=>Z.forEach(I.Wi,x=>w.persistence.referenceDelegate.addReference(T,I.targetId,x)).next(()=>Z.forEach(I.Gi,x=>w.persistence.referenceDelegate.removeReference(T,I.targetId,x)))))}catch(T){if(!Ca(T))throw T;ce("LocalStore","Failed to update sequence numbers: "+T)}for(const T of y){const I=T.targetId;if(!T.fromCache){const x=w.us.get(I),N=x.snapshotVersion,V=x.withLastLimboFreeSnapshotVersion(N);w.us=w.us.insert(I,V)}}}(i.localStore,a))}async function rx(n,e){const t=ke(n);if(!t.currentUser.isEqual(e)){ce("SyncEngine","User change. New user:",e.toKey());const i=await uw(t.localStore,e);t.currentUser=e,function(a,c){a.Qa.forEach(d=>{d.forEach(p=>{p.reject(new fe(ee.CANCELLED,c))})}),a.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await cu(t,i.Ts)}}function ix(n,e){const t=ke(n),i=t.Ba.get(e);if(i&&i.Fa)return De().add(i.key);{let o=De();const a=t.Oa.get(e);if(!a)return o;for(const c of a){const d=t.xa.get(c);o=o.unionWith(d.view.fa)}return o}}function Aw(n){const e=ke(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Tw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ix.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Zb.bind(null,e),e.Ma.R_=zb.bind(null,e.eventManager),e.Ma.Wa=jb.bind(null,e.eventManager),e}function sx(n){const e=ke(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ex.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tx.bind(null,e),e}class gh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Jh(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return lb(this.persistence,new ob,e.initialUser,this.serializer)}ja(e){return new lw(Rm.ei,this.serializer)}za(e){return new mb}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gh.provider={build:()=>new gh};class ox extends gh{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){Ge(this.persistence.referenceDelegate instanceof ph);const i=this.persistence.referenceDelegate.garbageCollector;return new H2(i,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new lw(i=>ph.ei(i,t),this.serializer)}}class Up{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>q0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=rx.bind(null,this.syncEngine),await Vb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Lb}()}createDatastore(e){const t=Jh(e.databaseInfo.databaseId),i=function(a){return new _b(a)}(e.databaseInfo);return function(a,c,d,p){return new Tb(a,c,d,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,a,c,d){return new Ib(i,o,a,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>q0(this.syncEngine,t,0),function(){return j0.p()?new j0:new gb}())}createSyncEngine(e,t){return function(o,a,c,d,p,y,w){const T=new qb(o,a,c,d,p,y);return w&&(T.$a=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const a=ke(o);ce("RemoteStore","RemoteStore shutting down."),a.k_.add(5),await uu(a),a.Q_.shutdown(),a.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Up.provider={build:()=>new Up};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):pi("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e,t,i,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=Jt.UNAUTHENTICATED,this.clientId=k1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async c=>{ce("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(ce("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ws;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Dm(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function op(n,e){n.asyncQueue.verifyOperationInProgress(),ce("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await uw(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function G0(n,e){n.asyncQueue.verifyOperationInProgress();const t=await ux(n);ce("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>B0(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>B0(e.remoteStore,o)),n._onlineComponents=e}async function ux(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ce("FirestoreClient","Using user provided OfflineComponentProvider");try{await op(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;da("Error using user provided cache. Falling back to memory cache: "+t),await op(n,new gh)}}else ce("FirestoreClient","Using default OfflineComponentProvider"),await op(n,new ox(void 0));return n._offlineComponents}async function Rw(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ce("FirestoreClient","Using user provided OnlineComponentProvider"),await G0(n,n._uninitializedComponentsProvider._online)):(ce("FirestoreClient","Using default OnlineComponentProvider"),await G0(n,new Up))),n._onlineComponents}function cx(n){return Rw(n).then(e=>e.syncEngine)}async function Q0(n){const e=await Rw(n),t=e.eventManager;return t.onListen=Kb.bind(null,e.syncEngine),t.onUnlisten=Xb.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Gb.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Yb.bind(null,e.syncEngine),t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kw(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(n,e,t){if(!t)throw new fe(ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function hx(n,e,t,i){if(e===!0&&i===!0)throw new fe(ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Y0(n){if(!ve.isDocumentKey(n))throw new fe(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function J0(n){if(ve.isDocumentKey(n))throw new fe(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function td(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ie()}function Vl(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new fe(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=td(n);throw new fe(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new fe(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kw((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new fe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new fe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new fe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nd{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Z0({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Z0(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new wP;switch(i.type){case"firstParty":return new IP(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new fe(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=X0.get(t);i&&(ce("ComponentProvider","Removing Datastore"),X0.delete(t),i.terminate())}(this),Promise.resolve()}}function dx(n,e,t,i={}){var o;const a=(n=Vl(n,nd))._getSettings(),c=`${e}:${t}`;if(a.host!=="firestore.googleapis.com"&&a.host!==c&&da("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:c,ssl:!1})),i.mockUserToken){let d,p;if(typeof i.mockUserToken=="string")d=i.mockUserToken,p=Jt.MOCK_USER;else{d=XR(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new fe(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Jt(y)}n._authCredentials=new EP(new R1(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new no(this.firestore,e,this._query)}}class Pn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ji(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pn(this.firestore,e,this._key)}}class Ji extends no{constructor(e,t,i){super(e,t,Em(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pn(this.firestore,null,new ve(e))}withConverter(e){return new Ji(this.firestore,e,this._path)}}function rd(n,e,...t){if(n=bn(n),Pw("collection","path",e),n instanceof nd){const i=it.fromString(e,...t);return J0(i),new Ji(n,null,i)}{if(!(n instanceof Pn||n instanceof Ji))throw new fe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(it.fromString(e,...t));return J0(i),new Ji(n.firestore,null,i)}}function fx(n,e,...t){if(n=bn(n),arguments.length===1&&(e=k1.newId()),Pw("doc","path",e),n instanceof nd){const i=it.fromString(e,...t);return Y0(i),new Pn(n,null,new ve(i))}{if(!(n instanceof Pn||n instanceof Ji))throw new fe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(it.fromString(e,...t));return Y0(i),new Pn(n.firestore,n instanceof Ji?n.converter:null,new ve(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new hw(this,"async_queue_retry"),this.fu=()=>{const i=sp();i&&ce("AsyncQueue","Visibility state changed to "+i.visibilityState),this.r_.Jo()},this.gu=e;const t=sp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=sp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new Ws;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Ca(e))throw e;ce("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(i=>{this.Au=i,this.Ru=!1;const o=function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d}(i);throw pi("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.Ru=!1,i))));return this.gu=t,t}enqueueAfterDelay(e,t,i){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=Om.createAndSchedule(this,e,t,i,a=>this.Su(a));return this.du.push(o),o}pu(){this.Au&&Ie()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}function t_(n){return function(t,i){if(typeof t!="object"||t===null)return!1;const o=t;for(const a of i)if(a in o&&typeof o[a]=="function")return!0;return!1}(n,["next","error","complete"])}class yh extends nd{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new e_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new e_(e),this._firestoreClient=void 0,await e}}}function px(n,e){const t=typeof n=="object"?n:v1(),i=typeof n=="string"?n:"(default)",o=mm(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=GR("firestore");a&&dx(o,...a)}return o}function bw(n){if(n._terminated)throw new fe(ee.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||mx(n),n._firestoreClient}function mx(n){var e,t,i;const o=n._freezeSettings(),a=function(d,p,y,w){return new UP(d,p,y,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,kw(w.experimentalLongPollingOptions),w.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new lx(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e){this._byteString=e}static fromBase64String(e){try{return new va(Ht.fromBase64String(e))}catch(t){throw new fe(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new va(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new fe(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fe(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fe(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx=/^__.*__$/;class yx{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new eo(e,this.data,this.fieldMask,t,this.fieldTransforms):new au(e,this.data,t,this.fieldTransforms)}}function xw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie()}}class jm{constructor(e,t,i,o,a,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this.Fu(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new jm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Lu(e),o}Bu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return vh(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(xw(this.Mu)&&gx.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class vx{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Jh(e)}$u(e,t,i,o=!1){return new jm({Mu:e,methodName:t,Ku:i,path:Wt.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nw(n){const e=n._freezeSettings(),t=Jh(n._databaseId);return new vx(n._databaseId,!!e.ignoreUndefinedProperties,t)}function _x(n,e,t,i,o,a={}){const c=n.$u(a.merge||a.mergeFields?2:0,e,t,o);Vw("Data must be an object, but it was:",c,i);const d=Ow(i,c);let p,y;if(a.merge)p=new fr(c.fieldMask),y=c.fieldTransforms;else if(a.mergeFields){const w=[];for(const T of a.mergeFields){const I=Ex(e,T,t);if(!c.contains(I))throw new fe(ee.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);Sx(w,I)||w.push(I)}p=new fr(w),y=c.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,y=c.fieldTransforms;return new yx(new Kn(d),p,y)}class Bm extends Fm{_toFieldTransform(e){return new c2(e.path,new Kl)}isEqual(e){return e instanceof Bm}}function wx(n,e,t,i=!1){return $m(t,n.$u(i?4:3,e))}function $m(n,e){if(Dw(n=bn(n)))return Vw("Unsupported field value:",e,n),Ow(n,e);if(n instanceof Fm)return function(i,o){if(!xw(o.Mu))throw o.qu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(i,o){const a=[];let c=0;for(const d of i){let p=$m(d,o.ku(c));p==null&&(p={nullValue:"NULL_VALUE"}),a.push(p),c++}return{arrayValue:{values:a}}}(n,e)}return function(i,o){if((i=bn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return a2(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=Pt.fromDate(i);return{timestampValue:fh(o.serializer,a)}}if(i instanceof Pt){const a=new Pt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:fh(o.serializer,a)}}if(i instanceof Um)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof va)return{bytesValue:tw(o.serializer,i._byteString)};if(i instanceof Pn){const a=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(a))throw o.qu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Cm(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof zm)return function(c,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw d.qu("VectorValues must only contain numeric values.");return Tm(d.serializer,p)})}}}}}}(i,o);throw o.qu(`Unsupported field value: ${td(i)}`)}(n,e)}function Ow(n,e){const t={};return P1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Js(n,(i,o)=>{const a=$m(o,e.Ou(i));a!=null&&(t[i]=a)}),{mapValue:{fields:t}}}function Dw(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Pt||n instanceof Um||n instanceof va||n instanceof Pn||n instanceof Fm||n instanceof zm)}function Vw(n,e,t){if(!Dw(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=td(t);throw i==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+i)}}function Ex(n,e,t){if((e=bn(e))instanceof Lm)return e._internalPath;if(typeof e=="string")return Mw(n,e);throw vh("Field path arguments must be of type string or ",n,!1,void 0,t)}const Tx=new RegExp("[~\\*/\\[\\]]");function Mw(n,e,t){if(e.search(Tx)>=0)throw vh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Lm(...e.split("."))._internalPath}catch{throw vh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function vh(n,e,t,i,o){const a=i&&!i.isEmpty(),c=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(a||c)&&(p+=" (found",a&&(p+=` in field ${i}`),c&&(p+=` in document ${o}`),p+=")"),new fe(ee.INVALID_ARGUMENT,d+n+p)}function Sx(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e,t,i,o,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Ix(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Wm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Ix extends Lw{data(){return super.data()}}function Wm(n,e){return typeof e=="string"?Mw(n,e):e instanceof Lm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cx(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new fe(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hm{}class Fw extends Hm{}function Uw(n,e,...t){let i=[];e instanceof Hm&&i.push(e),i=i.concat(t),function(a){const c=a.filter(p=>p instanceof Km).length,d=a.filter(p=>p instanceof qm).length;if(c>1||c>0&&d>0)throw new fe(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)n=o._apply(n);return n}class qm extends Fw{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new qm(e,t,i)}_apply(e){const t=this._parse(e);return zw(e._query,t),new no(e.firestore,e.converter,bp(e._query,t))}_parse(e){const t=Nw(e.firestore);return function(a,c,d,p,y,w,T){let I;if(y.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new fe(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){r_(T,w);const x=[];for(const N of T)x.push(n_(p,a,N));I={arrayValue:{values:x}}}else I=n_(p,a,T)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||r_(T,w),I=wx(d,c,T,w==="in"||w==="not-in");return Ct.create(y,w,I)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Km extends Hm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Km(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:mr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,a){let c=o;const d=a.getFlattenedFilters();for(const p of d)zw(c,p),c=bp(c,p)}(e._query,t),new no(e.firestore,e.converter,bp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Gm extends Fw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Gm(e,t)}_apply(e){const t=function(o,a,c){if(o.startAt!==null)throw new fe(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new fe(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ql(a,c)}(e._query,this._field,this._direction);return new no(e.firestore,e.converter,function(o,a){const c=o.explicitOrderBy.concat([a]);return new Aa(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function Ax(n,e="asc"){const t=e,i=Wm("orderBy",n);return Gm._create(i,t)}function n_(n,e,t){if(typeof(t=bn(t))=="string"){if(t==="")throw new fe(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!F1(e)&&t.indexOf("/")!==-1)throw new fe(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(it.fromString(t));if(!ve.isDocumentKey(i))throw new fe(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return E0(n,new ve(i))}if(t instanceof Pn)return E0(n,t._key);throw new fe(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${td(t)}.`)}function r_(n,e){if(!Array.isArray(n)||n.length===0)throw new fe(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zw(n,e){const t=function(o,a){for(const c of o)for(const d of c.getFlattenedFilters())if(a.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new fe(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Rx{convertValue(e,t="none"){switch(is(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(rs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Js(e,(o,a)=>{i[o]=this.convertValue(a,t)}),i}convertVectorValue(e){var t,i,o;const a=(o=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(c=>yt(c.doubleValue));return new zm(a)}convertGeoPoint(e){return new Um(yt(e.latitude),yt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=qh(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp($l(e));default:return null}}convertTimestamp(e){const t=ns(e);return new Pt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=it.fromString(e);Ge(aw(i));const o=new Wl(i.get(1),i.get(3)),a=new ve(i.popFirst(5));return o.isEqual(t)||pi(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class jw extends Lw{constructor(e,t,i,o,a,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Wm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Qc extends jw{data(e={}){return super.data(e)}}class Px{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new kl(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Qc(this._firestore,this._userDataWriter,i.key,i,new kl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fe(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(d=>{const p=new Qc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new kl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>a||d.type!==3).map(d=>{const p=new Qc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new kl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,w=-1;return d.type!==0&&(y=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),w=c.indexOf(d.doc.key)),{type:bx(d.type),doc:p,oldIndex:y,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function bx(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie()}}class Bw extends Rx{constructor(e){super(),this.firestore=e}convertBytes(e){return new va(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Pn(this.firestore,null,t)}}function $w(n,e){const t=Vl(n.firestore,yh),i=fx(n),o=kx(n.converter,e);return xx(t,[_x(Nw(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,ci.exists(!1))]).then(()=>i)}function Ww(n,...e){var t,i,o;n=bn(n);let a={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||t_(e[c])||(a=e[c],c++);const d={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(t_(e[c])){const T=e[c];e[c]=(t=T.next)===null||t===void 0?void 0:t.bind(T),e[c+1]=(i=T.error)===null||i===void 0?void 0:i.bind(T),e[c+2]=(o=T.complete)===null||o===void 0?void 0:o.bind(T)}let p,y,w;if(n instanceof Pn)y=Vl(n.firestore,yh),w=Em(n._key.path),p={next:T=>{e[c]&&e[c](Nx(y,n,T))},error:e[c+1],complete:e[c+2]};else{const T=Vl(n,no);y=Vl(T.firestore,yh),w=T._query;const I=new Bw(y);p={next:x=>{e[c]&&e[c](new Px(y,I,T,x))},error:e[c+1],complete:e[c+2]},Cx(n._query)}return function(I,x,N,V){const M=new ax(V),K=new Bb(x,M,N);return I.asyncQueue.enqueueAndForget(async()=>Fb(await Q0(I),K)),()=>{M.eu(),I.asyncQueue.enqueueAndForget(async()=>Ub(await Q0(I),K))}}(bw(y),w,d,p)}function xx(n,e){return function(i,o){const a=new Ws;return i.asyncQueue.enqueueAndForget(async()=>Jb(await cx(i),o,a)),a.promise}(bw(n),e)}function Nx(n,e,t){const i=t.docs.get(e._key),o=new Bw(n);return new jw(n,o,e._key,i,new kl(t.hasPendingWrites,t.fromCache),e.converter)}function Ox(){return new Bm("serverTimestamp")}(function(e,t=!0){(function(o){Sa=o})(Ta),ha(new Ks("firestore",(i,{instanceIdentifier:o,options:a})=>{const c=i.getProvider("app").getImmediate(),d=new yh(new TP(i.getProvider("auth-internal")),new AP(i.getProvider("app-check-internal")),function(y,w){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new fe(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wl(y.options.projectId,w)}(c,o),c);return a=Object.assign({useFetchStreams:t},a),d._setSettings(a),d},"PUBLIC").setMultipleInstances(!0)),Yi(m0,"4.7.5",e),Yi(m0,"4.7.5","esm2017")})();var Dx="firebase",Vx="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yi(Dx,Vx,"app");function Qm(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function Hw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Mx=Hw,qw=new su("auth","Firebase",Hw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h=new fm("@firebase/auth");function Lx(n,...e){_h.logLevel<=Oe.WARN&&_h.warn(`Auth (${Ta}): ${n}`,...e)}function Xc(n,...e){_h.logLevel<=Oe.ERROR&&_h.error(`Auth (${Ta}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(n,...e){throw Ym(n,...e)}function pr(n,...e){return Ym(n,...e)}function Xm(n,e,t){const i=Object.assign(Object.assign({},Mx()),{[e]:t});return new su("auth","Firebase",i).create(e,{appName:n.name})}function Hs(n){return Xm(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Fx(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&Lr(n,"argument-error"),Xm(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ym(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return qw.create(n,...e)}function Ae(n,e,...t){if(!n)throw Ym(e,...t)}function ai(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Xc(e),new Error(e)}function gi(n,e){n||ai(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Ux(){return i_()==="http:"||i_()==="https:"}function i_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ux()||ek()||"connection"in navigator)?navigator.onLine:!0}function jx(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,t){this.shortDelay=e,this.longDelay=t,gi(t>e,"Short delay should be less than long delay!"),this.isMobile=YR()||tk()}get(){return zx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(n,e){gi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ai("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ai("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ai("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x=new hu(3e4,6e4);function Zm(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ka(n,e,t,i,o={}){return Gw(n,o,async()=>{let a={},c={};i&&(e==="GET"?c=i:a={body:JSON.stringify(i)});const d=ou(Object.assign({key:n.config.apiKey},c)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const y=Object.assign({method:e,headers:p},a);return ZR()||(y.referrerPolicy="no-referrer"),Kw.fetch()(Qw(n,n.config.apiHost,t,d),y)})}async function Gw(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},Bx),e);try{const o=new Hx(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw Fc(n,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const d=a.ok?c.errorMessage:c.error.message,[p,y]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fc(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Fc(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw Fc(n,"user-disabled",c);const w=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Xm(n,w,y);Lr(n,w)}}catch(o){if(o instanceof vi)throw o;Lr(n,"network-request-failed",{message:String(o)})}}async function Wx(n,e,t,i,o={}){const a=await ka(n,e,t,i,o);return"mfaPendingCredential"in a&&Lr(n,"multi-factor-auth-required",{_serverResponse:a}),a}function Qw(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?Jm(n.config,o):`${n.config.apiScheme}://${o}`}class Hx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(pr(this.auth,"network-request-failed")),$x.get())})}}function Fc(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=pr(n,e,i);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qx(n,e){return ka(n,"POST","/v1/accounts:delete",e)}async function Xw(n,e){return ka(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Kx(n,e=!1){const t=bn(n),i=await t.getIdToken(e),o=eg(i);Ae(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,c=a==null?void 0:a.sign_in_provider;return{claims:o,token:i,authTime:Ml(ap(o.auth_time)),issuedAtTime:Ml(ap(o.iat)),expirationTime:Ml(ap(o.exp)),signInProvider:c||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function ap(n){return Number(n)*1e3}function eg(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Xc("JWT malformed, contained fewer than 3 sections"),null;try{const o=h1(t);return o?JSON.parse(o):(Xc("Failed to decode base64 JWT payload"),null)}catch(o){return Xc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function s_(n){const e=eg(n);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xl(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof vi&&Gx(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function Gx({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ml(this.lastLoginAt),this.creationTime=Ml(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wh(n){var e;const t=n.auth,i=await n.getIdToken(),o=await Xl(n,Xw(t,{idToken:i}));Ae(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const c=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?Yw(a.providerUserInfo):[],d=Yx(n.providerData,c),p=n.isAnonymous,y=!(n.email&&a.passwordHash)&&!(d!=null&&d.length),w=p?y:!1,T={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new jp(a.createdAt,a.lastLoginAt),isAnonymous:w};Object.assign(n,T)}async function Xx(n){const e=bn(n);await wh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Yx(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function Yw(n){return n.map(e=>{var{providerId:t}=e,i=Qm(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jx(n,e){const t=await Gw(n,{},async()=>{const i=ou({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,c=Qw(n,o,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",Kw.fetch()(c,{method:"POST",headers:d,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Zx(n,e){return ka(n,"POST","/v2/accounts:revokeToken",Zm(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):s_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const t=s_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:a}=await Jx(e,t);this.updateTokensAndExpiration(i,o,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:a}=t,c=new oa;return i&&(Ae(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),o&&(Ae(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),a&&(Ae(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new oa,this.toJSON())}_performRefresh(){return ai("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(n,e){Ae(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class li{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,a=Qm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Qx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new jp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Xl(this,this.stsTokenManager.getToken(this.auth,e));return Ae(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Kx(this,e)}reload(){return Xx(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new li(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await wh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(oi(this.auth.app))return Promise.reject(Hs(this.auth));const e=await this.getIdToken();return await Xl(this,qx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,a,c,d,p,y,w;const T=(i=t.displayName)!==null&&i!==void 0?i:void 0,I=(o=t.email)!==null&&o!==void 0?o:void 0,x=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,N=(c=t.photoURL)!==null&&c!==void 0?c:void 0,V=(d=t.tenantId)!==null&&d!==void 0?d:void 0,M=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,K=(y=t.createdAt)!==null&&y!==void 0?y:void 0,J=(w=t.lastLoginAt)!==null&&w!==void 0?w:void 0,{uid:W,emailVerified:B,isAnonymous:U,providerData:Q,stsTokenManager:A}=t;Ae(W&&A,e,"internal-error");const C=oa.fromJSON(this.name,A);Ae(typeof W=="string",e,"internal-error"),Wi(T,e.name),Wi(I,e.name),Ae(typeof B=="boolean",e,"internal-error"),Ae(typeof U=="boolean",e,"internal-error"),Wi(x,e.name),Wi(N,e.name),Wi(V,e.name),Wi(M,e.name),Wi(K,e.name),Wi(J,e.name);const k=new li({uid:W,auth:e,email:I,emailVerified:B,displayName:T,isAnonymous:U,photoURL:N,phoneNumber:x,tenantId:V,stsTokenManager:C,createdAt:K,lastLoginAt:J});return Q&&Array.isArray(Q)&&(k.providerData=Q.map(_=>Object.assign({},_))),M&&(k._redirectEventId=M),k}static async _fromIdTokenResponse(e,t,i=!1){const o=new oa;o.updateFromServerResponse(t);const a=new li({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await wh(a),a}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Ae(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?Yw(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),d=new oa;d.updateFromIdToken(i);const p=new li({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:c}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new jp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_=new Map;function ui(n){gi(n instanceof Function,"Expected a class definition");let e=o_.get(n);return e?(gi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,o_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Jw.type="NONE";const a_=Jw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(n,e,t){return`firebase:${n}:${e}:${t}`}class aa{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:a}=this.auth;this.fullUserKey=Yc(this.userKey,o.apiKey,a),this.fullPersistenceKey=Yc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?li._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new aa(ui(a_),e,i);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let a=o[0]||ui(a_);const c=Yc(i,e.config.apiKey,e.name);let d=null;for(const y of t)try{const w=await y._get(c);if(w){const T=li._fromJSON(e,w);y!==a&&(d=T),a=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!a._shouldAllowMigration||!p.length?new aa(a,e,i):(a=p[0],d&&await a._set(c,d.toJSON()),await Promise.all(t.map(async y=>{if(y!==a)try{await y._remove(c)}catch{}})),new aa(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Zw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iE(e))return"Blackberry";if(sE(e))return"Webos";if(eE(e))return"Safari";if((e.includes("chrome/")||tE(e))&&!e.includes("edge/"))return"Chrome";if(rE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Zw(n=tn()){return/firefox\//i.test(n)}function eE(n=tn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tE(n=tn()){return/crios\//i.test(n)}function nE(n=tn()){return/iemobile/i.test(n)}function rE(n=tn()){return/android/i.test(n)}function iE(n=tn()){return/blackberry/i.test(n)}function sE(n=tn()){return/webos/i.test(n)}function tg(n=tn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function eN(n=tn()){var e;return tg(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function tN(){return nk()&&document.documentMode===10}function oE(n=tn()){return tg(n)||rE(n)||sE(n)||iE(n)||/windows phone/i.test(n)||nE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(n,e=[]){let t;switch(n){case"Browser":t=l_(tn());break;case"Worker":t=`${l_(tn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ta}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((c,d)=>{try{const p=e(a);c(p)}catch(p){d(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rN(n,e={}){return ka(n,"GET","/v2/passwordPolicy",Zm(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=6;class sN{constructor(e){var t,i,o,a;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:iN,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,a,c,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(a=p.containsUppercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new u_(this),this.idTokenSubscription=new u_(this),this.beforeStateQueue=new nN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ui(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await aa.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Xw(this,{idToken:e}),i=await li._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(oi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&(p!=null&&p.user)&&(o=p.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await wh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=jx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(oi(this.app))return Promise.reject(Hs(this));const t=e?bn(e):null;return t&&Ae(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return oi(this.app)?Promise.reject(Hs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return oi(this.app)?Promise.reject(Hs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ui(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await rN(this),t=new sN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new su("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await Zx(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ui(e)||this._popupRedirectResolver;Ae(t,this,"argument-error"),this.redirectPersistenceManager=await aa.create(this,[ui(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(d,this,"internal-error"),d.then(()=>{c||a(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&Lx(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function id(n){return bn(n)}class u_{constructor(e){this.auth=e,this.observer=null,this.addObserver=ck(t=>this.observer=t)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ng={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aN(n){ng=n}function lN(n){return ng.loadJS(n)}function uN(){return ng.gapiScript}function cN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(n,e){const t=mm(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(lh(a,e??{}))return o;Lr(o,"already-initialized")}return t.initialize({options:e})}function dN(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(ui);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function fN(n,e,t){const i=id(n);Ae(i._canInitEmulator,i,"emulator-config-failed"),Ae(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,a=lE(e),{host:c,port:d}=pN(e),p=d===null?"":`:${d}`;i.config.emulator={url:`${a}//${c}${p}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:c,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})}),mN()}function lE(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function pN(n){const e=lE(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const a=o[1];return{host:a,port:c_(i.substr(a.length+1))}}else{const[a,c]=i.split(":");return{host:a,port:c_(c)}}}function c_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function mN(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ai("not implemented")}_getIdTokenResponse(e){return ai("not implemented")}_linkToIdToken(e,t){return ai("not implemented")}_getReauthenticationResolver(e){return ai("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function la(n,e){return Wx(n,"POST","/v1/accounts:signInWithIdp",Zm(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN="http://localhost";class Qs extends uE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Qs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Lr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,a=Qm(t,["providerId","signInMethod"]);if(!i||!o)return null;const c=new Qs(i,o);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return la(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,la(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,la(e,t)}buildRequest(){const e={requestUri:gN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ou(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du extends rg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends du{constructor(){super("facebook.com")}static credential(e){return Qs._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hi.credential(e.oauthAccessToken)}catch{return null}}}Hi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si extends du{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Qs._fromParams({providerId:si.PROVIDER_ID,signInMethod:si.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return si.credentialFromTaggedObject(e)}static credentialFromError(e){return si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return si.credential(t,i)}catch{return null}}}si.GOOGLE_SIGN_IN_METHOD="google.com";si.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends du{constructor(){super("github.com")}static credential(e){return Qs._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qi.credential(e.oauthAccessToken)}catch{return null}}}qi.GITHUB_SIGN_IN_METHOD="github.com";qi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends du{constructor(){super("twitter.com")}static credential(e,t){return Qs._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Ki.credential(t,i)}catch{return null}}}Ki.TWITTER_SIGN_IN_METHOD="twitter.com";Ki.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const a=await li._fromIdTokenResponse(e,i,o),c=h_(i);return new _a({user:a,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=h_(i);return new _a({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function h_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh extends vi{constructor(e,t,i,o){var a;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Eh.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Eh(e,t,i,o)}}function cE(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Eh._fromErrorAndOperation(n,a,e,i):a})}async function yN(n,e,t=!1){const i=await Xl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return _a._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vN(n,e,t=!1){const{auth:i}=n;if(oi(i.app))return Promise.reject(Hs(i));const o="reauthenticate";try{const a=await Xl(n,cE(i,o,e,n),t);Ae(a.idToken,i,"internal-error");const c=eg(a.idToken);Ae(c,i,"internal-error");const{sub:d}=c;return Ae(n.uid===d,i,"user-mismatch"),_a._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Lr(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _N(n,e,t=!1){if(oi(n.app))return Promise.reject(Hs(n));const i="signIn",o=await cE(n,i,e),a=await _a._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(a.user),a}function wN(n,e,t,i){return bn(n).onIdTokenChanged(e,t,i)}function EN(n,e,t){return bn(n).beforeAuthStateChanged(e,t)}const Th="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Th,"1"),this.storage.removeItem(Th),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=1e3,SN=10;class dE extends hE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=oE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},a=this.storage.getItem(i);tN()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,SN):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},TN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}dE.type="LOCAL";const IN=dE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE extends hE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}fE.type="SESSION";const pE=fE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new sd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:a}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const d=Array.from(c).map(async y=>y(t.origin,a)),p=await CN(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,c;return new Promise((d,p)=>{const y=ig("",20);o.port1.start();const w=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(T){const I=T;if(I.data.eventId===y)switch(I.data.status){case"ack":clearTimeout(w),a=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(I.data.response);break;default:clearTimeout(w),clearTimeout(a),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(){return window}function RN(n){Vr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(){return typeof Vr().WorkerGlobalScope<"u"&&typeof Vr().importScripts=="function"}async function kN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function PN(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function bN(){return mE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE="firebaseLocalStorageDb",xN=1,Sh="firebaseLocalStorage",yE="fbase_key";class fu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function od(n,e){return n.transaction([Sh],e?"readwrite":"readonly").objectStore(Sh)}function NN(){const n=indexedDB.deleteDatabase(gE);return new fu(n).toPromise()}function Bp(){const n=indexedDB.open(gE,xN);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Sh,{keyPath:yE})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Sh)?e(i):(i.close(),await NN(),e(await Bp()))})})}async function d_(n,e,t){const i=od(n,!0).put({[yE]:e,value:t});return new fu(i).toPromise()}async function ON(n,e){const t=od(n,!1).get(e),i=await new fu(t).toPromise();return i===void 0?null:i.value}function f_(n,e){const t=od(n,!0).delete(e);return new fu(t).toPromise()}const DN=800,VN=3;class vE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Bp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>VN)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sd._getInstance(bN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await kN(),!this.activeServiceWorker)return;this.sender=new AN(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||PN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Bp();return await d_(e,Th,"1"),await f_(e,Th),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>d_(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>ON(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>f_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=od(o,!1).getAll();return new fu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}vE.type="LOCAL";const MN=vE;new hu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(n,e){return e?ui(e):(Ae(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg extends uE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return la(e,this._buildIdpRequest())}_linkToIdToken(e,t){return la(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return la(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function LN(n){return _N(n.auth,new sg(n),n.bypassAuthState)}function FN(n){const{auth:e,user:t}=n;return Ae(t,e,"internal-error"),vN(t,new sg(n),n.bypassAuthState)}async function UN(n){const{auth:e,user:t}=n;return Ae(t,e,"internal-error"),yN(t,new sg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(e,t,i,o,a=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:a,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return LN;case"linkViaPopup":case"linkViaRedirect":return UN;case"reauthViaPopup":case"reauthViaRedirect":return FN;default:Lr(this.auth,"internal-error")}}resolve(e){gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN=new hu(2e3,1e4);async function jN(n,e,t){if(oi(n.app))return Promise.reject(pr(n,"operation-not-supported-in-this-environment"));const i=id(n);Fx(n,e,rg);const o=_E(i,t);return new Bs(i,"signInViaPopup",e,o).executeNotNull()}class Bs extends wE{constructor(e,t,i,o,a){super(e,t,o,a),this.provider=i,this.authWindow=null,this.pollId=null,Bs.currentPopupAction&&Bs.currentPopupAction.cancel(),Bs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){gi(this.filter.length===1,"Popup operations only handle one event");const e=ig();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(pr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(pr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zN.get())};e()}}Bs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN="pendingRedirect",Jc=new Map;class $N extends wE{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Jc.get(this.auth._key());if(!e){try{const i=await WN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Jc.set(this.auth._key(),e)}return this.bypassAuthState||Jc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function WN(n,e){const t=KN(e),i=qN(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function HN(n,e){Jc.set(n._key(),e)}function qN(n){return ui(n._redirectPersistence)}function KN(n){return Yc(BN,n.config.apiKey,n.name)}async function GN(n,e,t=!1){if(oi(n.app))return Promise.reject(Hs(n));const i=id(n),o=_E(i,e),c=await new $N(i,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN=10*60*1e3;class XN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!YN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!EE(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(pr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=QN&&this.cachedEventUids.clear(),this.cachedEventUids.has(p_(e))}saveEventToCache(e){this.cachedEventUids.add(p_(e)),this.lastProcessedEventTime=Date.now()}}function p_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function EE({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function YN(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return EE(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JN(n,e={}){return ka(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eO=/^https?/;async function tO(n){if(n.config.emulator)return;const{authorizedDomains:e}=await JN(n);for(const t of e)try{if(nO(t))return}catch{}Lr(n,"unauthorized-domain")}function nO(n){const e=zp(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!eO.test(t))return!1;if(ZN.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO=new hu(3e4,6e4);function m_(){const n=Vr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function iO(n){return new Promise((e,t)=>{var i,o,a;function c(){m_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{m_(),t(pr(n,"network-request-failed"))},timeout:rO.get()})}if(!((o=(i=Vr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=Vr().gapi)===null||a===void 0)&&a.load)c();else{const d=cN("iframefcb");return Vr()[d]=()=>{gapi.load?c():t(pr(n,"network-request-failed"))},lN(`${uN()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw Zc=null,e})}let Zc=null;function sO(n){return Zc=Zc||iO(n),Zc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO=new hu(5e3,15e3),aO="__/auth/iframe",lO="emulator/auth/iframe",uO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hO(n){const e=n.config;Ae(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Jm(e,lO):`https://${n.config.authDomain}/${aO}`,i={apiKey:e.apiKey,appName:n.name,v:Ta},o=cO.get(n.config.apiHost);o&&(i.eid=o);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${ou(i).slice(1)}`}async function dO(n){const e=await sO(n),t=Vr().gapi;return Ae(t,n,"internal-error"),e.open({where:document.body,url:hO(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uO,dontclear:!0},i=>new Promise(async(o,a)=>{await i.restyle({setHideOnLeave:!1});const c=pr(n,"network-request-failed"),d=Vr().setTimeout(()=>{a(c)},oO.get());function p(){Vr().clearTimeout(d),o(i)}i.ping(p).then(p,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pO=500,mO=600,gO="_blank",yO="http://localhost";class g_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vO(n,e,t,i=pO,o=mO){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p=Object.assign(Object.assign({},fO),{width:i.toString(),height:o.toString(),top:a,left:c}),y=tn().toLowerCase();t&&(d=tE(y)?gO:t),Zw(y)&&(e=e||yO,p.scrollbars="yes");const w=Object.entries(p).reduce((I,[x,N])=>`${I}${x}=${N},`,"");if(eN(y)&&d!=="_self")return _O(e||"",d),new g_(null);const T=window.open(e||"",d,w);Ae(T,n,"popup-blocked");try{T.focus()}catch{}return new g_(T)}function _O(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO="__/auth/handler",EO="emulator/auth/handler",TO=encodeURIComponent("fac");async function y_(n,e,t,i,o,a){Ae(n.config.authDomain,n,"auth-domain-config-required"),Ae(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Ta,eventId:o};if(e instanceof rg){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",uk(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,T]of Object.entries({}))c[w]=T}if(e instanceof du){const w=e.getScopes().filter(T=>T!=="");w.length>0&&(c.scopes=w.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const w of Object.keys(d))d[w]===void 0&&delete d[w];const p=await n._getAppCheckToken(),y=p?`#${TO}=${encodeURIComponent(p)}`:"";return`${SO(n)}?${ou(d).slice(1)}${y}`}function SO({config:n}){return n.emulator?Jm(n,EO):`https://${n.authDomain}/${wO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp="webStorageSupport";class IO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pE,this._completeRedirectFn=GN,this._overrideRedirectResult=HN}async _openPopup(e,t,i,o){var a;gi((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const c=await y_(e,t,i,zp(),o);return vO(e,c,ig())}async _openRedirect(e,t,i,o){await this._originValidation(e);const a=await y_(e,t,i,zp(),o);return RN(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(gi(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await dO(e),i=new XN(e);return t.register("authEvent",o=>(Ae(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(lp,{type:lp},o=>{var a;const c=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[lp];c!==void 0&&t(!!c),Lr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=tO(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return oE()||eE()||tg()}}const CO=IO;var v_="@firebase/auth",__="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kO(n){ha(new Ks("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Ae(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aE(n)},y=new oN(i,o,a,p);return dN(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),ha(new Ks("auth-internal",e=>{const t=id(e.getProvider("auth").getImmediate());return(i=>new AO(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yi(v_,__,RO(n)),Yi(v_,__,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO=5*60,bO=p1("authIdTokenMaxAge")||PO;let w_=null;const xO=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>bO)return;const o=t==null?void 0:t.token;w_!==o&&(w_=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function NO(n=v1()){const e=mm(n,"auth");if(e.isInitialized())return e.getImmediate();const t=hN(n,{popupRedirectResolver:CO,persistence:[MN,IN,pE]}),i=p1("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const c=xO(a.toString());EN(t,c,()=>c(t.currentUser)),wN(t,d=>c(d))}}const o=d1("auth");return o&&fN(t,`http://${o}`),t}function OO(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}aN({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const a=pr("internal-error");a.customData=o,t(a)},i.type="text/javascript",i.charset="UTF-8",OO().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});kO("Browser");const DO={apiKey:"AIzaSyBLY3uTzNc5VF43i4hnrP-l3wZdoO_Z_XA",authDomain:"discord-clone-a2db5.firebaseapp.com",projectId:"discord-clone-a2db5",storageBucket:"discord-clone-a2db5.firebasestorage.app",messagingSenderId:"1054705885049",appId:"1:1054705885049:web:d00947e06ffce6cf2219a8"},TE=y1(DO),ad=px(TE),og=NO(TE),VO=new si,MO=(n,e)=>{const t=na(a=>a.channel.channelId),[i,o]=ae.useState([]);return ae.useEffect(()=>{const a=rd(ad,n,String(t),e),c=Uw(a,Ax("timestamp","desc"));Ww(c,d=>{const p=[];d.docs.forEach(y=>{p.push({timestamp:y.data().timestamp,message:y.data().message,user:y.data().user})}),o(p)})},[t]),{subDocuments:i}},LO=()=>{const[n,e]=ae.useState(""),t=na(d=>d.channel.channelName),i=na(d=>d.channel.channelId),o=na(d=>d.user.user),{subDocuments:a}=MO("channels","messages"),c=async d=>{d.preventDefault();const p=rd(ad,"channels",String(i),"messages");n!==""?(await $w(p,{message:n,timestamp:Ox(),user:o}),e("")):alert("")};return X.jsxs("div",{className:"chat",children:[X.jsx(qA,{channelName:t}),X.jsx("div",{className:"chat__massage",children:a.map((d,p)=>X.jsx(zR,{message:d.message,timestamp:d.timestamp,user:d.user},p))}),X.jsxs("div",{className:"chat__input",children:[X.jsx(KA,{}),X.jsxs("form",{children:[X.jsx("input",{type:"text",placeholder:"",onChange:d=>e(d.target.value),value:n}),X.jsx("button",{type:"submit",className:"chat__input-button",onClick:d=>c(d)})]}),X.jsxs("div",{className:"chat__input-icons",children:[X.jsx(GA,{}),X.jsx(QA,{}),X.jsx(XA,{})]})]})]})};function FO(){const n=()=>{jN(og,VO).catch(e=>{alert(e.message)})};return X.jsxs("div",{className:"login",children:[X.jsx("div",{className:"login__logo",children:X.jsx("img",{src:"./discordIcon.png",alt:""})}),X.jsx(UR,{onClick:n,children:""})]})}const E_=nn(X.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),UO=nn(X.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add");function zt(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var zO=typeof Symbol=="function"&&Symbol.observable||"@@observable",T_=zO,up=()=>Math.random().toString(36).substring(7).split("").join("."),jO={INIT:`@@redux/INIT${up()}`,REPLACE:`@@redux/REPLACE${up()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${up()}`},Ih=jO;function ag(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function SE(n,e,t){if(typeof n!="function")throw new Error(zt(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(zt(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(zt(1));return t(SE)(n,e)}let i=n,o=e,a=new Map,c=a,d=0,p=!1;function y(){c===a&&(c=new Map,a.forEach((M,K)=>{c.set(K,M)}))}function w(){if(p)throw new Error(zt(3));return o}function T(M){if(typeof M!="function")throw new Error(zt(4));if(p)throw new Error(zt(5));let K=!0;y();const J=d++;return c.set(J,M),function(){if(K){if(p)throw new Error(zt(6));K=!1,y(),c.delete(J),a=null}}}function I(M){if(!ag(M))throw new Error(zt(7));if(typeof M.type>"u")throw new Error(zt(8));if(typeof M.type!="string")throw new Error(zt(17));if(p)throw new Error(zt(9));try{p=!0,o=i(o,M)}finally{p=!1}return(a=c).forEach(J=>{J()}),M}function x(M){if(typeof M!="function")throw new Error(zt(10));i=M,I({type:Ih.REPLACE})}function N(){const M=T;return{subscribe(K){if(typeof K!="object"||K===null)throw new Error(zt(11));function J(){const B=K;B.next&&B.next(w())}return J(),{unsubscribe:M(J)}},[T_](){return this}}}return I({type:Ih.INIT}),{dispatch:I,subscribe:T,getState:w,replaceReducer:x,[T_]:N}}function BO(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:Ih.INIT})>"u")throw new Error(zt(12));if(typeof t(void 0,{type:Ih.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(zt(13))})}function $O(n){const e=Object.keys(n),t={};for(let a=0;a<e.length;a++){const c=e[a];typeof n[c]=="function"&&(t[c]=n[c])}const i=Object.keys(t);let o;try{BO(t)}catch(a){o=a}return function(c={},d){if(o)throw o;let p=!1;const y={};for(let w=0;w<i.length;w++){const T=i[w],I=t[T],x=c[T],N=I(x,d);if(typeof N>"u")throw d&&d.type,new Error(zt(14));y[T]=N,p=p||N!==x}return p=p||i.length!==Object.keys(c).length,p?y:c}}function Ch(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...i)=>e(t(...i)))}function WO(...n){return e=>(t,i)=>{const o=e(t,i);let a=()=>{throw new Error(zt(15))};const c={getState:o.getState,dispatch:(p,...y)=>a(p,...y)},d=n.map(p=>p(c));return a=Ch(...d)(o.dispatch),{...o,dispatch:a}}}function HO(n){return ag(n)&&"type"in n&&typeof n.type=="string"}var IE=Symbol.for("immer-nothing"),S_=Symbol.for("immer-draftable"),xn=Symbol.for("immer-state");function dr(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var wa=Object.getPrototypeOf;function Xs(n){return!!n&&!!n[xn]}function yi(n){var e;return n?CE(n)||Array.isArray(n)||!!n[S_]||!!((e=n.constructor)!=null&&e[S_])||ud(n)||cd(n):!1}var qO=Object.prototype.constructor.toString();function CE(n){if(!n||typeof n!="object")return!1;const e=wa(n);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===qO}function Ah(n,e){ld(n)===0?Reflect.ownKeys(n).forEach(t=>{e(t,n[t],n)}):n.forEach((t,i)=>e(i,t,n))}function ld(n){const e=n[xn];return e?e.type_:Array.isArray(n)?1:ud(n)?2:cd(n)?3:0}function $p(n,e){return ld(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function AE(n,e,t){const i=ld(n);i===2?n.set(e,t):i===3?n.add(t):n[e]=t}function KO(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function ud(n){return n instanceof Map}function cd(n){return n instanceof Set}function Fs(n){return n.copy_||n.base_}function Wp(n,e){if(ud(n))return new Map(n);if(cd(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=CE(n);if(e===!0||e==="class_only"&&!t){const i=Object.getOwnPropertyDescriptors(n);delete i[xn];let o=Reflect.ownKeys(i);for(let a=0;a<o.length;a++){const c=o[a],d=i[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(i[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:n[c]})}return Object.create(wa(n),i)}else{const i=wa(n);if(i!==null&&t)return{...n};const o=Object.create(i);return Object.assign(o,n)}}function lg(n,e=!1){return hd(n)||Xs(n)||!yi(n)||(ld(n)>1&&(n.set=n.add=n.clear=n.delete=GO),Object.freeze(n),e&&Object.entries(n).forEach(([t,i])=>lg(i,!0))),n}function GO(){dr(2)}function hd(n){return Object.isFrozen(n)}var QO={};function Ys(n){const e=QO[n];return e||dr(0,n),e}var Yl;function RE(){return Yl}function XO(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function I_(n,e){e&&(Ys("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function Hp(n){qp(n),n.drafts_.forEach(YO),n.drafts_=null}function qp(n){n===Yl&&(Yl=n.parent_)}function C_(n){return Yl=XO(Yl,n)}function YO(n){const e=n[xn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function A_(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[xn].modified_&&(Hp(e),dr(4)),yi(n)&&(n=Rh(e,n),e.parent_||kh(e,n)),e.patches_&&Ys("Patches").generateReplacementPatches_(t[xn].base_,n,e.patches_,e.inversePatches_)):n=Rh(e,t,[]),Hp(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==IE?n:void 0}function Rh(n,e,t){if(hd(e))return e;const i=e[xn];if(!i)return Ah(e,(o,a)=>R_(n,i,e,o,a,t)),e;if(i.scope_!==n)return e;if(!i.modified_)return kh(n,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const o=i.copy_;let a=o,c=!1;i.type_===3&&(a=new Set(o),o.clear(),c=!0),Ah(a,(d,p)=>R_(n,i,o,d,p,t,c)),kh(n,o,!1),t&&n.patches_&&Ys("Patches").generatePatches_(i,t,n.patches_,n.inversePatches_)}return i.copy_}function R_(n,e,t,i,o,a,c){if(Xs(o)){const d=a&&e&&e.type_!==3&&!$p(e.assigned_,i)?a.concat(i):void 0,p=Rh(n,o,d);if(AE(t,i,p),Xs(p))n.canAutoFreeze_=!1;else return}else c&&t.add(o);if(yi(o)&&!hd(o)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;Rh(n,o),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&Object.prototype.propertyIsEnumerable.call(t,i)&&kh(n,o)}}function kh(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&lg(e,t)}function JO(n,e){const t=Array.isArray(n),i={type_:t?1:0,scope_:e?e.scope_:RE(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=i,a=ug;t&&(o=[i],a=Jl);const{revoke:c,proxy:d}=Proxy.revocable(o,a);return i.draft_=d,i.revoke_=c,d}var ug={get(n,e){if(e===xn)return n;const t=Fs(n);if(!$p(t,e))return ZO(n,t,e);const i=t[e];return n.finalized_||!yi(i)?i:i===cp(n.base_,e)?(hp(n),n.copy_[e]=Gp(i,n)):i},has(n,e){return e in Fs(n)},ownKeys(n){return Reflect.ownKeys(Fs(n))},set(n,e,t){const i=kE(Fs(n),e);if(i!=null&&i.set)return i.set.call(n.draft_,t),!0;if(!n.modified_){const o=cp(Fs(n),e),a=o==null?void 0:o[xn];if(a&&a.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(KO(t,o)&&(t!==void 0||$p(n.base_,e)))return!0;hp(n),Kp(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return cp(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,hp(n),Kp(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=Fs(n),i=Reflect.getOwnPropertyDescriptor(t,e);return i&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:i.enumerable,value:t[e]}},defineProperty(){dr(11)},getPrototypeOf(n){return wa(n.base_)},setPrototypeOf(){dr(12)}},Jl={};Ah(ug,(n,e)=>{Jl[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Jl.deleteProperty=function(n,e){return Jl.set.call(this,n,e,void 0)};Jl.set=function(n,e,t){return ug.set.call(this,n[0],e,t,n[0])};function cp(n,e){const t=n[xn];return(t?Fs(t):n)[e]}function ZO(n,e,t){var o;const i=kE(e,t);return i?"value"in i?i.value:(o=i.get)==null?void 0:o.call(n.draft_):void 0}function kE(n,e){if(!(e in n))return;let t=wa(n);for(;t;){const i=Object.getOwnPropertyDescriptor(t,e);if(i)return i;t=wa(t)}}function Kp(n){n.modified_||(n.modified_=!0,n.parent_&&Kp(n.parent_))}function hp(n){n.copy_||(n.copy_=Wp(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var eD=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,i)=>{if(typeof e=="function"&&typeof t!="function"){const a=t;t=e;const c=this;return function(p=a,...y){return c.produce(p,w=>t.call(this,w,...y))}}typeof t!="function"&&dr(6),i!==void 0&&typeof i!="function"&&dr(7);let o;if(yi(e)){const a=C_(this),c=Gp(e,void 0);let d=!0;try{o=t(c),d=!1}finally{d?Hp(a):qp(a)}return I_(a,i),A_(o,a)}else if(!e||typeof e!="object"){if(o=t(e),o===void 0&&(o=e),o===IE&&(o=void 0),this.autoFreeze_&&lg(o,!0),i){const a=[],c=[];Ys("Patches").generateReplacementPatches_(e,o,a,c),i(a,c)}return o}else dr(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(c,...d)=>this.produceWithPatches(c,p=>e(p,...d));let i,o;return[this.produce(e,t,(c,d)=>{i=c,o=d}),i,o]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){yi(n)||dr(8),Xs(n)&&(n=tD(n));const e=C_(this),t=Gp(n,void 0);return t[xn].isManual_=!0,qp(e),t}finishDraft(n,e){const t=n&&n[xn];(!t||!t.isManual_)&&dr(9);const{scope_:i}=t;return I_(i,e),A_(void 0,i)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const o=e[t];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}t>-1&&(e=e.slice(t+1));const i=Ys("Patches").applyPatches_;return Xs(n)?i(n,e):this.produce(n,o=>i(o,e))}};function Gp(n,e){const t=ud(n)?Ys("MapSet").proxyMap_(n,e):cd(n)?Ys("MapSet").proxySet_(n,e):JO(n,e);return(e?e.scope_:RE()).drafts_.push(t),t}function tD(n){return Xs(n)||dr(10,n),PE(n)}function PE(n){if(!yi(n)||hd(n))return n;const e=n[xn];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=Wp(n,e.scope_.immer_.useStrictShallowCopy_)}else t=Wp(n,!0);return Ah(t,(i,o)=>{AE(t,i,PE(o))}),e&&(e.finalized_=!1),t}var Nn=new eD,bE=Nn.produce;Nn.produceWithPatches.bind(Nn);Nn.setAutoFreeze.bind(Nn);Nn.setUseStrictShallowCopy.bind(Nn);Nn.applyPatches.bind(Nn);Nn.createDraft.bind(Nn);Nn.finishDraft.bind(Nn);function xE(n){return({dispatch:t,getState:i})=>o=>a=>typeof a=="function"?a(t,i,n):o(a)}var nD=xE(),rD=xE,iD=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ch:Ch.apply(null,arguments)};function k_(n,e){function t(...i){if(e){let o=e(...i);if(!o)throw new Error(hi(0));return{type:n,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:n,payload:i[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=i=>HO(i)&&i.type===n,t}var NE=class Pl extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Pl.prototype)}static get[Symbol.species](){return Pl}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Pl(...e[0].concat(this)):new Pl(...e.concat(this))}};function P_(n){return yi(n)?bE(n,()=>{}):n}function b_(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function sD(n){return typeof n=="boolean"}var oD=()=>function(e){const{thunk:t=!0,immutableCheck:i=!0,serializableCheck:o=!0,actionCreatorCheck:a=!0}=e??{};let c=new NE;return t&&(sD(t)?c.push(nD):c.push(rD(t.extraArgument))),c},aD="RTK_autoBatch",x_=n=>e=>{setTimeout(e,n)},lD=(n={type:"raf"})=>e=>(...t)=>{const i=e(...t);let o=!0,a=!1,c=!1;const d=new Set,p=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:x_(10):n.type==="callback"?n.queueNotification:x_(n.timeout),y=()=>{c=!1,a&&(a=!1,d.forEach(w=>w()))};return Object.assign({},i,{subscribe(w){const T=()=>o&&w(),I=i.subscribe(T);return d.add(w),()=>{I(),d.delete(w)}},dispatch(w){var T;try{return o=!((T=w==null?void 0:w.meta)!=null&&T[aD]),a=!o,a&&(c||(c=!0,p(y))),i.dispatch(w)}finally{o=!0}}})},uD=n=>function(t){const{autoBatch:i=!0}=t??{};let o=new NE(n);return i&&o.push(lD(typeof i=="object"?i:void 0)),o};function cD(n){const e=oD(),{reducer:t=void 0,middleware:i,devTools:o=!0,preloadedState:a=void 0,enhancers:c=void 0}=n||{};let d;if(typeof t=="function")d=t;else if(ag(t))d=$O(t);else throw new Error(hi(1));let p;typeof i=="function"?p=i(e):p=e();let y=Ch;o&&(y=iD({trace:!1,...typeof o=="object"&&o}));const w=WO(...p),T=uD(w);let I=typeof c=="function"?c(T):T();const x=y(...I);return SE(d,a,x)}function OE(n){const e={},t=[];let i;const o={addCase(a,c){const d=typeof a=="string"?a:a.type;if(!d)throw new Error(hi(28));if(d in e)throw new Error(hi(29));return e[d]=c,o},addMatcher(a,c){return t.push({matcher:a,reducer:c}),o},addDefaultCase(a){return i=a,o}};return n(o),[e,t,i]}function hD(n){return typeof n=="function"}function dD(n,e){let[t,i,o]=OE(e),a;if(hD(n))a=()=>P_(n());else{const d=P_(n);a=()=>d}function c(d=a(),p){let y=[t[p.type],...i.filter(({matcher:w})=>w(p)).map(({reducer:w})=>w)];return y.filter(w=>!!w).length===0&&(y=[o]),y.reduce((w,T)=>{if(T)if(Xs(w)){const x=T(w,p);return x===void 0?w:x}else{if(yi(w))return bE(w,I=>T(I,p));{const I=T(w,p);if(I===void 0){if(w===null)return w;throw Error("A case reducer on a non-draftable value must not return undefined")}return I}}return w},d)}return c.getInitialState=a,c}var fD=Symbol.for("rtk-slice-createasyncthunk");function pD(n,e){return`${n}/${e}`}function mD({creators:n}={}){var t;const e=(t=n==null?void 0:n.asyncThunk)==null?void 0:t[fD];return function(o){const{name:a,reducerPath:c=a}=o;if(!a)throw new Error(hi(11));typeof process<"u";const d=(typeof o.reducers=="function"?o.reducers(yD()):o.reducers)||{},p=Object.keys(d),y={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},w={addCase(W,B){const U=typeof W=="string"?W:W.type;if(!U)throw new Error(hi(12));if(U in y.sliceCaseReducersByType)throw new Error(hi(13));return y.sliceCaseReducersByType[U]=B,w},addMatcher(W,B){return y.sliceMatchers.push({matcher:W,reducer:B}),w},exposeAction(W,B){return y.actionCreators[W]=B,w},exposeCaseReducer(W,B){return y.sliceCaseReducersByName[W]=B,w}};p.forEach(W=>{const B=d[W],U={reducerName:W,type:pD(a,W),createNotation:typeof o.reducers=="function"};_D(B)?ED(U,B,w,e):vD(U,B,w)});function T(){const[W={},B=[],U=void 0]=typeof o.extraReducers=="function"?OE(o.extraReducers):[o.extraReducers],Q={...W,...y.sliceCaseReducersByType};return dD(o.initialState,A=>{for(let C in Q)A.addCase(C,Q[C]);for(let C of y.sliceMatchers)A.addMatcher(C.matcher,C.reducer);for(let C of B)A.addMatcher(C.matcher,C.reducer);U&&A.addDefaultCase(U)})}const I=W=>W,x=new Map;let N;function V(W,B){return N||(N=T()),N(W,B)}function M(){return N||(N=T()),N.getInitialState()}function K(W,B=!1){function U(A){let C=A[W];return typeof C>"u"&&B&&(C=M()),C}function Q(A=I){const C=b_(x,B,()=>new WeakMap);return b_(C,A,()=>{const k={};for(const[_,P]of Object.entries(o.selectors??{}))k[_]=gD(P,A,M,B);return k})}return{reducerPath:W,getSelectors:Q,get selectors(){return Q(U)},selectSlice:U}}const J={name:a,reducer:V,actions:y.actionCreators,caseReducers:y.sliceCaseReducersByName,getInitialState:M,...K(c),injectInto(W,{reducerPath:B,...U}={}){const Q=B??c;return W.inject({reducerPath:Q,reducer:V},U),{...J,...K(Q,!0)}}};return J}}function gD(n,e,t,i){function o(a,...c){let d=e(a);return typeof d>"u"&&i&&(d=t()),n(d,...c)}return o.unwrapped=n,o}var DE=mD();function yD(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function vD({type:n,reducerName:e,createNotation:t},i,o){let a,c;if("reducer"in i){if(t&&!wD(i))throw new Error(hi(17));a=i.reducer,c=i.prepare}else a=i;o.addCase(n,a).exposeCaseReducer(e,a).exposeAction(e,c?k_(n,c):k_(n))}function _D(n){return n._reducerDefinitionType==="asyncThunk"}function wD(n){return n._reducerDefinitionType==="reducerWithPrepare"}function ED({type:n,reducerName:e},t,i,o){if(!o)throw new Error(hi(18));const{payloadCreator:a,fulfilled:c,pending:d,rejected:p,settled:y,options:w}=t,T=o(n,a,w);i.exposeAction(e,T),c&&i.addCase(T.fulfilled,c),d&&i.addCase(T.pending,d),p&&i.addCase(T.rejected,p),y&&i.addMatcher(T.settled,y),i.exposeCaseReducer(e,{fulfilled:c||Uc,pending:d||Uc,rejected:p||Uc,settled:y||Uc})}function Uc(){}function hi(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}const TD={channelId:null,channelName:null},VE=DE({name:"channel",initialState:TD,reducers:{setChannelInfo:(n,e)=>{n.channelId=e.payload.channelId,n.channelName=e.payload.channelName}}}),{setChannelInfo:SD}=VE.actions,ID=VE.reducer;function CD(n){const{id:e,channel:t}=n,i=V_();return X.jsx("div",{className:"sidebar__channel",onClick:()=>i(SD({channelId:e,channelName:t.channel.channelName})),children:X.jsxs("h4",{children:[X.jsx("span",{className:"sidebar__channel-hash",children:"#"}),t.channel.channelName]})})}const AD=nn(X.jsx("path",{d:"M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3m5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72z"}),"Mic"),RD=nn(X.jsx("path",{d:"M12 3c-4.97 0-9 4.03-9 9v7c0 1.1.9 2 2 2h4v-8H5v-1c0-3.87 3.13-7 7-7s7 3.13 7 7v1h-4v8h4c1.1 0 2-.9 2-2v-7c0-4.97-4.03-9-9-9"}),"Headphones"),kD=nn(X.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings"),PD=n=>{const[e,t]=ae.useState([]),i=Uw(rd(ad,n));return ae.useEffect(()=>{Ww(i,o=>{const a=[];o.docs.forEach(c=>{a.push({id:c.id,channel:c.data()})}),t(a)})},[]),{documents:e}},bD=()=>{const n=na(i=>i.user.user),{documents:e}=PD("channels"),t=async()=>{const i=prompt("");i&&await $w(rd(ad,"channels"),{channelName:i})};return X.jsx(X.Fragment,{children:X.jsxs("div",{className:"sidebar",children:[X.jsxs("div",{className:"sidebar__left",children:[X.jsx("div",{className:"sidebar__icon",children:X.jsx("img",{src:"./discordIcon.png",alt:""})}),X.jsx("div",{className:"sidebar__icon",children:X.jsx("img",{src:"./icon.png",alt:""})})]}),X.jsxs("div",{className:"sidebar__right",children:[X.jsxs("div",{className:"sidebar__top",children:[X.jsx("h3",{children:"Discord"}),X.jsx(E_,{})]}),X.jsx("div",{className:"sidebar__channels",children:X.jsxs("div",{className:"sidebar__channels-header",children:[X.jsxs("div",{className:"sidebar__header",children:[X.jsx(E_,{}),X.jsx("h4",{children:""})]}),X.jsx(UO,{className:"sidebar__add",onClick:()=>t()})]})}),X.jsx("div",{className:"sidebar__channel-list",children:e.map(i=>X.jsx(CD,{channel:i,id:i.id},i.id))}),X.jsxs("div",{className:"sidebar__footer",children:[X.jsxs("div",{className:"sidebar__account",children:[X.jsx("img",{src:n==null?void 0:n.photo,alt:"",onClick:()=>og.signOut()}),X.jsxs("div",{className:"sidebar__account-name",children:[X.jsx("h4",{children:n==null?void 0:n.displayName}),X.jsxs("span",{children:["#",n==null?void 0:n.uid.substring(0,4)]})]})]}),X.jsxs("div",{className:"sidebar__voice",children:[X.jsx(AD,{}),X.jsx(RD,{}),X.jsx(kD,{})]})]})]})]})})},xD={user:null},ME=DE({name:"user",initialState:xD,reducers:{login:(n,e)=>{n.user=e.payload},logout:n=>{n.user=null}}}),{login:ND,logout:OD}=ME.actions,DD=ME.reducer;function VD(){const n=na(t=>t.user.user),e=V_();return ae.useEffect(()=>{og.onAuthStateChanged(t=>{e(t?ND({uid:t.uid,photo:t.photoURL,email:t.email,displayName:t.displayName}):OD())})},[e]),X.jsx(X.Fragment,{children:X.jsx("div",{className:"App",children:n?X.jsxs(X.Fragment,{children:[X.jsx(bD,{}),X.jsx(LO,{})]}):X.jsx(X.Fragment,{children:X.jsx(FO,{})})})})}const MD=cD({reducer:{user:DD,channel:ID}});JT.createRoot(document.getElementById("root")).render(X.jsx(ae.StrictMode,{children:X.jsx(mS,{store:MD,children:X.jsx(VD,{})})}));
